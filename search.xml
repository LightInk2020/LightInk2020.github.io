<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>åšå®¢åŸºæœ¬è®¾ç½®ä¸ç¾åŒ–</title>
      <link href="2022/01/04/blog01/"/>
      <url>2022/01/04/blog01/</url>
      
        <content type="html"><![CDATA[<h1 id="åšå®¢åŸºæœ¬è®¾ç½®ä¸ç¾åŒ–"><a href="#åšå®¢åŸºæœ¬è®¾ç½®ä¸ç¾åŒ–" class="headerlink" title="åšå®¢åŸºæœ¬è®¾ç½®ä¸ç¾åŒ–"></a>åšå®¢åŸºæœ¬è®¾ç½®ä¸ç¾åŒ–</h1><h2 id="ä¸°å¯ŒèƒŒæ™¯æ ·å¼"><a href="#ä¸°å¯ŒèƒŒæ™¯æ ·å¼" class="headerlink" title="ä¸°å¯ŒèƒŒæ™¯æ ·å¼"></a>ä¸°å¯ŒèƒŒæ™¯æ ·å¼</h2><h3 id="æµ®å±‚æ ·å¼é›†åˆ"><a href="#æµ®å±‚æ ·å¼é›†åˆ" class="headerlink" title="æµ®å±‚æ ·å¼é›†åˆ"></a>æµ®å±‚æ ·å¼é›†åˆ</h3><p>ï¼ˆèŠ±ç“£é£˜è½ã€æ–‡å­—ï¼Œçˆ±å¿ƒï¼Œè¿çº¿ï¼Œé£˜åŠ¨çš„å½©å¸¦ï¼‰</p><p>ä¿®æ”¹ä¸»é¢˜æ–‡ä»¶å¤¹ä¸‹çš„ \layout\_partial ç›®å½•ä¸­çš„ <strong>footer.ejs</strong></p><span id="more"></span><blockquote><p>è¯´æ˜ï¼šåŠ åœ¨footerè€Œä¸æ˜¯<a href="https://so.csdn.net/so/search?q=header">header</a>æ˜¯æé«˜é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œ<br>ä»¥ä¸‹<a href="https://so.csdn.net/so/search?q=cdn">cdn</a>éƒ½å¼•ç”¨äº<a href="https://wallleap.cn/">walllweap</a>å¤§ç¥çš„<a href="https://github.com/wallleap/cdn">ç´ æåº“</a></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--æµè§ˆå™¨æç¬‘æ ‡é¢˜--&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;wallleap&#x2F;cdn@latest&#x2F;js&#x2F;hititle.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;!-- ğŸŒ¸é£˜è½ --&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;wallleap&#x2F;cdn@latest&#x2F;js&#x2F;sakura.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;!-- é›ªèŠ±é£˜è½ --&gt;</span><br><span class="line">&lt;!-- &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;Yafine&#x2F;cdn@2.5&#x2F;source&#x2F;js&#x2F;snow1.js&quot;&gt;&lt;&#x2F;script&gt; --&gt;</span><br><span class="line">&lt;!-- &#x2F;&#x2F; æ–‡å­— --&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;wallleap&#x2F;cdn&#x2F;js&#x2F;shehuizhuyi.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;!-- &#x2F;&#x2F; çƒŸèŠ± --&gt;</span><br><span class="line">&lt;canvas class&#x3D;&quot;fireworks&quot; style&#x3D;&quot;position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;&quot; &gt;&lt;&#x2F;canvas&gt; </span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;&#x2F;&#x2F;cdn.bootcss.com&#x2F;animejs&#x2F;2.2.0&#x2F;anime.min.js&quot;&gt;&lt;&#x2F;script&gt; </span><br><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;Yafine&#x2F;cdn@2.5&#x2F;source&#x2F;js&#x2F;fireworks.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;!-- &#x2F;&#x2F; æ˜Ÿæ˜Ÿè·Ÿéšå è½ --&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;cungudafa&#x2F;cdn@2.1.2&#x2F;js&#x2F;cursor.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;!-- &#x2F;&#x2F; çˆ±å¿ƒ --&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;wallleap&#x2F;cdn&#x2F;js&#x2F;love.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;!-- &#x2F;&#x2F; è¿çº¿ --&gt;</span><br><span class="line">&lt;!-- &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;wallleap&#x2F;cdn&#x2F;js&#x2F;canvas-nest.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;https:&#x2F;&#x2F;cdn.bootcss.com&#x2F;canvas-nest.js&#x2F;1.0.1&#x2F;canvas-nest.min.js&quot;&gt;&lt;&#x2F;script&gt; --&gt;</span><br><span class="line">&lt;!-- æ ·å¼äºŒï¼ˆé£˜åŠ¨çš„å½©å¸¦ï¼‰ --&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;wallleap&#x2F;cdn@latest&#x2F;js&#x2F;piao.js&quot; type&#x3D;&quot;text&#x2F;javascript&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;!--èƒŒæ™¯åˆ‡æ¢--&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;&#x2F;&#x2F;instant.page&#x2F;3.0.0&quot; type&#x3D;&quot;module&quot; defer integrity&#x3D;&quot;sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><h3 id="è®¾ç½®èƒŒæ™¯å›¾ç‰‡"><a href="#è®¾ç½®èƒŒæ™¯å›¾ç‰‡" class="headerlink" title="è®¾ç½®èƒŒæ™¯å›¾ç‰‡"></a>è®¾ç½®èƒŒæ™¯å›¾ç‰‡</h3><p>å°†æƒ³è¦çš„èƒŒæ™¯å›¾ç‰‡æ”¾å…¥ themes/next/source/imagesã€‚æ‰“å¼€ themes/next/source/css/ _custom/custom.styl æ–‡ä»¶ï¼Œè¿™ä¸ªæ˜¯ Next æ•…æ„ç•™ç»™ç”¨æˆ·è‡ªå·±ä¸ªæ€§åŒ–å®šåˆ¶ä¸€äº›æ ·å¼çš„æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç å³å¯ã€‚</p><p>å®é™…ä¸Šæˆ‘çš„ç‰ˆæœ¬é‡Œæ²¡æœ‰_customï¼Œé€šè¿‡æ–°å»ºç›®å½•æ— æ³•å®ç°ã€‚æˆ‘æ˜¯åœ¨ themes/next/source/css/_schemes/Gemini/index.styl ä¸­æ·»åŠ çš„ä»£ç ï¼ŒGeminiæ˜¯æˆ‘çš„ next çš„å¸ƒå±€æ ·å¼ã€‚</p><p>åœ¨å†™è¿™ç¯‡åšå®¢çš„è¿‡ç¨‹ä¸­ï¼Œåˆå°è¯•äº†ä¸‹å°†ä»£ç æ·»åŠ åˆ° blog_root/source/_data/styles.style ä¸‹ï¼Œè®¾ç½®æˆåŠŸã€‚å¦‚æœæ²¡æœ‰è¿™ä¸ªç›®å½•ï¼Œç›´æ¥æ–°å»ºå³å¯ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="built_in">url</span>(<span class="string">/images/yourbackground.jpg</span>);</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    <span class="attribute">background-attachment</span>:fixed; //ä¸é‡å¤</span><br><span class="line">    <span class="attribute">background-size</span>: cover;      //å¡«å……</span><br><span class="line">    <span class="attribute">background-position</span>:<span class="number">50%</span> <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>background:url ä¸ºå›¾ç‰‡è·¯å¾„ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨é“¾æ¥ã€‚</li><li>background-repeatï¼šè‹¥æœèƒŒæ™¯å›¾ç‰‡ä¸èƒ½å…¨å±ï¼Œé‚£ä¹ˆæ˜¯å¦å¹³é“ºæ˜¾ç¤ºï¼Œå……æ»¡å±å¹•</li><li>background-attachmentï¼šèƒŒæ™¯æ˜¯å¦éšç€ç½‘é¡µä¸Šä¸‹æ»šåŠ¨è€Œæ»šåŠ¨ï¼Œfixed ä¸ºå›ºå®š</li><li>background-sizeï¼šå›¾ç‰‡å±•ç¤ºå¤§å°ï¼Œè¿™é‡Œè®¾ç½® 100%ï¼Œ100% çš„æ„ä¹‰ä¸ºï¼šå¦‚æœèƒŒæ™¯å›¾ç‰‡ä¸èƒ½å…¨å±ï¼Œé‚£ä¹ˆæ˜¯å¦é€šè¿‡æ‹‰ä¼¸çš„æ–¹å¼å°†èƒŒæ™¯å¼ºåˆ¶æ‹‰ä¼¸è‡³å…¨å±æ˜¾ç¤ºã€‚</li></ul><h3 id="åšå®¢å†…å®¹é€æ˜åŒ–"><a href="#åšå®¢å†…å®¹é€æ˜åŒ–" class="headerlink" title="åšå®¢å†…å®¹é€æ˜åŒ–"></a>åšå®¢å†…å®¹é€æ˜åŒ–</h3><p>NexT ä¸»é¢˜çš„åšå®¢æ–‡ç« å‡æ˜¯ä¸é€æ˜çš„ï¼Œè¿™æ ·è¯»è€…å°±ä¸èƒ½å¥½å¥½æ¬£èµèƒŒæ™¯å›¾ç‰‡äº†ï¼Œä¸‹é¢çš„æ–¹æ³•å¯ä»¥ä½¿åšå®¢å†…å®¹é€æ˜åŒ–ï¼š</p><p>åœ¨ blog_root/source/_data/styles.style ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//åšå®¢å†…å®¹é€æ˜åŒ–</span><br><span class="line">//æ–‡ç« å†…å®¹çš„é€æ˜åº¦è®¾ç½®</span><br><span class="line"><span class="selector-class">.content-wrap</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.9</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//ä¾§è¾¹æ¡†çš„é€æ˜åº¦è®¾ç½®</span><br><span class="line"><span class="selector-class">.sidebar</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.9</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//èœå•æ çš„é€æ˜åº¦è®¾ç½®</span><br><span class="line"><span class="selector-class">.header-inner</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.9</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//æœç´¢æ¡†ï¼ˆlocal-searchï¼‰çš„é€æ˜åº¦è®¾ç½®</span><br><span class="line"><span class="selector-class">.popup</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.9</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šå…¶ä¸­ header-inner ä¸èƒ½ä½¿ç”¨ opacity è¿›è¡Œé…ç½®ã€‚å› ä¸º header-inner åŒ…å« header.swig ä¸­çš„æ‰€æœ‰å†…å®¹ã€‚è‹¥ä½¿ç”¨ opacity è¿›è¡Œé…ç½®ï¼Œå­ç»“ç‚¹ä¼šå‡ºå¾ˆå¤šé—®é¢˜ã€‚</p><h2 id="è®¾ç½®æ–‡ç« æœ«å°¾â€œæœ¬æ–‡ç»“æŸâ€æ ‡è®°"><a href="#è®¾ç½®æ–‡ç« æœ«å°¾â€œæœ¬æ–‡ç»“æŸâ€æ ‡è®°" class="headerlink" title="è®¾ç½®æ–‡ç« æœ«å°¾â€œæœ¬æ–‡ç»“æŸâ€æ ‡è®°"></a>è®¾ç½®æ–‡ç« æœ«å°¾â€œæœ¬æ–‡ç»“æŸâ€æ ‡è®°</h2><p>åœ¨è·¯å¾„/themes/next/layout/_macro ä¸­æ–°å»º passage-end-tag.swig æ–‡ä»¶,å¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span>&gt;</span><br><span class="line">    &#123;% if not is_index %&#125;</span><br><span class="line">        &lt;div style=&quot;text-align:center;color: #ccc;font-size:24px;&quot;&gt;-------------æœ¬æ–‡ç»“æŸ&lt;i class=&quot;fa fa-paw&quot;&gt;&lt;/i&gt;æ„Ÿè°¢æ‚¨çš„é˜…è¯»-------------&lt;/div&gt;</span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">&lt;/<span class="selector-tag">div</span>&gt;</span><br></pre></td></tr></table></figure><p>æ¥ç€æ‰“å¼€/themes/next/layout/_macro/post.swigæ–‡ä»¶ï¼Œåœ¨post-footerå‰æ·»åŠ ä»£ç ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if not is_index and theme<span class="selector-class">.passage_end_tag</span><span class="selector-class">.enabled</span> %&#125;</span><br><span class="line">  &lt;<span class="selector-tag">div</span>&gt;</span><br><span class="line">    &#123;% include &#x27;passage-end-tag.swig&#x27; %&#125;</span><br><span class="line">  &lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>å…·ä½“ä½ç½®å¦‚ä¸‹å›¾ï¼š</p><p><img src="/2022/01/04/blog01/v2-a449da45307774c93857b03b6585a0b7_720w.jpg" alt="å…·ä½“ä½ç½®"></p><p>ç„¶åæ‰“å¼€<strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong>ï¼ˆ_config.yml)ï¼Œåœ¨æœ«å°¾æ·»åŠ ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># æ–‡ç« æœ«å°¾æ·»åŠ â€œæœ¬æ–‡ç»“æŸâ€æ ‡è®°</span><br><span class="line">passage_end_tag:</span><br><span class="line">  enabled: true</span><br></pre></td></tr></table></figure><h2 id="è®¾ç½®æ–‡æœ¬æ¡†çš„è¾¹è§’å¼§åº¦"><a href="#è®¾ç½®æ–‡æœ¬æ¡†çš„è¾¹è§’å¼§åº¦" class="headerlink" title="è®¾ç½®æ–‡æœ¬æ¡†çš„è¾¹è§’å¼§åº¦"></a>è®¾ç½®æ–‡æœ¬æ¡†çš„è¾¹è§’å¼§åº¦</h2><p>åœ¨<code>Blog/source/_data</code>ç›®å½•ä¸‹æ–°å»º<code>variables.styl</code> ï¼Œæ‰“å¼€<code>variables.styl</code>ï¼Œæ·»åŠ å¦‚ä¸‹ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// åœ†è§’è®¾ç½®</span><br><span class="line">$border-radius-inner     = 20px 20px 20px 20px;</span><br><span class="line">$border-radius           = 20px;</span><br></pre></td></tr></table></figure><h2 id="è®¾ç½®æ–‡æœ¬æ¡†çš„é˜´å½±"><a href="#è®¾ç½®æ–‡æœ¬æ¡†çš„é˜´å½±" class="headerlink" title="è®¾ç½®æ–‡æœ¬æ¡†çš„é˜´å½±"></a>è®¾ç½®æ–‡æœ¬æ¡†çš„é˜´å½±</h2><p>ä¿®æ”¹Blog\themes\next\source\css_variablesç›®å½•ä¸‹çš„Gemini.stylæ–‡ä»¶ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// Borders.</span><br><span class="line">// --------------------------------------------------</span><br><span class="line">$box-shadow-inner        = 0 2px 10px 0 rgba(0, 0, 0, .12), 0 3px 10px -2px rgba(0, 0, 0, .06), 0 1px 10px 0 rgba(0, 0, 0, .12);</span><br><span class="line">$box-shadow              = 0 2px 10px 0 rgba(0, 0, 0, .12), 0 3px 10px -2px rgba(0, 0, 0, .06), 0 1px 10px 0 rgba(0, 0, 0, .12), 0 -1px 10px 0 rgba(0, 0, 0, .09);</span><br></pre></td></tr></table></figure><h2 id="åœ¨é¡µé¢é¦–éƒ¨æ·»åŠ ç½®é¡¶å›¾æ¡ˆ"><a href="#åœ¨é¡µé¢é¦–éƒ¨æ·»åŠ ç½®é¡¶å›¾æ¡ˆ" class="headerlink" title="åœ¨é¡µé¢é¦–éƒ¨æ·»åŠ ç½®é¡¶å›¾æ¡ˆ"></a>åœ¨é¡µé¢é¦–éƒ¨æ·»åŠ ç½®é¡¶å›¾æ¡ˆ</h2><h2 id="ä¿®æ”¹ä¸»é¢˜é¢œè‰²"><a href="#ä¿®æ”¹ä¸»é¢˜é¢œè‰²" class="headerlink" title="ä¿®æ”¹ä¸»é¢˜é¢œè‰²"></a>ä¿®æ”¹ä¸»é¢˜é¢œè‰²</h2><p>æ‰“å¼€<code>Blog/themes/next/source/css/_variables/base.styl</code>ï¼Œæ‰¾åˆ°Colorsä»£ç æ®µï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Colors</span></span><br><span class="line"><span class="comment">// colors for use across theme.</span></span><br><span class="line"><span class="comment">// --------------------------------------------------</span></span><br><span class="line">  <span class="variable">$whitesmoke</span>   = <span class="number">#f5f5f5</span></span><br><span class="line">  <span class="variable">$gainsboro</span>    = <span class="number">#eee</span>  <span class="comment">//è¿™ä¸ªæ˜¯è¾¹æ å¤´åƒå¤–æ¡†çš„é¢œè‰²ï¼Œ</span></span><br><span class="line">  <span class="variable">$gray</span>-lighter = <span class="number">#ddd</span>  <span class="comment">//æ–‡ç« ä¸­æ’å…¥å›¾ç‰‡è¾¹æ¡†é¢œè‰²</span></span><br><span class="line">  <span class="variable">$grey</span>-light   = <span class="number">#ccc</span>  <span class="comment">//æ–‡ç« ä¹‹é—´åˆ†å‰²çº¿ã€ä¸‹åˆ’çº¿é¢œè‰²</span></span><br><span class="line">  <span class="variable">$grey</span>         = <span class="number">#bbb</span>  <span class="comment">//é¡µé¢é€‰ä¸­åœ†ç‚¹é¢œè‰²</span></span><br><span class="line">  <span class="variable">$grey</span>-dark    = <span class="number">#999</span></span><br><span class="line">  <span class="variable">$grey</span>-dim     = <span class="number">#666</span> <span class="comment">//ä¾§è¾¹æ ç›®å½•å­—ä½“é¢œè‰²</span></span><br><span class="line">  <span class="variable">$black</span>-light  = <span class="number">#555</span> <span class="comment">//ä¿®æ”¹æ–‡ç« å­—ä½“é¢œè‰²</span></span><br><span class="line">  <span class="variable">$black</span>-dim    = <span class="number">#333</span></span><br><span class="line">  <span class="variable">$black</span>-deep   = <span class="number">#495a80</span>  <span class="comment">//ä¿®æ”¹ä¸»é¢˜çš„é¢œè‰²ï¼Œè¿™é‡Œæˆ‘å·²ç»æ”¹æˆè€è“è‰²äº†ã€‚</span></span><br><span class="line">  <span class="variable">$red</span>          = <span class="number">#ff2a2a</span></span><br><span class="line">  <span class="variable">$blue</span>-bright  = <span class="number">#87daff</span></span><br><span class="line">  <span class="variable">$blue</span>         = <span class="number">#0684bd</span></span><br><span class="line">  <span class="variable">$blue</span>-deep    = <span class="number">#262a30</span></span><br><span class="line">  <span class="variable">$orange</span>       = <span class="number">#F39D01</span> <span class="comment">//æµè§ˆæ–‡ç« æ—¶ï¼Œç›®å½•é€‰ä¸­çš„é¢œè‰²</span></span><br></pre></td></tr></table></figure><p>å…¶ä»–çš„å¯ä»¥è‡ªè¡Œæ›´æ”¹ï¼Œçœ‹çœ‹æ•ˆæœ</p><h2 id="ä¿®æ”¹ä¸»é¢˜å­—ä½“"><a href="#ä¿®æ”¹ä¸»é¢˜å­—ä½“" class="headerlink" title="ä¿®æ”¹ä¸»é¢˜å­—ä½“"></a>ä¿®æ”¹ä¸»é¢˜å­—ä½“</h2><p>ä¿®æ”¹ä¸»é¢˜_config.ymlæ–‡ä»¶ä¸­fontéƒ¨åˆ†ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">font:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="string">ture</span>  <span class="comment"># æ˜¯å¦å¯ç”¨</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Uri of fonts host, e.g. https://fonts.googleapis.com (Default).</span></span><br><span class="line">  <span class="attr">host:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Font options:</span></span><br><span class="line">  <span class="comment"># `external: true` will load this font family from `host` above.</span></span><br><span class="line">  <span class="comment"># `family: Times New Roman`. Without any quotes.</span></span><br><span class="line">  <span class="comment"># `size: x.x`. Use `em` as unit. Default: 1 (16px)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Global font settings used for all elements inside &lt;body&gt;.</span></span><br><span class="line">  <span class="attr">global:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">family:</span> <span class="string">Noto</span> <span class="string">Serif</span> <span class="string">SC</span>  <span class="comment"># å­—ä½“æ ·å¼</span></span><br><span class="line">    <span class="attr">size:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Font settings for site title (.site-title).</span></span><br><span class="line">  <span class="attr">title:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">family:</span> <span class="string">Zhi</span> <span class="string">Mang</span> <span class="string">Xing</span></span><br><span class="line">    <span class="attr">size:</span> <span class="number">2.3</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Font settings for headlines (&lt;h1&gt; to &lt;h6&gt;).</span></span><br><span class="line">  <span class="attr">headings:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">family:</span> <span class="string">Noto</span> <span class="string">Serif</span> <span class="string">SC</span></span><br><span class="line">    <span class="attr">size:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Font settings for posts (.post-body).</span></span><br><span class="line">  <span class="attr">posts:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">family:</span> <span class="string">Noto</span> <span class="string">Serif</span> <span class="string">SC</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Font settings for &lt;code&gt; and code blocks.</span></span><br><span class="line">  <span class="attr">codes:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">family:</span> <span class="string">Source</span> <span class="string">Code</span> <span class="string">Pro</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åšå®¢ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åšå®¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®åº“ç­”ç–‘</title>
      <link href="2021/06/13/sjkdy/"/>
      <url>2021/06/13/sjkdy/</url>
      
        <content type="html"><![CDATA[<h2 id="æ•°æ®åº“ç­”ç–‘çŸ¥è¯†ç‚¹æ±‡æ€»"><a href="#æ•°æ®åº“ç­”ç–‘çŸ¥è¯†ç‚¹æ±‡æ€»" class="headerlink" title="æ•°æ®åº“ç­”ç–‘çŸ¥è¯†ç‚¹æ±‡æ€»"></a>æ•°æ®åº“ç­”ç–‘çŸ¥è¯†ç‚¹æ±‡æ€»</h2><h3 id="å¤šè¡¨è¿æ¥"><a href="#å¤šè¡¨è¿æ¥" class="headerlink" title="å¤šè¡¨è¿æ¥"></a>å¤šè¡¨è¿æ¥</h3><ul><li><p>order by å¯ä»¥ä½¿ç”¨selectä½¿ç”¨åˆ«åä¹‹å‰çš„åå­—</p></li><li><p>é™¤äº†fromä»¥å¤–ï¼Œå…¶ä»–è¯­å¥ç”¨çš„éƒ½æ˜¯ä¸€ä¸ªè¡¨ï¼ˆfromåˆæˆåçš„è¡¨ï¼‰ã€‚fromçš„ä½œç”¨å°±æ˜¯ä¸²èµ·æ¥å…¶ä»–çš„è¡¨ã€‚</p></li><li><p>å¤šè¡¨è¿æ¥çš„ä¸¤ç§æ–¹æ³•</p><span id="more"></span><ul><li><p>join</p></li><li><p>â€˜ , â€˜        æœ¬è´¨ï¼šç¬›å¡å°”ä¹˜ç§¯</p><ul><li><p><code>from emp,dept</code></p><p><code>where emp.deptno=dept.deptno</code></p><blockquote><p>ç¼ºç‚¹ï¼š</p><p>â€‹    1ã€ä¸æ˜“åˆ†è¾¨æ‹¼æ¥è¯­å¥å’Œå…¶ä»–æ¡ä»¶è¯­å¥</p><p>â€‹    2ã€ä¸èƒ½å®ç°å¤–è¿æ¥åŠŸèƒ½</p><p>ä¼˜ç‚¹ï¼š</p><p>â€‹    1ã€ç”¨ä»£ç å®ç°å¥½å®ç°</p></blockquote></li></ul></li></ul></li><li><p>å†…è¿æ¥ï¼šè¿æ¥ç»“æœä¸­åªåŒ…å«æ»¡è¶³è¿æ¥æ¡ä»¶çš„</p></li><li><p>å¤–è¿æ¥ï¼šåœ¨å†…è¿æ¥åŸºç¡€ä¸Šå°†æŸäº›æœªæ»¡è¶³è¿æ¥æ¡ä»¶çš„è¿æ¥ç»“æœä¹ŸåŒ…å«åœ¨å†…</p><ul><li>left ï¼ˆouterï¼‰ join            right ï¼ˆouterï¼‰ join</li><li>æ²¡æœ‰ç›´æ¥outer joinè¿™ç§è¡¨ç¤ºæ–¹æ³•ï¼Œç”¨full (outer) joinè¡¨ç¤ºå…¨è¿æ¥</li></ul></li><li><p>å¤šè¡¨è¿æ¥ï¼Œå®é™…å°±æ˜¯è¿›è¡Œå¤šæ¬¡åŒè¡¨è¿æ¥</p></li><li><p>èµ·åˆ«å</p><ul><li>å¯¹è¡¨èµ·åˆ«å</li><li>å¯¹åˆ—èµ·åˆ«å</li><li>å¯¹è¡¨è¡¨è¾¾å¼èµ·åˆ«åï¼ˆsqlè¯­å¥  ä¸€å®šæœ‰selectï¼‰</li></ul><blockquote><p>from emp join dept on emp.deptno=dept.deptno   as  tab   âŒ</p></blockquote></li><li><p>å¤–è¿æ¥è¦ä¸€è·¯èµ°åˆ°é»‘</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> Employee_id,EMPLOYEES.Department_id</span><br><span class="line"><span class="keyword">from</span> EMPLOYEES <span class="keyword">full</span> <span class="keyword">join</span> DEPARTMENTS</span><br><span class="line">    <span class="keyword">on</span> EMPLOYEES.Department_id<span class="operator">=</span>DEPARTMENTS.Department_id</span><br><span class="line">    <span class="keyword">full</span> <span class="keyword">join</span> JOBS </span><br><span class="line">    <span class="keyword">on</span> EMPLOYEES.Salary<span class="operator">&gt;=</span>JOBS.Min_salary <span class="keyword">and</span> EMPLOYEES.Salary<span class="operator">&lt;=</span>Max_salary</span><br></pre></td></tr></table></figure><p>å¦‚æœ<code>full join JOBS </code>æ”¹ä¸º<code>join JOBS</code>ï¼Œä¼šå¯¼è‡´éƒ¨åˆ†è¡Œä¸¢å¤±ï¼Œå°±æ²¡æœ‰è¾¾åˆ°æˆ‘ä»¬ä¿ç•™æ‰€æœ‰è¡Œçš„ç›®çš„ã€‚</p></li><li><p>null å‚ä¸çš„è¿ç®—ç»“æœéƒ½æ˜¯unknown</p><p>ä¾‹ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> Department_id,Department_name,Location_id</span><br><span class="line"><span class="keyword">from</span> DEPARTMENTS</span><br><span class="line"><span class="keyword">where</span> Department_id <span class="keyword">not</span> <span class="keyword">in</span> (<span class="number">20</span>,<span class="number">30</span>)</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼š</p><p><img src="/2021/06/13/sjkdy/image-20210612234531893.png" alt="image-20210612234531893"></p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> Department_id,Department_name,Location_id</span><br><span class="line"><span class="keyword">from</span> DEPARTMENTS</span><br><span class="line"><span class="keyword">where</span> Department_id <span class="keyword">not</span> <span class="keyword">in</span> (<span class="number">20</span>,<span class="number">30</span>,<span class="keyword">null</span>)</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼š</p><p><img src="/2021/06/13/sjkdy/image-20210612234610657-1623512773526.png" alt="image-20210612234610657"></p></blockquote><blockquote><p>è§£é‡Šï¼š</p><p>æ•°æ®åº“ç®¡ç†ç³»ç»Ÿåœ¨æ‰§è¡ŒæŸ¥è¯¢ä¹‹å‰ï¼Œä¼šå¯¹<code>Department_id not in (20,30,null)</code>è¿›è¡Œç®€å•çš„è½¬åŒ–ï¼Œè½¬åŒ–ä¹‹åçš„è¯­å¥ä¸º<code>Department_id != 2 and Department_id != null</code>ã€‚Department_id != nullçš„ç»“æœæ˜¯(énullæ—¶)unknown /ï¼ˆnullæ—¶ï¼‰falseã€‚</p></blockquote></li></ul><h3 id="case"><a href="#case" class="headerlink" title="case"></a>case</h3><ul><li><p>sqlä¸­ åˆ—åã€nvl(sal,0)ã€(select count(*) from emp)ã€case when   end  ç­‰è¿”å›ä¸€ä¸ªå€¼çš„éƒ½æ˜¯è¡¨è¾¾å¼ï¼Œç„¶åéƒ½å¯ä»¥å‡ºç°åœ¨caseä¸­</p></li><li><p>caseä½œç”¨ï¼šç±»ä¼¼Cä¸­switch     ç”¨æ¥åˆ†æ”¯åˆ¤æ–­</p></li><li><p>selectè¯­å¥ä½œç”¨ï¼š</p><ul><li>select h1,h2  <strong>é€è¡Œ</strong>è¿ç®—è¡¨è¾¾å¼   é€šè¿‡å¯¹è¾“å…¥çš„è¡¨è¿›è¡Œé€è¡Œè¿ç®—<ul><li>è¾“å…¥å¤šå°‘è¡Œï¼Œå°±è¾“å‡ºå¤šå°‘è¡Œ</li><li>select 1 from emp   è¾“å‡ºempçš„è¡Œæ•°ä¸ªå€¼ä¸º1çš„è¡Œ</li></ul></li></ul></li><li><p>caseçš„ä¸¤ç§å½¢å¼</p><ul><li>case  åˆ—å  when æ ‡é‡ then â€¦end</li><li>case when è¡¨è¾¾å¼  then â€¦end</li></ul></li></ul><h3 id="ç›¸å…³å­æŸ¥è¯¢"><a href="#ç›¸å…³å­æŸ¥è¯¢" class="headerlink" title="ç›¸å…³å­æŸ¥è¯¢"></a>ç›¸å…³å­æŸ¥è¯¢</h3><ul><li><p>åˆ¤æ–­æ˜¯å¦ç›¸å…³ï¼Ÿ</p><ul><li>å­æŸ¥è¯¢æ˜¯å¦å¯ä»¥ç‹¬ç«‹è¿è¡Œ</li><li>åµŒå¥—çš„å­æŸ¥è¯¢æ˜¯å¦ç”¨åˆ°äº†å¤–éƒ¨æŸ¥è¯¢è¯­å¥ä¸­çš„è¡¨æˆ–é‡å‘½åçš„è¡¨</li></ul></li><li><p>ç›¸å…³å­æŸ¥è¯¢æœ¬è´¨ï¼šå¯¹å¤–éƒ¨è¡¨çš„æ¯ä¸€è¡Œä¾æ­¤è¿›è¡Œæ‰§è¡Œselectå­æŸ¥è¯¢</p><ul><li>ç±»ä¼¼åŒé‡å¾ªç¯ï¼Œåªä¸è¿‡å†…éƒ¨å¾ªç¯ä½¿ç”¨å¤–éƒ¨å¾ªç¯çš„å˜é‡</li></ul></li><li><p>ä¸ç›¸å…³å­æŸ¥è¯¢æ‰§è¡Œé¡ºåº</p><ul><li>å½“å¤–å±‚æŸ¥è¯¢æ‰§è¡Œåˆ°å­æŸ¥è¯¢ä½ç½®æ—¶ï¼Œå­æŸ¥è¯¢å·²ç»è¿›è¡Œå®Œæˆå¹¶å°†ç»“æœï¼ˆæ ‡é‡ï¼‰è¿”å›ç»™å¤–æŸ¥è¯¢</li></ul></li></ul><h3 id="not-exists"><a href="#not-exists" class="headerlink" title="not exists"></a>not exists</h3><ul><li><p>å°±æ˜¯ä¸€ä¸ªå‡½æ•° è¿”å›true/false</p></li><li><p>exists(æ‹¬å·å†…ä¸€èˆ¬æ˜¯è¡¨è¡¨è¾¾å¼ï¼ˆå³é›†åˆã€selectè¯­å¥ï¼Œä¸€èˆ¬æ˜¯ç›¸å…³å­æŸ¥è¯¢)ï¼‰</p><ul><li>è¾“å…¥é›†åˆæœ‰å€¼ï¼šè¿”å›trueï¼Œ æ²¡å€¼ï¼šfalse</li><li>å¦‚æœæ˜¯  exists(selectè¿”å›å€¼æ˜¯ä¸€è¡Œï¼Œä½†æ˜¯å…¶å€¼ä¸ºnull)  ï¼Ÿä¹Ÿæ˜¯æœ‰å€¼ï¼Œè¿”å›true</li></ul></li><li><p>æ²¡æœ‰group byæ—¶ï¼Œæ˜¯å°†æ‰€æœ‰çš„æ•°æ®å½“ä½œä¸€ä¸ªç»„å¤„ç†ï¼Œå¯ä»¥ç›´æ¥ç”¨having ã€‚</p><p>ä¾‹ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> Department_name, Location_id</span><br><span class="line"><span class="keyword">from</span> DEPARTMENTS</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">exists</span> (</span><br><span class="line">    <span class="keyword">select</span> <span class="keyword">null</span> <span class="comment">--è¿™é‡Œç”¨*æˆ–è€…1éƒ½æ˜¯å¯ä»¥çš„</span></span><br><span class="line">    <span class="keyword">from</span> EMPLOYEES</span><br><span class="line">    <span class="keyword">where</span> EMPLOYEES.Department_id<span class="operator">=</span>DEPARTMENTS.Department_id</span><br><span class="line">    <span class="keyword">having</span> <span class="built_in">count</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="number">3</span></span><br><span class="line">    )</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼š</p><p><img src="/2021/06/13/sjkdy/image-20210612223101902.png" alt="image-20210612223101902"></p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">from</span> EMPLOYEES</span><br><span class="line"><span class="keyword">having</span> <span class="built_in">count</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="number">3</span></span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼š</p><img src="/2021/06/13/sjkdy/image-20210612222803220.png" alt="image-20210612222803220" style="zoom:80%;"></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">null</span></span><br><span class="line"><span class="keyword">from</span> EMPLOYEES</span><br><span class="line"><span class="keyword">having</span> <span class="built_in">count</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="number">3</span></span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼š</p><p><img src="/2021/06/13/sjkdy/image-20210612222842593.png" alt="image-20210612222842593"></p></blockquote><ul><li><p>ä½†æ˜¯æ­¤æ—¶selectå­è¯­å¥ä¸èƒ½æ˜¯*  åˆ—åç­‰ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span> EMPLOYEES</span><br><span class="line"><span class="keyword">having</span> <span class="built_in">count</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> Employee_id</span><br><span class="line"><span class="keyword">from</span> EMPLOYEES</span><br><span class="line"><span class="keyword">having</span> <span class="built_in">count</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="number">3</span></span><br></pre></td></tr></table></figure><blockquote><p><img src="/2021/06/13/sjkdy/image-20210612223230906.png" alt="image-20210612223230906"></p></blockquote></li></ul></li><li><p>ç›¸å…³å­æŸ¥è¯¢å’Œexistsç”¨æ³•ä¸¾ä¾‹</p></li></ul> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> Department_id,Department_name,Location_id</span><br><span class="line"><span class="keyword">from</span> DEPARTMENTS</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">exists</span>(</span><br><span class="line">    <span class="keyword">select</span> Department_id</span><br><span class="line">    <span class="keyword">from</span> EMPLOYEES</span><br><span class="line">    <span class="keyword">group</span> <span class="keyword">by</span> Department_id</span><br><span class="line">    <span class="keyword">having</span> <span class="built_in">count</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="number">5</span> <span class="keyword">and</span> DEPARTMENTS.Department_id<span class="operator">=</span>EMPLOYEES.Department_id</span><br><span class="line">)</span><br></pre></td></tr></table></figure>  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> Department_id,Department_name,Location_id</span><br><span class="line"><span class="keyword">from</span> DEPARTMENTS</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">exists</span>(</span><br><span class="line">    <span class="keyword">select</span> Department_id</span><br><span class="line">    <span class="keyword">from</span> EMPLOYEES</span><br><span class="line">    <span class="keyword">where</span> DEPARTMENTS.Department_id<span class="operator">=</span>EMPLOYEES.Department_id</span><br><span class="line">    <span class="keyword">group</span> <span class="keyword">by</span> Department_id</span><br><span class="line">    <span class="keyword">having</span> <span class="built_in">count</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="number">5</span> </span><br><span class="line">)</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨ï¼šwhereä¸­ä¸å¯ä»¥ä½¿ç”¨èšé›†å‡½æ•°</p></blockquote><blockquote><p>æ³¨ï¼šwhereå’Œgroup byå¯ä»¥ä¸€èµ·ä½¿ç”¨</p></blockquote><ul><li>å½“æœ‰group byæ—¶ï¼Œselectå­è¯­å¥å¿…é¡»æ˜¯group byåçš„æ•°æ®ï¼Œæˆ–èšé›†å‡½æ•°ï¼Œæˆ–å¸¸æ•°</li></ul><h3 id="ä»£æ•°é™¤æ³•"><a href="#ä»£æ•°é™¤æ³•" class="headerlink" title="ä»£æ•°é™¤æ³•"></a>ä»£æ•°é™¤æ³•</h3><ul><li>ç†è§£ï¼š</li></ul><ul><li><p>sqlå®ç°ï¼š</p><p>é€šè¿‡ç›¸å…³å­æŸ¥è¯¢è¿›è¡ŒæŸ¥è¯¢</p><p>å…³é”®ï¼š<strong>AåŒ…å«B</strong>   å³B-Açš„ç»“æœä¸ºç©ºï¼Œ â€œå°å·®å¤§â€  </p><ul><li><p>ä¾‹å¦‚ï¼šå­¦ç”Ÿ not exists (äºŒå¹´çº§è¯¾ç¨‹  minus/except  è¯¥å­¦ç”Ÿé€‰çš„è¯¾)</p></li><li><p>ä¾‹å¦‚ï¼šæŸ¥æ‰¾åŒ…æ‹¬äº†æ‰€æœ‰å¹³å‡å·¥èµ„å¤§äº15000çš„èŒä¸šçš„éƒ¨é—¨</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> Department_id,Department_name</span><br><span class="line"><span class="keyword">from</span> DEPARTMENTS</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">not</span> <span class="keyword">exists</span>(</span><br><span class="line">    <span class="keyword">select</span> JOB_ID</span><br><span class="line">    <span class="keyword">from</span> EMPLOYEES</span><br><span class="line">    <span class="keyword">group</span> <span class="keyword">by</span> JOB_ID</span><br><span class="line">    <span class="keyword">having</span> <span class="built_in">avg</span>(Salary)<span class="operator">&gt;</span><span class="number">15000</span></span><br><span class="line">    minus</span><br><span class="line">    <span class="keyword">select</span> JOB_ID</span><br><span class="line">    <span class="keyword">from</span> EMPLOYEES</span><br><span class="line">    <span class="keyword">where</span> EMPLOYEES.Department_id<span class="operator">=</span>DEPARTMENTS.Department_id</span><br><span class="line">)</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼š</p><p><img src="/2021/06/13/sjkdy/image-20210613001729437.png" alt="image-20210613001729437"></p></blockquote></li></ul></li></ul><h3 id="E-R"><a href="#E-R" class="headerlink" title="E-R"></a>E-R</h3><ul><li>E-Rå›¾è½¬æ¢ä¸ºå…³ç³»æ¨¡å¼<ul><li>å…³ç³»æ¨¡å¼çš„æ•°é‡=E-Rå›¾å®ä½“é›†+E-Rå›¾å¤šå¯¹å¤šè”ç³»çš„æ•°é‡</li></ul></li></ul><p><img src="/2021/06/13/sjkdy/IMG_20210612_205823_edit_159802250906863.jpg" alt="IMG_20210612_205823_edit_159802250906863"></p><blockquote><p>å½“ä¸€å¯¹å¤šæˆ–ä¸€å¯¹ä¸€çš„è”ç³»é›†ä¸­æœ‰æè¿°æ€§å±æ€§æ—¶ï¼Œå¯ä»¥æ”¾åˆ°å®ä½“é›†ä¸­ï¼Œä¹Ÿå¯ä»¥å•ç‹¬æå‡ºæ¥ä½œä¸ºä¸€ä¸ªå…³ç³»æ¨¡å¼</p></blockquote><h3 id="èŒƒå¼"><a href="#èŒƒå¼" class="headerlink" title="èŒƒå¼"></a>èŒƒå¼</h3><ul><li><p>æ•°æ®ä¾èµ–</p><ul><li>å•å€¼ä¾èµ–ï¼ˆå‡½æ•°ä¾èµ–ï¼‰ï¼šå½“t<sub>1</sub>(Î±)=t<sub>2</sub>(Î±)æ—¶ï¼Œæ€»æœ‰t<sub>1</sub>(Î²)=t<sub>2</sub>(Î²)</li><li>Î±å†³å®šÎ²  æˆ–ç§°  Î²ä¾èµ–Î±</li></ul></li><li><p>å‡½æ•°ä¾èµ–ç±»å‹</p><ul><li><p>å¹³å‡¡/éå¹³å‡¡</p><ul><li><p>å¹³å‡¡   Î²åŒ…å«äºÎ±æ—¶ï¼ŒÎ±â†’Î²       ä¾‹å¦‚ï¼šABâ†’A   </p></li><li><p>éå¹³å‡¡çš„    ä¾‹å¦‚ï¼šABâ†’BC    Aâ†’B</p><ul><li>éƒ¨åˆ†å‡½æ•°ä¾èµ–</li></ul><blockquote><p>(sno,cno)â†’sname  å°±æ˜¯éƒ¨åˆ†å‡½æ•°ä¾èµ–ï¼Œå› ä¸ºå­˜åœ¨snoâ†’sname</p><blockquote><p>ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨(sno)â†’snameï¼Ÿ  å› ä¸º(sno,cno)æ˜¯å…³ç³»æ¨¡å¼çš„ç ï¼Œä¸€èˆ¬æ‰¾ä¸ç æœ‰å…³çš„å‡½æ•°ä¾èµ–</p></blockquote></blockquote><ul><li>å®Œå…¨å‡½æ•°ä¾èµ–</li></ul><blockquote><p>snoâ†’sname</p></blockquote><ul><li>ä¼ é€’å‡½æ•°ä¾èµ–</li></ul><blockquote><p>snoâ†’dnoâ†’dname</p></blockquote></li></ul></li></ul></li><li><p>2NF   æ¶ˆé™¤äº†éä¸»å±æ€§å¯¹äºç çš„éƒ¨åˆ†å‡½æ•°ä¾èµ–</p></li><li><p>3NF   æ¶ˆé™¤äº†éä¸»å±æ€§å¯¹äºç çš„ä¼ é€’å‡½æ•°ä¾èµ–</p><blockquote><p>æ¶ˆé™¤äº†éä¸»å±æ€§å¯¹äºç çš„ä¼ é€’å‡½æ•°ä¾èµ–å°±å·²ç»æ¶ˆé™¤äº†éä¸»å±æ€§å¯¹äºç çš„éƒ¨åˆ†å‡½æ•°ä¾èµ–</p></blockquote></li><li><p>BCNF   æ¶ˆé™¤äº†ä¸»å±æ€§å¯¹äºç çš„éƒ¨åˆ†å‡½æ•°ä¾èµ–ã€ä¼ é€’å‡½æ•°ä¾èµ–</p></li><li><p>å¦‚ä½•ç¡®å®šç ï¼Ÿ</p><ul><li><p>èƒ½é€šè¿‡å‡½æ•°ä¾èµ–ç¡®å®šæ‰€æœ‰å±æ€§çš„ï¼Œå°±æ˜¯ç </p><blockquote><p>å¦‚R(A,B,C,D,E)ï¼ŒF{Aâ†’B; Câ†’DE; ABâ†’CE}æ‰¾å‡ºæ‰€æœ‰çš„å€™é€‰ç ã€‚</p><p>è§£ï¼š</p><p>å…ˆå†™å‡ºF<sup>+</sup>{Aâ†’B; Câ†’DE; ABâ†’CE; Aâ†’ABCDE}</p><p>æ‰€æœ‰åªåœ¨å‡½æ•°ä¾èµ–å³è¾¹å‡ºç°ï¼Œè€Œä¸åœ¨å·¦è¾¹å‡ºç°çš„ï¼Œéƒ½ä¸å¯èƒ½æ˜¯å€™é€‰ç ï¼Œæ‰€ä»¥åªè€ƒè™‘A,B,C</p><p>åªçŸ¥é“Aå¯ä»¥æ¨å‡ºæ‰€æœ‰ABCDEï¼Œå³A<sup>+</sup>=Rï¼Œæ‰€ä»¥Aâ†’Rï¼ŒAæ˜¯å€™é€‰ç </p><p>è€ŒBã€Cä¸å¯ä»¥ï¼Œæ‰€ä»¥Bã€Cä¸æ˜¯å€™é€‰ç </p></blockquote></li></ul></li><li><p>åˆ¤æ–­æ˜¯å¦æ»¡è¶³BCNF  â€”å³æ˜¯å¦éƒ½æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ä¹‹ä¸€</p><ul><li>å¹³å‡¡å‡½æ•°ä¾èµ–</li><li>å‡½æ•°ä¾èµ–çš„å†³å®šå› ç´ æ˜¯å¦æ˜¯è¶…ç </li></ul></li></ul><blockquote><p>æ¥ç€ä¸Šé¢ä¸€é¢˜ï¼ŒF<sup>+</sup>{Aâ†’B; Câ†’DE; ABâ†’CE; Aâ†’ABCDE}  ä¸»ç æ˜¯A</p><p>å…ˆæ‰¾å‡ºæ‰€æœ‰å·¦è¾¹ä¸æ˜¯è¶…ç çš„å‡½æ•°ä¾èµ–ï¼Œè¿™é‡Œé¢æ˜¯Câ†’DEï¼Œå³æ˜¯ç”±äºCâ†’DEå¯¼è‡´ä¸æ»¡è¶³BCNF</p><p>å°±å°†ä»–å•ç‹¬æ‹¿å‡ºæ¥ä½œä¸ºä¸€ä¸ªå…³ç³»æ¨¡å¼R2(CDE)ï¼ŒåŸå…³ç³»æ¨¡å¼å»æ‰Câ†’DEä¸­å³è¾¹å­˜åœ¨è€Œä¸åœ¨å·¦è¾¹å­˜åœ¨çš„å±æ€§å³DEä½œä¸ºå¦ä¸€ä¸ªå…³ç³»æ¨¡å¼R1(ABC)ã€‚</p><p>å³å®ç°Rçš„BCNFåˆ†è§£ï¼ŒRåˆ†è§£æˆä¸¤ä¸ªBCèŒƒå¼R1å’ŒR2ã€‚</p></blockquote><blockquote><p>å³r(R)ç”±äºÎ±â†’Î²å¯¼è‡´ä¸æ»¡è¶³BCNFï¼Œå°±æ‹†åˆ†æˆr1(R-(Î²-Î±))å’Œr2(Î±âˆªÎ²)</p></blockquote><ul><li>åˆ†è§£ï¼ˆåŒ…æ‹¬BCNFï¼‰éƒ½è¦æ˜¯æ— æŸåˆ†è§£</li></ul><blockquote><p>æ— æŸï¼šä¾‹å¦‚ræ‹†åˆ†æˆr1å’Œr2ï¼Œr1 natural join r2 è¦å’ŒåŸæ¥çš„rçš„æ•°æ®ä¸€æ ·</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®åº“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºç½‘ç»œ-æ•°æ®é“¾è·¯å±‚å’Œå±€åŸŸç½‘</title>
      <link href="2021/05/10/jsjwl06/"/>
      <url>2021/05/10/jsjwl06/</url>
      
        <content type="html"><![CDATA[<h2 id="è®¡ç®—æœºç½‘ç»œ-æ•°æ®é“¾è·¯å±‚å’Œå±€åŸŸç½‘"><a href="#è®¡ç®—æœºç½‘ç»œ-æ•°æ®é“¾è·¯å±‚å’Œå±€åŸŸç½‘" class="headerlink" title="è®¡ç®—æœºç½‘ç»œ-æ•°æ®é“¾è·¯å±‚å’Œå±€åŸŸç½‘"></a>è®¡ç®—æœºç½‘ç»œ-æ•°æ®é“¾è·¯å±‚å’Œå±€åŸŸç½‘</h2><h3 id="1-æ¦‚è¿°"><a href="#1-æ¦‚è¿°" class="headerlink" title="1. æ¦‚è¿°"></a>1. æ¦‚è¿°</h3><ul><li>ç½‘ç»œå±‚è§£å†³äº†ä¸€ä¸ªç½‘ç»œå¦‚ä½•åˆ°è¾¾å¦å¤–ä¸€ä¸ªç½‘ç»œçš„è·¯ç”±é—®é¢˜ã€‚åœ¨ä¸€ä¸ªç½‘ç»œå†…éƒ¨å¦‚ä½•ç”±ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆä¸»æœºæˆ–è€…è·¯ç”±å™¨ï¼‰åˆ°è¾¾å¦å¤–ä¸€ä¸ªç›¸é‚»èŠ‚ç‚¹ï¼Ÿâ€”é“¾è·¯å±‚çš„ç‚¹åˆ°ç‚¹ä¼ è¾“å±‚åŠŸèƒ½</li><li>ç›®æ ‡:<ul><li><p>ç†è§£æ•°æ®é“¾è·¯å±‚æœåŠ¡çš„åŸç†:</p><ul><li>æ£€é”™å’Œçº é”™</li><li>å…±äº«å¹¿æ’­ä¿¡é“ï¼šå¤šç‚¹æ¥å…¥ï¼ˆå¤šè·¯è®¿é—®ï¼‰</li><li>é“¾è·¯å±‚å¯»å€</li><li>LAN:ä»¥å¤ªç½‘ã€WLANã€VLANs</li><li>å¯é æ•°æ®ä¼ è¾“ï¼Œæµæ§åˆ¶: è§£å†³!</li></ul></li><li><p>å®ä¾‹å’Œå„ç§é“¾è·¯å±‚æŠ€æœ¯çš„å®ç°</p><span id="more"></span></li></ul></li></ul><p><img src="/2021/05/10/jsjwl06/image-20210510212247175.png" alt="æ¦‚è¿°"></p><ul><li><p>ä¸€ä¸ªå­ç½‘ä¸­çš„è‹¥å¹²èŠ‚ç‚¹æ˜¯å¦‚ä½•è¿æ¥åˆ°ä¸€èµ·çš„ï¼Ÿ</p><ul><li>ç‚¹åˆ°ç‚¹è¿æ¥</li><li>å¤šç‚¹è¿æ¥<ul><li>å…±äº«å‹ä»‹è´¨</li><li>é€šè¿‡ç½‘ç»œäº¤æ¢æœº</li></ul></li></ul><blockquote><p>ä¸€èˆ¬æ¥è¯´ï¼Œå±€åŸŸç½‘æ˜¯å¤šç‚¹è¿æ¥ï¼Œå®ç°æ¯”è¾ƒå¤æ‚ï¼›è€Œå¹¿åŸŸç½‘æ˜¯ç‚¹åˆ°ç‚¹è¿æ¥ï¼Œå®ç°ç›¸å¯¹ç®€å•ã€‚</p></blockquote><p><img src="/2021/05/10/jsjwl06/image-20210511212212995.png" alt="ä¸€ä¸ªå­ç½‘ä¸­çš„è‹¥å¹²èŠ‚ç‚¹æ˜¯å¦‚ä½•è¿æ¥åˆ°ä¸€èµ·çš„ï¼Ÿ"></p></li><li><p><img src="/2021/05/10/jsjwl06/image-20210511212338477.png" alt="é“¾è·¯å±‚ï¼šä¸Šä¸‹æ–‡"></p></li><li><p>æ•°æ®é“¾è·¯å±‚æœåŠ¡</p><p><img src="/2021/05/10/jsjwl06/image-20210510213213501.png" alt="é“¾è·¯å±‚æœåŠ¡1"></p><p><img src="/2021/05/10/jsjwl06/image-20210511212938351.png" alt="é“¾è·¯å±‚æœåŠ¡2"></p><p><img src="/2021/05/10/jsjwl06/image-20210510213516860.png" alt="é“¾è·¯å±‚æœåŠ¡3"></p></li></ul><blockquote><p>ä»¥ä¸ŠåŠŸèƒ½å¹¶ä¸æ˜¯æ‰€æœ‰é“¾è·¯å±‚éƒ½å…¨éƒ¨å®ç°çš„ï¼Œæœ‰çš„é“¾è·¯å±‚åªæ˜¯å®ç°äº†éƒ¨åˆ†åŠŸèƒ½ã€‚</p></blockquote><ul><li>é“¾è·¯å±‚çš„å…·ä½“å®ç°</li></ul><p><img src="/2021/05/10/jsjwl06/image-20210510213631618.png" alt="é“¾è·¯å±‚çš„å…·ä½“å®ç°"></p><p><img src="/2021/05/10/jsjwl06/image-20210510213706374.png" alt="ç½‘å¡é—´é€šä¿¡"></p><h3 id="2-å·®é”™æ£€æµ‹"><a href="#2-å·®é”™æ£€æµ‹" class="headerlink" title="2. å·®é”™æ£€æµ‹"></a>2. å·®é”™æ£€æµ‹</h3><p><img src="/2021/05/10/jsjwl06/image-20210511214146161.png" alt="å·®é”™ç¼–ç åŸç†"></p><blockquote><p>å·®é”™ç¼–ç ä¸èƒ½ä¿è¯100%æ­£ç¡®ã€‚</p></blockquote><p><img src="/2021/05/10/jsjwl06/image-20210511234046203.png" alt="å·®é”™ç¼–ç çš„æ£€é”™èƒ½åŠ›"></p><ul><li>å¸¸è§çš„å·®é”™ç¼–ç </li></ul><p><img src="/2021/05/10/jsjwl06/image-20210511234703213.png" alt="å¥‡å¶æ ¡éªŒç "></p><p><img src="/2021/05/10/jsjwl06/image-20210511235056619.png" alt="Checksum"></p><p><img src="/2021/05/10/jsjwl06/image-20210511235432146.png" alt="CRC"></p><blockquote><p>æ¨¡2è¿ç®—ï¼Œå³å¼‚æˆ–è¿ç®—</p></blockquote><p><img src="/2021/05/10/jsjwl06/image-20210511235834302.png" alt="CRCä¸¾ä¾‹"></p><blockquote><p>Gæ˜¯å‘é€æ–¹å’Œæ¥æ”¶æ–¹çº¦å®šå¥½çš„ç”Ÿæˆå¤šé¡¹å¼</p></blockquote><p><img src="/2021/05/10/jsjwl06/image-20210512000758328.png" alt="CRCæ€§èƒ½åˆ†æ"></p><h3 id="3-å¤šç‚¹è®¿é—®åè®®"><a href="#3-å¤šç‚¹è®¿é—®åè®®" class="headerlink" title="3. å¤šç‚¹è®¿é—®åè®®"></a>3. å¤šç‚¹è®¿é—®åè®®</h3><p><img src="/2021/05/10/jsjwl06/image-20210512001052632.png" alt="ä¸¤ç§é“¾è·¯"></p><ul><li>è§£å†³å•ä¸€å…±äº«å¹¿æ’­ä¿¡é“çš„æ¥å…¥é—®é¢˜ï¼šMACåè®®</li></ul><p><img src="/2021/05/10/jsjwl06/image-20210512002737886.png" alt="MACåè®®"></p><p><img src="/2021/05/10/jsjwl06/image-20210512002902453.png" alt="ç†æƒ³MACåè®®"></p><p><img src="/2021/05/10/jsjwl06/image-20210512003119913.png" alt="MACåè®®åˆ†ç±»"></p><h4 id="3-1-ä¿¡é“åˆ’åˆ†MACåè®®"><a href="#3-1-ä¿¡é“åˆ’åˆ†MACåè®®" class="headerlink" title="3.1 ä¿¡é“åˆ’åˆ†MACåè®®"></a>3.1 ä¿¡é“åˆ’åˆ†MACåè®®</h4><p><img src="/2021/05/10/jsjwl06/image-20210512003155337.png" alt="TDMA"></p><p><img src="/2021/05/10/jsjwl06/image-20210512003332647.png" alt="FDMA"></p><h4 id="3-2-éšæœºè®¿é—®MACåè®®"><a href="#3-2-éšæœºè®¿é—®MACåè®®" class="headerlink" title="3.2 éšæœºè®¿é—®MACåè®®"></a>3.2 éšæœºè®¿é—®MACåè®®</h4><p><img src="/2021/05/10/jsjwl06/image-20210512003630498.png" alt="éšæœºè®¿é—®MACåè®®"></p><ul><li>æ—¶éš™ALOHAåè®®</li></ul><p><img src="/2021/05/10/jsjwl06/image-20210512004017258.png" alt="æ—¶éš™ALOHAåè®®"></p><p><img src="/2021/05/10/jsjwl06/image-20210512004246847.png" alt="æ—¶éš™ALOHAåè®®ä¼˜ç¼ºç‚¹"></p><p><img src="/2021/05/10/jsjwl06/image-20210512004508786.png" alt="æ—¶éš™ALOHAåè®®çš„æ•ˆç‡"></p><ul><li>ALOHAåè®®</li></ul><p><img src="/2021/05/10/jsjwl06/image-20210512004642533.png" alt="ALOHAåè®®"></p><blockquote><p>t<sub>0</sub>-1åˆ°t<sub>0</sub>+1  æ˜“æŸæ—¶é—´åŒº     â€“ä¸¤ä¸ªæ—¶éš™ã€‚</p><p>æ—¶éš™ALOHAåè®®æ˜“æŸæ—¶é—´åŒº   â€“ä¸€ä¸ªæ—¶éš™</p></blockquote><p><img src="/2021/05/10/jsjwl06/image-20210512004938459.png" alt="ALOHAåè®®çš„æ•ˆç‡"></p><ul><li>CSMAåè®®</li></ul><p><img src="/2021/05/10/jsjwl06/image-20210512010439949.png" alt="CSMAåè®®"></p><blockquote><p>CSMAæ£€æµ‹å†²çªæ˜¯åªåœ¨å‘é€å¸§ä¹‹å‰ç›‘å¬ä¿¡é“ï¼Œè€Œåœ¨å‘é€å¸§çš„è¿‡ç¨‹ä¸­ä¸å†ç›‘å¬ä¿¡é“ï¼Œè¿™å°†å¯¼è‡´å³ä½¿å‘ç”Ÿå†²çªäº†ä»ä¼šç»§ç»­å‘é€å†²çªå¸§è€Œæµªè´¹ä¿¡é“èµ„æºã€‚</p></blockquote><ul><li>ä»¥å¤ªç½‘CSMA/CDåè®®</li></ul><blockquote><p>CSMA/CDåè®®æ˜¯åœ¨å‘é€å¸§çš„åŒæ—¶å°±å¯ä»¥æ£€æµ‹æ˜¯å¦æœ‰å†²çª</p></blockquote><p><img src="/2021/05/10/jsjwl06/image-20210512011307257.png" alt="CSMA/CD"></p><blockquote><p>CDæ˜¯ä¸ä»…åœ¨å‘é€å¸§ä¹‹å‰ç›‘å¬ä¿¡é“ï¼Œåœ¨å‘é€å¸§çš„è¿‡ç¨‹ä¸­ä»åœ¨ç›‘å¬ä¿¡é“ã€‚</p></blockquote><p><img src="/2021/05/10/jsjwl06/image-20210512142945641.png" alt="ä»¥å¤ªç½‘CSMA/CD"></p><blockquote><p>å‘é€å¼ºåŒ–å†²çªä¿¡å·æ˜¯ä¸ºäº†è®©æ‰€æœ‰ç«™ç‚¹éƒ½çŸ¥é“å‘ç”Ÿå†²çªäº†</p></blockquote><blockquote><p>äºŒè¿›åˆ¶æŒ‡æ•°é€€é¿ç®—æ³•ï¼ˆexponential backoffï¼‰ï¼šï¼ˆåœ¨ç­‰å¾…æ—¶é—´å’Œå†æ¬¡å‘ç”Ÿç¢°æ’å¯èƒ½æ€§ä¸¤ä¸ªçŸ›ç›¾ä¹‹é—´å–å¾—ä¸€ä¸ªè¾ƒä¸ºå‡è¡¡çš„ç»“æœï¼‰</p><p>ç¬¬ä¸€æ¬¡ç¢°æ’m=1  ä¸¤ä¸ªé€‚é…å™¨å†²çªå‘é€å¤±è´¥çš„é€‚é…å™¨åœ¨{0,1}ä¹‹é—´é€‰æ‹©ä¸€ä¸ªi   å³ç­‰å¾…i*512ä½æ—¶ä¹‹åå†è¿›è¡Œç›‘å¬å‘é€    æ‰€ä»¥å†æ¬¡å‘é€å¤±è´¥çš„æ¦‚ç‡ä¸º1/2</p><p>ç¬¬äºŒæ¬¡ç¢°æ’m=2  ä¸¤ä¸ªé€‚é…å™¨å†²çªå‘é€å¤±è´¥çš„é€‚é…å™¨åœ¨{0,1,2,3}ä¹‹é—´é€‰æ‹©ä¸€ä¸ªi   å³ç­‰å¾…i*512ä½æ—¶ä¹‹åå†è¿›è¡Œç›‘å¬å‘é€    æ‰€ä»¥å†æ¬¡å‘é€å¤±è´¥çš„æ¦‚ç‡ä¸º1/4</p><p>ç¬¬äºŒæ¬¡ç¢°æ’m=3  ä¸¤ä¸ªé€‚é…å™¨å†²çªå‘é€å¤±è´¥çš„é€‚é…å™¨åœ¨{0,1,2,3,4,5,6,7}ä¹‹é—´é€‰æ‹©ä¸€ä¸ªi   å³ç­‰å¾…i*512ä½æ—¶ä¹‹åå†è¿›è¡Œç›‘å¬å‘é€    æ‰€ä»¥å†æ¬¡å‘é€å¤±è´¥çš„æ¦‚ç‡ä¸º1/8</p><p>â€¦â€¦</p><p>å‡ æ¬¡å°è¯•åæ”¾å¼ƒ(é€šå¸¸æ˜¯16æ¬¡)ï¼Œç„¶åå‘ä¸»æœºæŠ¥å‘Šä¼ é€é”™è¯¯</p></blockquote><p><img src="/2021/05/10/jsjwl06/image-20210512011941561.png" alt="CSMA/CDéœ€æ»¡è¶³ç­‰å¼"></p><p><img src="/2021/05/10/jsjwl06/image-20210512012222585.png" alt="ä¾‹é¢˜"></p><p><img src="/2021/05/10/jsjwl06/image-20210512012404196.png" alt="CSMA/CDæ•ˆç‡"></p><ul><li>æ— çº¿å±€åŸŸç½‘WLANä¸­CSMA/CA</li></ul><p><img src="/2021/05/10/jsjwl06/image-20210512144459710.png" alt="CSMA/CA"></p><blockquote><p>ç§»åŠ¨ä¸»æœºèŠ‚ç‚¹ä¼šé€šè¿‡æ— çº¿ä¿¡é“å‘åŸºç«™APå‘é€ç”µç£æ³¢ï¼Œä½†æ˜¯ç”±äºå¤šä¸ªä¸»æœºå‘åŒä¸€ä¸ªåŸºç«™å‘é€åŒæ ·é¢‘æ®µçš„ä¿¡å·ï¼ŒåŒæ ·ä¼šå‘ç”Ÿå†²çªã€‚</p></blockquote><p><img src="/2021/05/10/jsjwl06/image-20210512145412284.png" alt="CSMA/CA"></p><blockquote><p>CSMA/CDæ£€æµ‹å†²çªä¸é€‚ç”¨äºæ— çº¿ç½‘ï¼Œå› ä¸ºæ— çº¿ç½‘ç”µç£æ³¢ä¸è·ç¦»å¹³æ–¹æˆåæ¯”è¿›è¡Œè¡°å‡ï¼Œè‡ªèº«å‘é€çš„ä¿¡å·è¦æ¯”æ¥æ”¶åˆ°çš„å…¶ä»–èŠ‚ç‚¹çš„ä¿¡å·å¼ºçš„å¤šï¼ŒåŒæ—¶åœ¨å¼€æ”¾ç©ºé—´ä¼šå—åˆ°å…¶ä»–ä¿¡å·çš„å¹²æ‰°ã€‚æ‰€ä»¥802.11ä¸è¿›è¡Œå†²çªæ£€æµ‹ã€‚</p><p>åŒæ—¶åœ¨ä»¥å¤ªç½‘LANä¸­ä¸å†²çªåŸºæœ¬ç­‰äºå‘é€æˆåŠŸï¼Œè€ŒWLANä¸­ä¸å†²çªä¸ç­‰äºå‘é€æˆåŠŸï¼ˆå¯èƒ½ç”±äºå±±å·ç­‰é˜»éš”åŸå› ã€ä¸åŸºç«™è·ç¦»åŸå› è€Œä¼ é€å¤±è´¥ï¼‰ã€‚</p><p><img src="/2021/05/10/jsjwl06/image-20210512151509457.png" alt="å¯¹äºWALNè€Œè¨€å†²çªæ£€æµ‹é—®é¢˜"></p><p>æ‰€ä»¥WLANä¸èƒ½é‡‡ç”¨CSMA/CDå†²çªæ£€æµ‹ï¼Œæ²¡æœ‰ç”¨ï¼Œè€Œæ˜¯é‡‡ç”¨CSMA/CAå‘é€å¸§ä¹‹å‰æ¥é¿å…å†²çªã€‚</p></blockquote><p><img src="/2021/05/10/jsjwl06/image-20210512151747211.png" alt="CSMA/CA"></p><blockquote><p>ä»¥å¤ªç½‘ä¸­ä¿¡é“è´¨é‡å¥½ï¼Œæ‰€ä»¥ä¸åšACKç¡®è®¤å¸§çš„ä¼ è¾“ã€‚è€Œåœ¨WLANä¸­ä¿¡é“è´¨é‡ä¸å¥½éœ€è¦ç¡®è®¤ã€‚</p></blockquote><p><img src="/2021/05/10/jsjwl06/image-20210512152506821.png" alt="CSMA/CAå†²çªé¿å…"></p><p><img src="/2021/05/10/jsjwl06/image-20210512155551626.png" alt="CSMA/CAæ— æ³•å®Œå…¨é¿å…å†²çª"></p><p><img src="/2021/05/10/jsjwl06/image-20210512155619651.png" alt="CSMA/CAæ— æ³•å®Œå…¨é¿å…å†²çª2"></p><p><img src="/2021/05/10/jsjwl06/image-20210512155638963.png" alt="RTS-CTSäº¤æ¢"></p><h4 id="3-3-è½®è½¬è®¿é—®MACåè®®"><a href="#3-3-è½®è½¬è®¿é—®MACåè®®" class="headerlink" title="3.3 è½®è½¬è®¿é—®MACåè®®"></a>3.3 è½®è½¬è®¿é—®MACåè®®</h4><p><img src="/2021/05/10/jsjwl06/image-20210512012558906.png" alt="ä¸‰ç§æ–¹æ³•æ¯”è¾ƒ"></p><ul><li><p>è½®è½¬è®¿é—®MACåè®®æ—¢ä¸æ˜¯æœ€å¥½ä¹Ÿä¸æ˜¯æœ€åï¼Œæ¯”è¾ƒç»¼åˆã€‚</p></li><li><p>è½®è¯¢æ–¹å¼</p></li></ul><p><img src="/2021/05/10/jsjwl06/image-20210512013145993.png" alt="è½®è½¬è®¿é—®MACåè®®-è½®è¯¢"></p><ul><li>ä»¤ç‰Œä¼ é€’æ–¹å¼</li></ul><p><img src="/2021/05/10/jsjwl06/image-20210512013752940.png" alt="è½®è½¬è®¿é—®MACåè®®-ä»¤ç‰Œä¼ é€’æ–¹å¼"></p><ul><li>æ€»ç»“</li></ul><p>è§£å†³å¤šç‚¹æ¥å…¥é—®é¢˜ï¼šå¯¹äºä¸€ä¸ªå…±äº«å‹ä»‹è´¨ï¼Œå„ä¸ªèŠ‚ç‚¹å¦‚ä½•åè°ƒå¯¹å®ƒçš„è®¿é—®å’Œä½¿ç”¨ï¼Ÿ</p><p><img src="/2021/05/10/jsjwl06/image-20210512013950395.png" alt="æ€»ç»“"></p><blockquote><p>CSMA/CDåº”ç”¨äº802.3Ethernetç½‘</p><p>CSMA/CAåº”ç”¨äº802.11WLANä¸­</p></blockquote><blockquote><p>è½®è½¬è®¿é—®MACåè®®ï¼š<br>ä¸»èŠ‚ç‚¹è½®è¯¢æ˜¯é›†ä¸­å¼çš„    ä»¤ç‰Œä¼ é€’æ˜¯åˆ†å¸ƒå¼çš„</p></blockquote><h3 id="4-LANs"><a href="#4-LANs" class="headerlink" title="4. LANs"></a>4. LANs</h3><h4 id="4-1-MACåœ°å€"><a href="#4-1-MACåœ°å€" class="headerlink" title="4.1 MACåœ°å€"></a>4.1 MACåœ°å€</h4><ul><li>ç½‘ç»œå±‚ï¼šIPv4çš„32ä½IPåœ°å€<ul><li>æ¥å£çš„ç½‘ç»œå±‚åœ°å€</li><li>ç”¨äºæ ‡è¯†ç½‘ç»œå±‚ï¼ˆç¬¬3å±‚ï¼‰åˆ†ç»„ï¼Œæ”¯æŒåˆ†ç»„è½¬å‘</li></ul></li><li>MACåœ°å€æ˜¯é“¾è·¯å±‚åœ°å€</li><li>MACåœ°å€æ˜¯å›ºå®šçš„ï¼Œï¼ˆä¹Ÿå¯æ‰‹åŠ¨ä¿®æ”¹ï¼‰ï¼Œä½†æ˜¯éœ€ä¿è¯ä¸€ä¸ªå±€åŸŸç½‘å†…çš„MACåœ°å€ï¼ˆå³ç‰©ç†åœ°å€ï¼‰æ˜¯äº’ä¸ç›¸åŒçš„</li></ul><p><img src="/2021/05/10/jsjwl06/image-20210512160957066.png" alt="MACåœ°å€"></p><p><img src="/2021/05/10/jsjwl06/image-20210512161017732.png" alt="MACåœ°å€å±€åŸŸç½‘å†…å”¯ä¸€"></p><p><img src="/2021/05/10/jsjwl06/image-20210512161429645.png" alt="MACåœ°å€ç‰¹ç‚¹"></p><h4 id="4-2-ARPï¼šåœ°å€è§£æåè®®"><a href="#4-2-ARPï¼šåœ°å€è§£æåè®®" class="headerlink" title="4.2 ARPï¼šåœ°å€è§£æåè®®"></a>4.2 ARPï¼šåœ°å€è§£æåè®®</h4><ul><li>å±€åŸŸç½‘ï¼šæ•°æ®é“¾è·¯å±‚çš„æ¦‚å¿µï¼ŒæŒ‡äºŒå±‚å¯è¾¾çš„ç½‘ç»œï¼ˆä¹Ÿå°±æ˜¯ä¸éœ€è¦ä¸‰å±‚è®¾å¤‡ï¼Œå¦‚è·¯ç”±å™¨ï¼Œä¹Ÿèƒ½åˆ°è¾¾çš„ç½‘ç»œï¼‰ï¼Œé€šä¿—å¾—è®²å°±æ˜¯å°èŒƒå›´çš„ç½‘ç»œ</li></ul><p><img src="/2021/05/10/jsjwl06/image-20210512162017813.png" alt="ARPï¼šåœ°å€è§£æåè®®"></p><ul><li>åŒä¸€ä¸ªå±€åŸŸç½‘ä¸‹çš„ARPåè®®</li></ul><p><img src="/2021/05/10/jsjwl06/image-20210512163013409.png" alt="åŒä¸€ä¸ªå±€åŸŸç½‘ä¸‹çš„ARPåè®®"></p><ul><li>ä¸æ˜¯åŒä¸€ä¸ªå±€åŸŸç½‘ä¸‹çš„ARPåè®®</li></ul><p><img src="/2021/05/10/jsjwl06/image-20210512163418607.png" alt="ä¸åŒä¸€ä¸ªå±€åŸŸç½‘ä¸‹çš„ARPåè®®-å¯»å€"></p><p><img src="/2021/05/10/jsjwl06/image-20210512163602990.png" alt="ä¸åŒä¸€ä¸ªå±€åŸŸç½‘ä¸‹çš„ARPåè®®-å¯»å€2"></p><p><img src="/2021/05/10/jsjwl06/image-20210512163641357.png" alt="ä¸åŒä¸€ä¸ªå±€åŸŸç½‘ä¸‹çš„ARPåè®®-å¯»å€3"></p><p><img src="/2021/05/10/jsjwl06/image-20210512163805021.png" alt="ä¸åŒä¸€ä¸ªå±€åŸŸç½‘ä¸‹çš„ARPåè®®-å¯»å€3"></p><blockquote><p>åœ¨Rçš„ç½‘ç»œå±‚ï¼Œå¯èƒ½ä¼šå¯¹æ•°æ®æŠ¥çš„IPåœ°å€è¿›è¡Œæ”¹å˜ï¼ˆNATåè®® å†…ç½‘å’Œå¹¿åŸŸç½‘ä¹‹é—´IPè½¬æ¢ï¼‰</p></blockquote><p><img src="/2021/05/10/jsjwl06/image-20210512164559330.png" alt="ä¸åŒä¸€ä¸ªå±€åŸŸç½‘ä¸‹çš„ARPåè®®-å¯»å€4"></p><h4 id="4-3-ä»¥å¤ªç½‘ï¼ˆEthernetï¼‰"><a href="#4-3-ä»¥å¤ªç½‘ï¼ˆEthernetï¼‰" class="headerlink" title="4.3 ä»¥å¤ªç½‘ï¼ˆEthernetï¼‰"></a>4.3 ä»¥å¤ªç½‘ï¼ˆEthernetï¼‰</h4><p><img src="/2021/05/10/jsjwl06/image-20210512231646969.png" alt="ä»¥å¤ªç½‘"></p><p><img src="/2021/05/10/jsjwl06/image-20210512231937042.png" alt="ä»¥å¤ªç½‘ï¼šç‰©ç†æ‹“æ‰‘"></p><blockquote><p><strong>å†²çªåŸŸï¼ˆcollision domainï¼‰</strong>ï¼šäº¤æ¢æœºçš„æŸä¸€ä¸ªç«¯å£ä¸å†è¿æ¥å¦å¤–çš„äº¤æ¢æœºæˆ–ç½‘ç»œï¼Œåªæ˜¯è¿æ¥åˆ°ä¸»æœºï¼Œåˆ™ç§°è¿™ä¸ªé“¾è·¯ä¸ºå†²çªåŸŸã€‚</p></blockquote><p><img src="/2021/05/10/jsjwl06/image-20210512232128837.png" alt="ä»¥å¤ªç½‘ç‰¹ç‚¹"></p><p><img src="/2021/05/10/jsjwl06/image-20210512232749266.png" alt="ä»¥å¤ªç½‘CSMA/CDç®—æ³•"></p><blockquote><p>äºŒè¿›åˆ¶æŒ‡æ•°é€€é¿ï¼Œå†²çª16æ¬¡å°±ä¸å†è¿›è¡Œå°è¯•äº†ã€‚</p></blockquote><p><img src="/2021/05/10/jsjwl06/image-20210512233143142.png" alt="ä»¥å¤ªç½‘å¸§ç»“æ„1"></p><p><img src="/2021/05/10/jsjwl06/image-20210512233537087.png" alt="ä»¥å¤ªç½‘å¸§ç»“æ„2"></p><p><img src="/2021/05/10/jsjwl06/image-20210512233904063.png" alt="ä»¥å¤ªç½‘æ ‡å‡†"></p><h4 id="4-4-äº¤æ¢æœºï¼ˆswitchï¼‰"><a href="#4-4-äº¤æ¢æœºï¼ˆswitchï¼‰" class="headerlink" title="4.4 äº¤æ¢æœºï¼ˆswitchï¼‰"></a>4.4 äº¤æ¢æœºï¼ˆswitchï¼‰</h4><p><img src="/2021/05/10/jsjwl06/image-20210512234157284.png" alt="äº¤æ¢æœºç‰¹ç‚¹"></p><p><img src="/2021/05/10/jsjwl06/image-20210512234332046.png" alt="äº¤æ¢æœºï¼šå¤šç«¯å£é—´åŒæ—¶ä¼ è¾“"></p><p><img src="/2021/05/10/jsjwl06/image-20210512234531746.png" alt="äº¤æ¢è¡¨"></p><p><img src="/2021/05/10/jsjwl06/image-20210512234639836.png" alt="è‡ªå­¦ä¹ æ„å»ºäº¤æ¢è¡¨"></p><p><img src="/2021/05/10/jsjwl06/image-20210512234912961.png" alt="å¸§è¿‡æ»¤"></p><p><img src="/2021/05/10/jsjwl06/image-20210512235208782.png" alt="äº¤æ¢æœºäº’è”"></p><p><img src="/2021/05/10/jsjwl06/image-20210512235600010.png" alt="ç»„ç»‡æœºæ„ç½‘ç»œ"></p><p><img src="/2021/05/10/jsjwl06/image-20210512235821137.png" alt="äº¤æ¢æœº vs. è·¯ç”±å™¨"></p><p><img src="/2021/05/10/jsjwl06/image-20210513000328511.png" alt="ç½‘ç»œè®¾å¤‡å¯¹æ¯”"></p><h4 id="4-5-è™šæ‹Ÿå±€åŸŸç½‘ï¼ˆVLANï¼‰"><a href="#4-5-è™šæ‹Ÿå±€åŸŸç½‘ï¼ˆVLANï¼‰" class="headerlink" title="4.5 è™šæ‹Ÿå±€åŸŸç½‘ï¼ˆVLANï¼‰"></a>4.5 è™šæ‹Ÿå±€åŸŸç½‘ï¼ˆVLANï¼‰</h4><p><img src="/2021/05/10/jsjwl06/image-20210513000826859.png" alt="VLANå¿…è¦æ€§"></p><p><img src="/2021/05/10/jsjwl06/image-20210513000925584.png" alt="VLAN"></p><p><img src="/2021/05/10/jsjwl06/image-20210513001115423.png" alt="åŸºäºç«¯å£çš„VLAN"></p><p><img src="/2021/05/10/jsjwl06/image-20210513001538980.png" alt="è·¨è¶Šå¤šäº¤æ¢æœºçš„VLAN"></p><p><img src="/2021/05/10/jsjwl06/image-20210513001727415.png" alt="802.1Qå¸§æ ¼å¼"></p><h3 id="5-802-11æ— çº¿å±€åŸŸç½‘"><a href="#5-802-11æ— çº¿å±€åŸŸç½‘" class="headerlink" title="5 802.11æ— çº¿å±€åŸŸç½‘"></a>5 802.11æ— çº¿å±€åŸŸç½‘</h3><p><img src="/2021/05/10/jsjwl06/image-20210513002332754.png" alt="802.11æ— çº¿å±€åŸŸç½‘"></p><p><img src="/2021/05/10/jsjwl06/image-20210513002422272.png" alt="802.11æ— çº¿å±€åŸŸç½‘"></p><p><img src="/2021/05/10/jsjwl06/image-20210513002612733.png" alt="802.11ä½“ç³»ç»“æ„"></p><p><img src="/2021/05/10/jsjwl06/image-20210513003035200.png" alt="ä¿¡é“ä¸APå…³è”"></p><p><img src="/2021/05/10/jsjwl06/image-20210513003207972.png" alt="APå…³è”"></p><p><img src="/2021/05/10/jsjwl06/image-20210513003424197.png" alt="å¤šè·¯è®¿é—®æ§åˆ¶"></p><p><img src="/2021/05/10/jsjwl06/image-20210513003718392.png" alt="CSMA/CA"></p><blockquote><p>802.11éœ€è¦è¿›è¡Œå¯é æ€§ä¼ è¾“ä¿è¯ï¼Œéœ€è¦ACKç¡®è®¤æ”¶åˆ°å¸§ã€‚</p></blockquote><blockquote><p>802.11é€šè¿‡ç©ºé—²æ—¶é—´é•¿çŸ­ï¼ˆDIFSå’ŒSIFSï¼‰æ¥åˆ¤æ–­ä¼˜å…ˆçº§ï¼Œå®è·µè¶ŠçŸ­ä¼˜å…ˆçº§è¶Šé«˜ã€‚SIFSæ¯”DIFSçŸ­ï¼Œæ‰€ä»¥ACKä¸€èˆ¬å…ˆå‘é€ã€‚</p></blockquote><p><img src="/2021/05/10/jsjwl06/image-20210513004126740.png" alt="CAåŸºæœ¬æ€æƒ³"></p><p><img src="/2021/05/10/jsjwl06/image-20210513004322601.png" alt="RTS-CTSäº¤æ¢"></p><p><img src="/2021/05/10/jsjwl06/image-20210513004516578.png" alt="802.11 MACå¸§æ ¼å¼"></p><p><img src="/2021/05/10/jsjwl06/image-20210513004647994.png" alt="æ•°æ®å¸§åœ°å€"></p><p><img src="/2021/05/10/jsjwl06/image-20210513004846692.png" alt="ä¸¾ä¾‹"></p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¡ç®—æœºç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœºå™¨å­¦ä¹ -ç¬¬ä¸€å‘¨</title>
      <link href="2021/04/30/ml01/"/>
      <url>2021/04/30/ml01/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> æœºå™¨å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æœºå™¨å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºç½‘ç»œ-ç½‘ç»œå±‚ï¼šæ§åˆ¶å¹³é¢</title>
      <link href="2021/04/27/jsjwl05/"/>
      <url>2021/04/27/jsjwl05/</url>
      
        <content type="html"><![CDATA[<h2 id="è®¡ç®—æœºç½‘ç»œ-ç½‘ç»œå±‚ï¼šæ§åˆ¶å¹³é¢"><a href="#è®¡ç®—æœºç½‘ç»œ-ç½‘ç»œå±‚ï¼šæ§åˆ¶å¹³é¢" class="headerlink" title="è®¡ç®—æœºç½‘ç»œ-ç½‘ç»œå±‚ï¼šæ§åˆ¶å¹³é¢"></a>è®¡ç®—æœºç½‘ç»œ-ç½‘ç»œå±‚ï¼šæ§åˆ¶å¹³é¢</h2><h3 id="1-å¯¼è®º"><a href="#1-å¯¼è®º" class="headerlink" title="1. å¯¼è®º"></a>1. å¯¼è®º</h3><p><img src="/2021/04/27/jsjwl05/image-20210427201135894.png" alt="ç½‘ç»œå±‚åŠŸèƒ½"></p><span id="more"></span><h3 id="2-è·¯ç”±é€‰æ‹©ç®—æ³•"><a href="#2-è·¯ç”±é€‰æ‹©ç®—æ³•" class="headerlink" title="2. è·¯ç”±é€‰æ‹©ç®—æ³•"></a>2. è·¯ç”±é€‰æ‹©ç®—æ³•</h3><ul><li><p>è·¯ç”±:æŒ‰ç…§æŸç§æŒ‡æ ‡(ä¼ è¾“å»¶è¿Ÿ,æ‰€ç»è¿‡çš„ç«™ç‚¹æ•°ç›®ç­‰)æ‰¾åˆ°ä¸€æ¡ä»æºèŠ‚ç‚¹åˆ°ç›®æ ‡èŠ‚ç‚¹çš„è¾ƒå¥½è·¯å¾„</p><ul><li>è¾ƒå¥½è·¯å¾„: æŒ‰ç…§æŸç§æŒ‡æ ‡è¾ƒå°çš„è·¯å¾„</li><li>æŒ‡æ ‡:ç«™æ•°, å»¶è¿Ÿ,è´¹ç”¨,é˜Ÿåˆ—é•¿åº¦ç­‰, æˆ–è€…æ˜¯ä¸€äº›å•çº¯æŒ‡æ ‡çš„åŠ æƒå¹³å‡</li><li>é‡‡ç”¨ä»€ä¹ˆæ ·çš„æŒ‡æ ‡ï¼Œè¡¨ç¤ºç½‘ç»œä½¿ç”¨è€…å¸Œæœ›ç½‘ç»œåœ¨ä»€ä¹ˆæ–¹é¢è¡¨ç°çªå‡ºï¼Œä»€ä¹ˆæŒ‡æ ‡ç½‘ç»œä½¿ç”¨è€…æ¯”è¾ƒé‡è§†</li></ul></li><li><p>ä»¥ç½‘ç»œä¸ºå•ä½è¿›è¡Œè·¯ç”±ï¼ˆè·¯ç”±ä¿¡æ¯é€šå‘Š+è·¯ç”±è®¡ç®—ï¼‰</p><ul><li>ç½‘ç»œä¸ºå•ä½è¿›è¡Œè·¯ç”±ï¼Œè·¯ç”±ä¿¡æ¯ä¼ è¾“ã€è®¡ç®—å’ŒåŒ¹é…çš„ä»£ä»·ä½</li><li>å‰ææ¡ä»¶æ˜¯ï¼šä¸€ä¸ªç½‘ç»œæ‰€æœ‰èŠ‚ç‚¹åœ°å€å‰ç¼€ç›¸åŒï¼Œä¸”ç‰©ç†ä¸Šèšé›†</li><li>è·¯ç”±å°±æ˜¯ï¼šè®¡ç®—ç½‘ç»œåˆ°å…¶ä»–ç½‘ç»œå¦‚ä½•èµ°çš„é—®é¢˜</li></ul></li><li><p>ç½‘ç»œåˆ°ç½‘ç»œçš„è·¯ç”± = è·¯ç”±å™¨-è·¯ç”±å™¨ä¹‹é—´è·¯ç”±</p><ul><li>ç½‘ç»œå¯¹åº”çš„è·¯ç”±å™¨åˆ°å…¶ä»–ç½‘ç»œå¯¹åº”çš„è·¯ç”±å™¨çš„è·¯ç”±</li><li>åœ¨ä¸€ä¸ªç½‘ç»œä¸­ï¼šè·¯ç”±å™¨-ä¸»æœºä¹‹é—´çš„é€šä¿¡ï¼Œé“¾è·¯å±‚è§£å†³</li><li>åˆ°äº†è¿™ä¸ªè·¯ç”±å™¨å°±æ˜¯åˆ°äº†è¿™ä¸ªç½‘ç»œ</li></ul></li><li><p>è·¯ç”±é€‰æ‹©ç®—æ³•(routing algorithm)ï¼šç½‘ç»œå±‚è½¯ä»¶çš„ä¸€éƒ¨åˆ†,å®Œæˆè·¯ç”±åŠŸèƒ½</p></li><li><p><img src="/2021/04/27/jsjwl05/image-20210427203204658.png" alt="ç½‘ç»œçš„å›¾æŠ½è±¡1"></p></li></ul><p> <img src="/2021/04/27/jsjwl05/image-20210428224703656.png" alt="è´¹ç”¨"></p><p><img src="/2021/04/27/jsjwl05/image-20210501175511806.png" alt="æœ€ä¼˜åŒ–åŸåˆ™"></p><ul><li><p>è·¯ç”±é€‰æ‹©ç®—æ³•çš„åŸåˆ™</p><ul><li>æ­£ç¡®æ€§(correctness):ç®—æ³•å¿…é¡»æ˜¯æ­£ç¡®çš„å’Œå®Œæ•´çš„ï¼Œä½¿åˆ†ç»„ä¸€ç«™ä¸€ç«™æ¥åŠ›ï¼Œæ­£ç¡®å‘å‘ç›®æ ‡ç«™ï¼›å®Œæ•´ï¼šç›®æ ‡æ‰€æœ‰çš„ç«™åœ°å€ï¼Œåœ¨è·¯ç”±è¡¨ä¸­éƒ½èƒ½æ‰¾åˆ°ç›¸åº”çš„è¡¨é¡¹ï¼›æ²¡æœ‰å¤„ç†ä¸äº†çš„ç›®æ ‡ç«™åœ°å€ï¼›</li><li>ç®€å•æ€§(simplicity):ç®—æ³•åœ¨è®¡ç®—æœºä¸Šåº”ç®€å•ï¼šæœ€ä¼˜ä½†å¤æ‚çš„ç®—æ³•ï¼Œæ—¶é—´ä¸Šå»¶è¿Ÿå¾ˆå¤§ï¼Œä¸å®ç”¨ï¼Œä¸åº”ä¸ºäº†è·å–è·¯ç”±ä¿¡æ¯å¢åŠ å¾ˆå¤šçš„é€šä¿¡é‡ï¼›</li><li>å¥å£®æ€§(robustness):ç®—æ³•åº”èƒ½é€‚åº”é€šä¿¡é‡å’Œç½‘ç»œæ‹“æ‰‘çš„å˜åŒ–ï¼šé€šä¿¡é‡å˜åŒ–ï¼Œç½‘ç»œæ‹“æ‰‘çš„å˜åŒ–ç®—æ³•èƒ½å¾ˆå¿«é€‚åº”ï¼›ä¸å‘å¾ˆæ‹¥æŒ¤çš„é“¾è·¯å‘æ•°æ®ï¼Œä¸å‘æ–­äº†çš„é“¾è·¯å‘é€æ•°æ®ï¼›</li><li>ç¨³å®šæ€§(stability)ï¼šäº§ç”Ÿçš„è·¯ç”±ä¸åº”è¯¥æ‘‡æ‘†</li><li>å…¬å¹³æ€§(fairness)ï¼šå¯¹æ¯ä¸€ä¸ªç«™ç‚¹éƒ½å…¬å¹³</li><li>æœ€ä¼˜æ€§(optimality)ï¼šæŸä¸€ä¸ªæŒ‡æ ‡çš„æœ€ä¼˜ï¼Œæ—¶é—´ä¸Šï¼Œè´¹ç”¨ä¸Šï¼Œç­‰æŒ‡æ ‡ï¼Œæˆ–ç»¼åˆæŒ‡æ ‡ï¼›å®é™…ä¸Šï¼Œè·å–æœ€ä¼˜çš„ç»“æœä»£ä»·è¾ƒé«˜ï¼Œå¯ä»¥æ˜¯æ¬¡ä¼˜çš„</li></ul></li><li><p>è·¯ç”±ç®—æ³•åˆ†ç±»</p></li></ul><p><img src="/2021/04/27/jsjwl05/image-20210428230516251.png" alt="è·¯ç”±ç®—æ³•"></p><blockquote><p>é™æ€è·¯ç”±ï¼šéè‡ªé€‚åº”ç®—æ³•ï¼ˆnon-adaptive algorithmï¼‰ï¼šä¸èƒ½é€‚åº”ç½‘ç»œæ‹“æ‰‘å’Œé€šä¿¡é‡çš„å˜åŒ–ï¼Œè·¯ç”±è¡¨æ˜¯äº‹å…ˆè®¡ç®—å¥½çš„ã€‚</p><p>åŠ¨æ€è·¯ç”±ï¼šè‡ªé€‚åº”è·¯ç”±é€‰æ‹©ï¼ˆadaptive algorithmï¼‰ï¼šèƒ½é€‚åº”ç½‘ç»œæ‹“æ‰‘å’Œé€šä¿¡é‡çš„å˜åŒ–ã€‚</p></blockquote><ul><li>é“¾è·¯çŠ¶æ€è·¯ç”±ç®—æ³•å’Œè·ç¦»çŸ¢é‡è·¯ç”±ç®—æ³•éƒ½æ˜¯åŠ¨æ€è·¯ç”±é€‰æ‹©ç®—æ³•ã€‚å…¶ä¸­é“¾è·¯çŠ¶æ€è·¯ç”±ç®—æ³•åˆ©ç”¨çš„æ˜¯å…¨å±€ä¿¡æ¯ï¼Œè€Œè·ç¦»çŸ¢é‡è·¯ç”±ç®—æ³•åˆ©ç”¨çš„æ˜¯åˆ†æ•£ä¿¡æ¯ã€‚</li></ul><h4 id="2-1-é“¾è·¯çŠ¶æ€è·¯ç”±ç®—æ³•"><a href="#2-1-é“¾è·¯çŠ¶æ€è·¯ç”±ç®—æ³•" class="headerlink" title="2.1 é“¾è·¯çŠ¶æ€è·¯ç”±ç®—æ³•"></a>2.1 é“¾è·¯çŠ¶æ€è·¯ç”±ç®—æ³•</h4><p><img src="/2021/04/27/jsjwl05/image-20210501180127082.png" alt="LSè·¯ç”±å·¥ä½œè¿‡ç¨‹"></p><p><img src="/2021/04/27/jsjwl05/image-20210501180239162.png" alt="lsè·¯ç”±"></p><blockquote><p>æ³›æ´ªä¼ é€’ä¿¡æ¯ï¼Œå¯èƒ½é‡åˆ°é—®é¢˜ï¼šå‘ç”Ÿä¿¡æ¯é£æš´</p><p>è§£å†³æ–¹æ¡ˆï¼š</p><ol><li>é¡ºåºå·ï¼šç±»ä¼¼äºç‰ˆæœ¬å·ï¼Œç”¨äºæ§åˆ¶æ— ç©·çš„æ‰©æ•£ã€‚å¦‚æœå‘ç°æœ‰ç›¸åŒçš„æˆ–æ›´è€çš„é¡ºåºå·çš„åˆ†ç»„ä¼ é€’è¿‡æ¥ï¼Œå°±å°†å…¶ä¸¢å¼ƒã€‚</li><li>å¹´é¾„å­—æ®µï¼ˆAGEï¼‰ï¼šç±»ä¼¼äºTTLï¼Œæ¯è¿‡ä¸€ä¸ªæ—¶é—´æ®µï¼ŒAGEå‡ä¸€ï¼Œå‡ä¸ºé›¶ä»¥åä¸¢å¼ƒã€‚</li></ol></blockquote><p>â€‹    <img src="/2021/04/27/jsjwl05/image-20210501181558907.png" alt="LSåˆ†ç»„çš„æ‰©æ•£"></p><ul><li><p>Dijkstraç®—æ³•</p><p><img src="/2021/04/27/jsjwl05/image-20210429103921468.png" alt="Dijkstraç®—æ³•"></p></li></ul><p><img src="/2021/04/27/jsjwl05/image-20210429104051152.png" alt="Dijkstraç®—æ³•1"></p><p><img src="/2021/04/27/jsjwl05/image-20210501181814898.png" alt="LSå·¥ä½œåŸç†"></p><p><img src="/2021/04/27/jsjwl05/image-20210429104226152.png" alt="Dijkstraç¤ºä¾‹1"></p><p><img src="/2021/04/27/jsjwl05/image-20210429104253078.png" alt="Dijkstraç¤ºä¾‹2"></p><p><img src="/2021/04/27/jsjwl05/image-20210429104339907.png" alt="Dijkstraç¤ºä¾‹2 uçš„è½¬å‘è¡¨"></p><p><img src="/2021/04/27/jsjwl05/image-20210429104652464.png" alt="è®¨è®º"></p><blockquote><p>æ‰€ä»¥å¦‚æœè½¬å‘è¡¨æ›´æ–°è¿‡å¿«ï¼Œå¯èƒ½å¯¼è‡´æŠ¥æ–‡ä¸€ç›´éš¾ä»¥è¢«ä¼ é€åˆ°ç›®çš„åœ°è€Œä¸€ç›´åœ¨é“¾è·¯ä¸­ç»•åœˆï¼Œå› æ­¤ä¸€èˆ¬ä¼šç»™é“¾è·¯è¡¨ä¸€ä¸ªæ›´æ–°çš„å»¶è¿Ÿæ—¶é—´ã€‚</p></blockquote><h4 id="2-2-è·ç¦»å‘é‡è·¯ç”±ç®—æ³•"><a href="#2-2-è·ç¦»å‘é‡è·¯ç”±ç®—æ³•" class="headerlink" title="2.2 è·ç¦»å‘é‡è·¯ç”±ç®—æ³•"></a>2.2 è·ç¦»å‘é‡è·¯ç”±ç®—æ³•</h4><p><img src="/2021/04/27/jsjwl05/image-20210429105048675.png" alt="è·ç¦»å‘é‡è·¯ç”±ç®—æ³•åŸç†"></p><p><img src="/2021/04/27/jsjwl05/image-20210429105241726.png" alt="Bellman-Fordä¸¾ä¾‹"></p><p><img src="/2021/04/27/jsjwl05/image-20210429105630026.png" alt="è·ç¦»å‘é‡è·¯ç”±ç®—æ³•"></p><p><img src="/2021/04/27/jsjwl05/image-20210429105925809.png" alt="è·ç¦»å‘é‡è·¯ç”±ç®—æ³•ç‰¹ç‚¹"></p><p><img src="/2021/04/27/jsjwl05/image-20210429111142396.png" alt="ä¸¾ä¾‹"></p><blockquote><p>xå’ŒzèŠ‚ç‚¹é‡æ–°è®¡ç®—ä¹‹åè·ç¦»å‘é‡å‘ç”Ÿå˜åŒ–ï¼Œæ‰€ä»¥è¿˜éœ€è¦å†æ¬¡é‡æ–°è®¡ç®—ï¼Œç›´åˆ°é‡æ–°è®¡ç®—éƒ½ä¸å‘ç”Ÿå˜æ¢ä½ç½®ã€‚</p></blockquote><ul><li><p>é“¾è·¯è´¹ç”¨å‘ç”Ÿæ”¹å˜ï¼š</p><ul><li>å¥½æ¶ˆæ¯ä¼ æ’­çš„å¿«ï¼</li></ul><p><img src="/2021/04/27/jsjwl05/image-20210429194822985.png" alt="å¥½æ¶ˆæ¯ä¼ æ’­çš„å¿«"></p><blockquote><p>è¿™é‡Œåªè®¨è®ºyå’Œzä¹‹é—´å½±å“ä¸‹yå’Œzåˆ°è¾¾xçš„æœ€å°è·ç¦»</p></blockquote><p><img src="/2021/04/27/jsjwl05/image-20210509170554570.png" alt="å¥½æ¶ˆæ¯ä¼ æ’­çš„å¿«"></p><ul><li><p>åæ¶ˆæ¯ä¼ æ’­çš„æ…¢</p><p><img src="/2021/04/27/jsjwl05/image-20210429195405694.png" alt="åæ¶ˆæ¯ä¼ æ’­çš„æ…¢"></p><blockquote><p>å¦‚æœå…¶ä¸­æœ‰ç¯è·¯çš„è¯ï¼Œæœ‰å¯èƒ½å¯¼è‡´ä¼ æ’­å¾ˆå¤šæ¬¡ï¼Œæ— ç©·è®¡æ•°</p></blockquote><p><img src="/2021/04/27/jsjwl05/image-20210509170618072.png" alt="åæ¶ˆæ¯ä¼ æ’­çš„æ…¢"></p></li><li><p>æ— ç©·è®¡æ•°é—®é¢˜è§£å†³æ–¹æ¡ˆï¼š</p><ul><li>æ–¹æ³•ä¸€ï¼šæ°´å¹³åˆ†è£‚/æ¯’æ€§é€†è½¬</li></ul><p><img src="/2021/04/27/jsjwl05/image-20210509171411449.png" alt="æ°´å¹³åˆ†è£‚ç®—æ³•"></p><p><img src="/2021/04/27/jsjwl05/image-20210509171515012.png" alt="æ°´å¹³åˆ†è£‚ç®—æ³•ä¸è¶³"></p><ul><li>æ–¹æ³•äºŒï¼šå®šä¹‰è·¯å¾„åº¦é‡ï¼ˆä»£ä»·ï¼‰çš„æœ€å¤§å€¼</li></ul></li></ul></li></ul><h4 id="2-3-ä¸¤ç§è·¯ç”±ç®—æ³•æ¯”è¾ƒ"><a href="#2-3-ä¸¤ç§è·¯ç”±ç®—æ³•æ¯”è¾ƒ" class="headerlink" title="2.3 ä¸¤ç§è·¯ç”±ç®—æ³•æ¯”è¾ƒ"></a>2.3 ä¸¤ç§è·¯ç”±ç®—æ³•æ¯”è¾ƒ</h4><p><img src="/2021/04/27/jsjwl05/image-20210509171833204.png" alt="ä¸¤ç§è·¯ç”±ç®—æ³•æ¯”è¾ƒ"></p><ul><li><p>æ”¶æ•›æ—¶é—´</p><ul><li>é“¾è·¯çŠ¶æ€ç®—æ³•å¾—çŸ¥æ‰€æœ‰è·¯ç”±ä¿¡æ¯åï¼Œæ ¹æ®Dijkstraç®—æ³•å°±å¯ä»¥ä¸€æ¬¡å¾—åˆ°è·¯ç”±è¡¨</li><li>è·ç¦»çŸ¢é‡ç®—æ³•å´éœ€è¦å¤šæ¬¡è¿­ä»£æ‰èƒ½è·å¾—è·¯ç”±è¡¨</li></ul></li><li><p>å¥å£®æ€§</p><ul><li>ä¾‹å¦‚æŸè·¯ç”±è¡¨æ•…éšœæ˜¾ç¤ºåˆ°æ‰€æœ‰è·¯ç”±è¡¨çš„è·ç¦»ä¸º0ï¼Œåˆ™ç”±äºå¥½æ¶ˆæ¯åœ¨DVä¸­ä¼ æ’­å¾—å¿«ï¼Œæ‰€æœ‰è·¯ç”±è¡¨éƒ½å¯èƒ½ä¼šç»è¿‡è¿™ä¸ªè·¯ç”±è¡¨ä¼ æ’­ï¼Œå½±å“å¤§ã€‚</li></ul></li></ul><h3 id="3-å±‚æ¬¡è·¯ç”±"><a href="#3-å±‚æ¬¡è·¯ç”±" class="headerlink" title="3. å±‚æ¬¡è·¯ç”±"></a>3. å±‚æ¬¡è·¯ç”±</h3><p><img src="/2021/04/27/jsjwl05/image-20210509173306110.png" alt="ä½¿ç”¨å±‚æ¬¡è·¯ç”±çš„åŸå› "></p><p><img src="/2021/04/27/jsjwl05/image-20210509173731237.png" alt="å±‚æ¬¡è·¯ç”±çš„è·¯ç”±å™¨"></p><p><img src="/2021/04/27/jsjwl05/image-20210509173941032.png" alt="äº’è¿çš„AS"></p><p><img src="/2021/04/27/jsjwl05/image-20210509175128417.png" alt="è‡ªæ²»ç³»ç»Ÿé—´è·¯ç”±ä»»åŠ¡"></p><p><img src="/2021/04/27/jsjwl05/image-20210509180128374.png" alt="ä¸¾ä¾‹1"></p><p><img src="/2021/04/27/jsjwl05/image-20210509180420609.png" alt="ä¸¾ä¾‹2"></p><h4 id="3-1-è‡ªæ²»ç³»ç»Ÿå†…éƒ¨åè®®"><a href="#3-1-è‡ªæ²»ç³»ç»Ÿå†…éƒ¨åè®®" class="headerlink" title="3.1 è‡ªæ²»ç³»ç»Ÿå†…éƒ¨åè®®"></a>3.1 è‡ªæ²»ç³»ç»Ÿå†…éƒ¨åè®®</h4><p><img src="/2021/04/27/jsjwl05/image-20210509180618795.png" alt="è‡ªæ²»ç³»ç»Ÿå†…éƒ¨åè®®"></p><h5 id="3-1-1-RIPåè®®"><a href="#3-1-1-RIPåè®®" class="headerlink" title="3.1.1 RIPåè®®"></a>3.1.1 RIPåè®®</h5><p>Routing Information Protocol,è·¯ç”±ä¿¡æ¯åè®®</p><p><img src="/2021/04/27/jsjwl05/image-20210509181704268.png" alt="RIP"></p><blockquote><ul><li>è·ç¦»åº¦é‡ï¼šä¸ºäº†è§£å†³æ— é™è®¡æ•°é—®é¢˜</li><li>æ¯éš”30så°±äº¤æ¢ä¸€æ¬¡DVï¼Œè€Œä¸æ˜¯DVç®—æ³•ä¸­çš„DVå‘ç”Ÿæ”¹å˜æ‰äº¤æ¢ä¸€æ¬¡DV</li></ul></blockquote><p><img src="/2021/04/27/jsjwl05/image-20210509181919224.png" alt="RIPä¸¾ä¾‹"></p><blockquote><p>æ³¨æ„è¿™é‡Œä¸ºä»€ä¹ˆAä¼ é€’ç»™Dçš„DVä¸­è¦æœ‰nextï¼ˆä¸‹ä¸€è·³ï¼‰çš„ä¿¡æ¯ï¼Œæ˜¯ä¸ºäº†å®ç°æ¯’æ€§é€†è½¬ã€‚</p></blockquote><p><img src="/2021/04/27/jsjwl05/image-20210509183329086.png" alt="RIPé“¾è·¯å¤±æ•ˆå’Œæ¢å¤"></p><blockquote><p>è™½ç„¶å¯èƒ½ä¼šå‘ç”Ÿæ— ç©·è®¡æ•°é—®é¢˜ï¼Œä½†æ˜¯å› ä¸ºRIPé‡‡ç”¨è·ç¦»åº¦é‡å’Œæ¯’æ€§é€†è½¬æŠ€æœ¯ï¼Œæ‰€ä»¥å¤§å¤§é™ä½äº†è¿™ç§å¯èƒ½ã€‚è€ŒåŒæ ·å› ä¸ºè·ç¦»åº¦é‡è®¾ç½®è·³æ•°æœ€å¤§ä¸º15ï¼Œæ‰€ä»¥RIPåè®®ä¸é€‚åˆè¾ƒå¤§çš„è‡ªæ²»ç³»ç»Ÿã€‚</p></blockquote><p><img src="/2021/04/27/jsjwl05/image-20210509183829440.png" alt="RIPè·¯ç”±è¡¨çš„å¤„ç†"></p><ul><li>æ³¨æ„ï¼šRIPåè®®æ˜¯ç”±åº”ç”¨å±‚è¿›ç¨‹è¿›è¡Œç®¡ç†çš„ã€‚ä½†æ˜¯RIPæ˜¯ä¸ºäº†å®ç°ç½‘ç»œå±‚åŠŸèƒ½ï¼Œæ‰€ä»¥RIPæ˜¯ç½‘ç»œå±‚åè®®ï¼Œè€Œä¸æ˜¯åº”ç”¨å±‚åè®®ã€‚</li><li>å› ä¸ºRIPæ˜¯ä¾èµ–äºUDPåè®®ï¼Œæ‰€ä»¥è·¯ç”±å™¨ä¸Šä¹Ÿè¦æ”¯æŒç«¯åˆ°ç«¯çš„åè®®UDPï¼ˆå½“ç„¶æœ‰çš„è·¯ç”±åè®®ä¾èµ–äºTCPï¼Œæ‰€ä»¥æœ‰çš„è¦æ”¯æŒTCPåè®®ï¼‰ã€‚ä¸è¿‡è¿™äº›åº”ç”¨å±‚åè®®å’Œä¼ è¾“å±‚åè®®éƒ½æ˜¯ä¸ºäº†å®ç°ç½‘ç»œå±‚çš„åŠŸèƒ½ï¼Œæ‰€ä»¥åœ¨é€šä¿¡ç½‘ç»œçš„äº”å±‚ç¤ºæ„æ¨¡å‹ä¸­ï¼Œå¯¹äºè·¯ç”±å™¨è¿˜æ˜¯åªè®¤ä¸ºæœ‰ä¸‰å±‚åè®®ã€‚</li></ul><h5 id="3-1-2-OSPFåè®®"><a href="#3-1-2-OSPFåè®®" class="headerlink" title="3.1.2 OSPFåè®®"></a>3.1.2 OSPFåè®®</h5><p><img src="/2021/04/27/jsjwl05/image-20210509201159812.png" alt="OSPFåè®®ç‰¹ç‚¹"></p><p><img src="/2021/04/27/jsjwl05/image-20210509201855863.png" alt="OSPFä¼˜ç‚¹"></p><p><img src="/2021/04/27/jsjwl05/image-20210509202150162.png" alt="OSPFçš„è¿›ä¸€æ­¥åˆ†å±‚"></p><p><img src="/2021/04/27/jsjwl05/image-20210509202440415.png" alt="åŒºè¾¹ç•Œè·¯ç”±å™¨"></p><blockquote><p>åŒºè¾¹ç•Œè·¯ç”±å™¨æ—¢æ˜¯å±€éƒ¨åŒºçš„è·¯ç”±å™¨ï¼ŒçŸ¥é“å±€éƒ¨åŒºè·¯ç”±å™¨çš„é“¾è·¯çŠ¶æ€ï¼›åŒæ—¶ä¹Ÿæ˜¯ä¸»å¹²åŒºçš„è·¯ç”±å™¨ï¼ŒçŸ¥é“ä¸»å¹²åŒºè·¯ç”±å™¨çš„é“¾è·¯çŠ¶æ€ã€‚æ­¤å¤–æœ€é‡è¦çš„æ˜¯åŒºè¾¹ç•Œè·¯ç”±å™¨éœ€è¦å°†è¯¥å±€éƒ¨åŒºçš„æ‰€æœ‰è·¯ç”±å™¨çš„è·ç¦»ä¿¡æ¯é€šå‘Šç»™ä¸»å¹²åŒºå…¶ä»–è·¯ç”±å™¨ï¼Œä½†æ˜¯ä¸ä¼šé€šå‘Šè¯¦ç»†çš„æ‹“æ‰‘ç»“æ„ã€‚</p></blockquote><p><img src="/2021/04/27/jsjwl05/image-20210509202913046.png" alt="ä¸»å¹²è·¯ç”±å™¨"></p><p><img src="/2021/04/27/jsjwl05/image-20210509202937361.png" alt="ASè¾¹ç•Œè·¯ç”±å™¨"></p><blockquote><p>ASè¾¹ç•Œè·¯ç”±å™¨åœ¨ä¸€ä¸ªè‡ªæ²»ç³»ç»Ÿä¸­å¯ä»¥æœ‰ä¸€ä¸ªï¼Œä¹Ÿå¯ä»¥æœ‰å¤šä¸ªã€‚</p><p>ASè¾¹ç•Œè·¯ç”±å™¨è´Ÿè´£è¿æ¥ä¸åŒçš„ASï¼Œå±äºç½‘å…³è·¯ç”±å™¨ã€‚</p></blockquote><h4 id="3-2-è‡ªæ²»ç³»ç»Ÿé—´çš„åè®®"><a href="#3-2-è‡ªæ²»ç³»ç»Ÿé—´çš„åè®®" class="headerlink" title="3.2 è‡ªæ²»ç³»ç»Ÿé—´çš„åè®®"></a>3.2 è‡ªæ²»ç³»ç»Ÿé—´çš„åè®®</h4><ul><li>Internetä¸­è‡ªæ²»ç³»ç»Ÿé—´çš„åè®®ï¼šBGPåè®®</li></ul><p><img src="/2021/04/27/jsjwl05/image-20210509204637666.png" alt="BGPç‰¹ç‚¹"></p><p><img src="/2021/04/27/jsjwl05/image-20210509205709114.png" alt="BGPåŸºç¡€"></p><p><img src="/2021/04/27/jsjwl05/image-20210509205828738.png" alt="BGPåŸºç¡€2"></p><p><img src="/2021/04/27/jsjwl05/image-20210509210144760.png" alt="BGPåŸºç¡€ï¼šåˆ†å‘è·¯å¾„ä¿¡æ¯"></p><p><img src="/2021/04/27/jsjwl05/image-20210509211230791.png" alt="BGPé€šå‘ŠåŒ…å«ä¿¡æ¯"></p><p><img src="/2021/04/27/jsjwl05/image-20210509212126057.png" alt="BGPè·¯ç”±é€‰æ‹©"></p><p><img src="/2021/04/27/jsjwl05/image-20210509214057233.png" alt="BGPè·¯ç”±é€‰æ‹©ç­–ç•¥"></p><p><img src="/2021/04/27/jsjwl05/image-20210509214423314.png" alt="BGPè·¯ç”±é€‰æ‹©ç­–ç•¥2"></p><p><img src="/2021/04/27/jsjwl05/image-20210509214620036.png" alt="ASé—´å’ŒASå†…è·¯ç”±åè®®ä¸åŒåŸå› "></p><h3 id="4-SDNæ§åˆ¶å¹³é¢"><a href="#4-SDNæ§åˆ¶å¹³é¢" class="headerlink" title="4. SDNæ§åˆ¶å¹³é¢"></a>4. SDNæ§åˆ¶å¹³é¢</h3><p><img src="/2021/04/27/jsjwl05/image-20210510200914958.png" alt="SDNç‰¹ç‚¹"></p><p><img src="/2021/04/27/jsjwl05/image-20210510200930360.png" alt="æ•°æ®å¹³é¢äº¤æ¢æœº"></p><p><img src="/2021/04/27/jsjwl05/image-20210510200940572.png" alt="SDNæ§åˆ¶å™¨"></p><blockquote><p>é²æ£’æ€§ï¼šæ˜¯Robustçš„éŸ³è¯‘ï¼Œä¹Ÿå°±æ˜¯å¥å£®å’Œå¼ºå£®çš„æ„æ€ã€‚å®ƒä¹Ÿæ˜¯åœ¨å¼‚å¸¸å’Œå±é™©æƒ…å†µä¸‹ç³»ç»Ÿç”Ÿå­˜çš„èƒ½åŠ›ã€‚</p></blockquote><p><img src="/2021/04/27/jsjwl05/image-20210510200949995.png" alt="æ§åˆ¶åº”ç”¨"></p><blockquote><p>æ§åˆ¶åº”ç”¨åœ¨åŒ—å‘æ¥å£ä¹‹ä¸Šçš„ã€‚</p></blockquote><p><img src="/2021/04/27/jsjwl05/image-20210510201000613.png" alt="æ§åˆ¶å™¨ä¸­çš„å…ƒä»¶"></p><p><img src="/2021/04/27/jsjwl05/image-20210510201010936.png" alt="OpenFlow"></p><p><img src="/2021/04/27/jsjwl05/image-20210510201019063.png" alt="æ§åˆ¶å™¨åˆ°äº¤æ¢æœºæŠ¥æ–‡"></p><blockquote><p>packet-outï¼šç”¨äºå½“äº¤æ¢æœºæ¥æ”¶åˆ°çš„æŠ¥æ–‡ä¸çŸ¥é“è¯¥ä¼ é€’åˆ°å“ªä¸ªç«¯å£æ—¶ï¼Œæ§åˆ¶å…¶ä¼ å‘æŸç‰¹å®šçš„ç«¯å£ã€‚</p></blockquote><p><img src="/2021/04/27/jsjwl05/image-20210510201027727.png" alt="äº¤æ¢æœºåˆ°æ§åˆ¶å™¨æŠ¥æ–‡"></p><p><img src="/2021/04/27/jsjwl05/image-20210510201037155.png" alt="ä¸¾ä¾‹"></p><p><img src="/2021/04/27/jsjwl05/image-20210510201046205.png" alt="ä¸¾ä¾‹2"></p><p><img src="/2021/04/27/jsjwl05/image-20210510201056875.png" alt="ODLæ§åˆ¶å™¨"></p><blockquote><p>åŒ—å‘æ¥å£ï¼šREST API</p></blockquote><p><img src="/2021/04/27/jsjwl05/image-20210510201105616.png" alt="ONOSæ§åˆ¶å™¨"></p><p><img src="/2021/04/27/jsjwl05/image-20210510201124565.png" alt="SDNé¢ä¸´çš„æŒ‘æˆ˜"></p><h3 id="æ‹“å±•"><a href="#æ‹“å±•" class="headerlink" title="æ‹“å±•"></a>æ‹“å±•</h3><h4 id="1-å¹¿æ’­"><a href="#1-å¹¿æ’­" class="headerlink" title="1. å¹¿æ’­"></a>1. å¹¿æ’­</h4><ul><li><p>ä¸€å¯¹å¤šï¼Œä¸€ä¸ªæºç«¯ï¼Œå…¶ä»–éƒ½æ˜¯ç›®çš„ç«¯ï¼Œä½†æ˜¯ä¸èƒ½ç©¿è¶Šè·¯ç”±å™¨</p></li><li><p>ä¸€ç§æ–¹å¼ï¼šæºç«¯æ‹·è´ï¼ˆsource duplicationï¼‰å®ç°ï¼Œå³ä»æºç«¯å‘é€åˆ°å…¶ä»–æ‰€æœ‰ç›®æ ‡ç«¯æŠ¥æ–‡æ‹·è´  â€”æ•ˆç‡å¾ˆä½ï¼Œä¸åˆé€‚ï¼›å¯è¡Œæ€§ä¸è¡Œï¼Œå› ä¸ºéœ€è¦çŸ¥é“æ‰€æœ‰å…¶ä»–ç»“ç‚¹çš„IPåœ°å€ï¼Œè¿™æ˜¯å¾ˆéš¾å®ç°çš„</p></li><li><p>å¦ä¸€ç§æ–¹å¼ï¼šåŸºäºè·¯ç”±å™¨æ‹·è´å®ç°ï¼ˆin-network duplicationï¼‰ï¼Œè·¯ç”±æ¥æ”¶åˆ°æŠ¥æ–‡åè¿›è¡Œæ‹·è´ç„¶åè¿›ä¸€æ­¥ä¼ æ’­ã€‚</p></li><li><p>æ³›æ´ªï¼ˆfloodingï¼‰ï¼šå½“è·¯ç”±æ¥æ”¶åˆ°æŠ¥æ–‡åè¿›è¡Œæ‹·è´ç„¶åè¿›ä¸€æ­¥ä¼ æ’­ç»™è‡ªå·±æ‰€æœ‰çš„é‚»å±…ã€‚</p><ul><li><p>å­˜åœ¨é—®é¢˜ï¼šå­˜åœ¨å›è·¯æ—¶å¯èƒ½å­˜åœ¨å¹¿æ’­é£æš´</p></li><li><p>å—æ§çš„æ³›æ´ªï¼ˆcontrolled floodingï¼‰â€”å¯ä»¥è§£å†³å¹¿æ’­é£æš´é—®é¢˜ï¼Œä½†æ˜¯å­˜åœ¨å†—ä½™æ•°æ®æŠ¥é—®é¢˜</p><ul><li>æ•°æ®æŠ¥åŠ åºåˆ—å·ï¼Œå½“æ¥æ”¶åˆ°è¯¥è·¯ç”±å™¨å·²è½¬å‘è¿‡çš„ç›¸åŒåºåˆ—å·çš„æŠ¥æ–‡ï¼Œåˆ™ä¸å†è¿›è¡Œè½¬å‘</li><li>åå‘è·¯å¾„è½¬å‘ï¼ˆRPFï¼‰ï¼šè·¯ç”±å™¨åœ¨å•æ’­è·¯ç”±è¡¨ä¸­æŸ¥æ‰¾æºåœ°å€ä»¥ç¡®å®šæ•°æ®åŒ…åˆ°è¾¾çš„æ¥å£æ˜¯å¦ä½äºè¿”å›ä¿¡æºçš„çš„åå‘è·¯å¾„ä¸Šï¼Œå¦‚æœæ˜¯åˆ™RPFæ£€æŸ¥æˆåŠŸï¼Œå¦‚æœä¸æ˜¯åˆ™æ ‡è®°â€œRPFå¤±è´¥ä¸¢å¼ƒâ€å¹¶ä¸¢å¼ƒæ•°æ®åŒ…ã€‚</li></ul></li><li><p>ç”Ÿæˆæ ‘ï¼ˆspanning treeï¼‰ï¼šæ—¢å¯ä»¥è§£å†³å¹¿æ’­é£æš´é—®é¢˜ï¼Œåˆå¯ä»¥è§£å†³å†—ä½™æ•°æ®æŠ¥é—®é¢˜</p><p><img src="/2021/04/27/jsjwl05/image-20210510210342774.png" alt="ç”Ÿæˆæ ‘"></p><p><img src="/2021/04/27/jsjwl05/image-20210510210411661.png" alt="ç”Ÿæˆæ ‘"></p></li></ul></li></ul><h4 id="2-ç»„æ’­ï¼ˆå¤šæ’­ï¼‰"><a href="#2-ç»„æ’­ï¼ˆå¤šæ’­ï¼‰" class="headerlink" title="2. ç»„æ’­ï¼ˆå¤šæ’­ï¼‰"></a>2. ç»„æ’­ï¼ˆå¤šæ’­ï¼‰</h4><ul><li><p>ä¸€å¯¹å¤šï¼Œæºç«¯ä¼ é€’ç»™ç»„é‡Œé¢æ‰€æœ‰çš„æˆå‘˜ã€‚å¯ä»¥ç©¿è¶Šè·¯ç”±å™¨</p></li><li><p>ç”Ÿæˆæ ‘</p><ul><li><p>åŸºäºæºç«¯çš„ç”Ÿæˆæ ‘ï¼ˆsource-based treeï¼‰</p><ul><li><p>æœ€çŸ­è·¯å¾„çš„æ ‘</p><p><img src="/2021/04/27/jsjwl05/image-20210510210959493.png" alt="æœ€çŸ­è·¯å¾„çš„æ ‘"></p></li><li><p>åå‘è·¯å¾„è½¬å‘ï¼ˆä¿¡æºæ ‘ï¼‰</p><p><img src="/2021/04/27/jsjwl05/image-20210510211114626.png" alt="åå‘è·¯å¾„è½¬å‘"></p><p><img src="/2021/04/27/jsjwl05/image-20210510211128927.png" alt="åå‘è·¯å¾„è½¬å‘ä¾‹å­"></p><blockquote><p>ä¾‹å¦‚ï¼šæºç«¯åˆ°è¾¾R6çš„æœ€çŸ­è·¯å¾„æ˜¯ä»R2ä¼ é€’è¿‡æ¥çš„ï¼Œæ‰€ä»¥R6å°±ä¸æ¥å—R3ä¼ æ’­è¿‡æ¥çš„æºç«¯çš„æ•°æ®æŠ¥ï¼Œè€Œåªæ¥å—R2ä¼ æ’­è¿‡æ¥çš„</p></blockquote></li></ul></li><li><p>å…±äº«æ ‘ï¼ˆgroup-shared treeï¼‰</p><ul><li>æœ€å°ç”Ÿæˆæ ‘</li></ul><p><img src="/2021/04/27/jsjwl05/image-20210510211536249.png" alt="æœ€å°ç”Ÿæˆæ ‘"></p><ul><li><p>åŸºäºä¸­å¿ƒçš„æ ‘</p><p><img src="/2021/04/27/jsjwl05/image-20210510211550101.png" alt="åŸºäºä¸­å¿ƒçš„æ ‘"></p></li></ul></li><li><p><img src="/2021/04/27/jsjwl05/image-20210514163920309.png" alt="ä¼˜ç‚¹"></p></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¡ç®—æœºç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaåŸºç¡€</title>
      <link href="2021/04/26/java01/"/>
      <url>2021/04/26/java01/</url>
      
        <content type="html"><![CDATA[<h2 id="JavaåŸºç¡€"><a href="#JavaåŸºç¡€" class="headerlink" title="JavaåŸºç¡€"></a>JavaåŸºç¡€</h2><h3 id="ä¸€ã€ç†è®ºåŸºç¡€"><a href="#ä¸€ã€ç†è®ºåŸºç¡€" class="headerlink" title="ä¸€ã€ç†è®ºåŸºç¡€"></a>ä¸€ã€ç†è®ºåŸºç¡€</h3><ul><li>è·¨å¹³å°åŸç†</li></ul><p><img src="/2021/04/26/java01/image-20210426001700366.png" alt="Javaè·¨å¹³å°åŸç†"></p><span id="more"></span><ul><li>JRE</li></ul><p><img src="/2021/04/26/java01/image-20210426001812338.png" alt="JRE"></p><ul><li>JDK</li></ul><p><img src="/2021/04/26/java01/image-20210426001843868.png" alt="JDK"></p><ul><li>JDKã€JREå’ŒJVMå…³ç³»</li></ul><p><img src="/2021/04/26/java01/image-20210426001913255.png" alt="JDKã€JREå’ŒJVMå…³ç³»"></p><ul><li>JDKçš„å®‰è£…ç›®å½•</li></ul><p><img src="/2021/04/26/java01/image-20210426002142231.png" alt="JDKçš„å®‰è£…ç›®å½•"></p><ul><li>å¸¸ç”¨DOSå‘½ä»¤</li></ul><p><img src="/2021/04/26/java01/image-20210426002430887.png" alt="å¸¸ç”¨DOSå‘½ä»¤"></p><ul><li>ä¸ºä»€ä¹ˆè¦é…ç½®Pathç¯å¢ƒå˜é‡</li></ul><p><img src="/2021/04/26/java01/image-20210426002931636.png" alt="ä¸ºä»€ä¹ˆè¦é…ç½®Pathç¯å¢ƒå˜é‡"></p><p><img src="/2021/04/26/java01/image-20210426003325705.png" alt="æ³¨æ„ç¯å¢ƒé…ç½®çš„ä¸€ä¸ªé—®é¢˜"></p><ul><li>Javaç¨‹åºå¼€å‘è¿è¡Œæµç¨‹</li></ul><p><img src="/2021/04/26/java01/image-20210426003425904.png" alt="Javaç¨‹åºå¼€å‘è¿è¡Œæµç¨‹"></p><blockquote><p>ç¼–è¯‘åä¼šç”Ÿæˆä¸€ä¸ª.classå­—èŠ‚ç æ–‡ä»¶</p></blockquote><p><img src="/2021/04/26/java01/image-20210426003652247.png" alt="ç¼–è¯‘ è¿è¡Œ"></p><ul><li>BUG</li></ul><p><img src="/2021/04/26/java01/image-20210426003902152.png" alt="BUG"></p><blockquote><p>ä¾‹å¦‚ </p><p><img src="/2021/04/26/java01/image-20210426004033701.png" alt="å¸¸è§bug"></p></blockquote><ul><li><p>å¸¸é‡ï¼š</p><ul><li><p>å­—ç¬¦å¸¸é‡å¯ä»¥æ˜¯<strong>ä¸­æ–‡</strong>  ä¾‹å¦‚â€™ä¸­â€™æ˜¯ä¸€ä¸ªå¸¸é‡   ä½†æ˜¯å­—ç¬¦å¸¸é‡æœ‰ä¸”åªæœ‰ä¸€ä¸ªå­—ç¬¦   æ¯”å¦‚ <strong>â€˜â€™ æ²¡æœ‰å­—ç¬¦</strong>  â€˜abâ€™  è¿™ç§éƒ½æ˜¯é”™çš„</p></li><li><p>å­—ç¬¦ä¸²å¸¸é‡å¯ä»¥æ˜¯ <strong>â€œâ€ ç©ºå­—ç¬¦</strong></p></li><li><p>ç©ºå¸¸é‡ï¼šnull  è¡¨ç¤ºæ²¡æœ‰ä»»ä½•æ•°æ®</p><p><code>System.out.println(null);</code>è¿™ç§å†™æ³•æ˜¯<strong>é”™è¯¯</strong>çš„ï¼Œæ‰“å°ç©ºå¸¸é‡</p></li></ul></li><li><p>æ•°æ®ç±»å‹åˆ†ç±»ï¼š</p><ul><li>åŸºæœ¬æ•°æ®ç±»å‹<ul><li>æ•´æ•°å‹  byte(1å­—èŠ‚)   short(2å­—èŠ‚)   int(4å­—èŠ‚)(inté»˜è®¤ç±»å‹)    long(8å­—èŠ‚)</li><li>æµ®ç‚¹å‹ float(4å­—èŠ‚)  double(8å­—èŠ‚) ï¼ˆdoubleé»˜è®¤ç±»å‹ï¼‰<ul><li>è¿‘ä¼¼å€¼  éƒ½ä¸ç²¾ç¡®</li></ul></li><li>å­—ç¬¦å‹ char**(2å­—èŠ‚)**  å¯è¡¨ç¤ºä¸­æ–‡</li><li>å¸ƒå°”å‹ boolean(1å­—èŠ‚)</li></ul></li><li>å¼•ç”¨æ•°æ®ç±»å‹<ul><li><strong>å­—ç¬¦ä¸²</strong>  å¼•ç”¨ç±»å‹</li><li>æ•°ç»„</li><li>ç±»</li><li>æ¥å£</li><li>Lambda</li></ul></li></ul></li><li><p>å˜é‡ï¼šç¨‹åºè¿è¡ŒæœŸé—´  å†…å®¹å¯ä»¥æ”¹å˜</p><p>[æ•°æ®ç±»å‹] [å˜é‡åç§°];</p></li><li><p>å˜é‡æ³¨æ„äº‹é¡¹ï¼š</p><ul><li><p>byte num=400;  é”™è¯¯  å³æ–¹æ•°æ®èŒƒå›´ä¸èƒ½å¤§äºå·¦è¾¹çš„èŒƒå›´</p></li><li><p>å¯¹äºfloatå’Œlongç±»å‹æ³¨æ„å­—æ¯åç¼€ã€‚</p></li><li><p>å˜é‡ä½¿ç”¨ä¸èƒ½è¶…è¿‡ä½œç”¨åŸŸçš„èŒƒå›´   ä»å˜é‡å®šä¹‰å¼€å§‹ï¼Œç„¶åä¸€ç›´åˆ°ç›´æ¥æ‰€å±çš„å¤§æ‹¬å·ä¸ºæ­¢</p></li><li><p>å¯ä»¥å¤šä¸ªå˜é‡åŒæ—¶å®šä¹‰ä¸èµ‹å€¼</p><p>int  a=1,b=2,c=3;</p></li></ul></li><li><p>å½“æ•°æ®ä¸ä¸€æ ·æ—¶ï¼Œå°†ä¼šå‘ç”Ÿæ•°æ®ç±»å‹è½¬æ¢</p><ul><li><p>è‡ªåŠ¨ç±»å‹è½¬æ¢</p><ul><li><p>æ•°æ®èŒƒå›´ä»å°åˆ°å¤§   ï¼ˆä¸å­—èŠ‚æ•°ä¸ä¸€å®šç›¸å…³  ä¾‹å¦‚floatçš„èŒƒå›´å¤§äºlong  ä½†æ˜¯å­—èŠ‚æ•°å°‘ï¼‰</p><blockquote><p>long lon=100;  //å°†Intèµ‹ç»™lon</p><p>double dou=1.0f;//å°†floatèµ‹ç»™double</p><p>float flo=30L;//å°†longèµ‹å€¼ç»™float    </p></blockquote></li></ul></li><li><p>å¼ºåˆ¶ç±»å‹è½¬æ¢</p><ul><li><p>æ•°æ®èŒƒå›´ä»å¤§åˆ°å°</p><blockquote><p>int num=(int) 100L;</p></blockquote></li><li><p>å¯èƒ½ä¼šå‘ç”Ÿç²¾åº¦æŸå¤±ï¼Œæ•°æ®æº¢å‡º</p><blockquote><p>int num2=(int)3.5;   //è¾“å‡º3     å°†å°æ•°éƒ¨åˆ†ç›´æ¥æˆªå–  ç²¾åº¦è¿ç®—</p><p>int num1=(int) 1000000000000000000L  æ•°æ®æº¢å‡º</p></blockquote></li></ul></li></ul></li><li><p>byte/short/charç±»å‹éƒ½å¯ä»¥è¿›è¡Œæ•°å­¦è¿ç®—   åœ¨è¿ç®—çš„æ—¶å€™ï¼Œéƒ½ä¼šé¦–å…ˆè¢«æå‡ä¸ºintç±»å‹ï¼Œç„¶åå†è¿›è¡Œè¿ç®—</p><p><img src="/2021/04/26/java01/image-20210427165107929.png" alt="å¼ºåˆ¶ç±»å‹è½¬æ¢"></p></li><li><p>booleanä¸èƒ½è¿›è¡Œä»»ä½•æ•°æ®è½¬æ¢</p></li><li><p>æ•°å­—å’Œå­—ç¬¦çš„å¯¹ç…§è¡¨ï¼ˆç¼–ç è¡¨ï¼‰</p><ul><li>ASCIIç è¡¨ï¼šAmerican Standard Code for Information Interchange  ç¾å›½ä¿¡æ¯äº¤æ¢æ ‡å‡†ä»£ç </li><li>Unicodeç è¡¨ï¼šä¸‡å›½ç   å¼€å¤´0-127ä¸ASCIIç è¡¨ä¸€è‡´  åé¢æœ‰å„å›½çš„çš„å­—ç¬¦  ä¾‹å¦‚ä¸­æ–‡ã€æ—¥æ–‡ç­‰</li></ul></li><li><p>/  æ•´é™¤  ç»“æœæ˜¯å•† æ•´æ•°</p></li><li><p>% å–æ¨¡  ç»“æœæ˜¯ä½™æ•°   åªæœ‰å¯¹æ•´æ•°è€Œè¨€æ‰æœ‰ä½™æ•°</p></li><li><p>ä¸€æ—¦è¿ç®—ä¸­æœ‰ä¸åŒç±»å‹çš„æ•°æ®ï¼Œé‚£ä¹ˆç»“æœå°†æ˜¯æ•°æ®èŒƒå›´å¤§çš„ç±»å‹</p></li><li><p>åŠ å·â€œ+â€</p><ul><li><p>å¯¹äºå­—ç¬¦charï¼Œè®¡ç®—ä¹‹å‰ä¼šå°†charæå‡ä¸ºintï¼Œç„¶åè¿›è¡Œè¿ç®—</p></li><li><p>å¯¹äºStringç±»å‹ï¼ˆä¸å…¨æ˜¯å°å†™  æ‰€ä»¥ä¸æ˜¯å…³é”®å­—ï¼‰ åŠ å·è¡¨ç¤ºè¿æ¥å­—ç¬¦ä¸²ã€‚æ— è®ºä»€ä¹ˆç±»å‹ä¸å­—ç¬¦ä¸²è¿æ¥ï¼Œæœ€åç»“æœéƒ½æ˜¯å­—ç¬¦ä¸²ã€‚</p><blockquote><p>ä¼˜å…ˆçº§é—®é¢˜ï¼š</p><p>â€œStringâ€+20+30    ç»“æœæ˜¯â€String2030â€</p></blockquote></li></ul></li><li><p>è‡ªå¢è‡ªå‡ã€å¤åˆèµ‹å€¼è¿ç®—ç¬¦ä¸­éšå«äº†ä¸€ä¸ªå¼ºåˆ¶ç±»å‹è½¬æ¢</p><p><img src="/2021/04/26/java01/image-20210427172025042.png" alt="å¤åˆè¿ç®—ç¬¦"></p></li><li><p>ä¸&amp;&amp; æˆ–|| å…·æœ‰çŸ­è·¯æ•ˆæœ   å¦‚æœå·¦è¾¹å·²ç»å¯ä»¥è·å¾—ç»“æœ  å³è¾¹å°†ä¸ä¼šæ‰§è¡Œï¼Œä»è€ŒèŠ‚çœä¸€å®šçš„æ€§èƒ½</p></li><li></li></ul>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºç½‘ç»œ-ç½‘ç»œå±‚ï¼šæ•°æ®å¹³é¢</title>
      <link href="2021/04/23/jsjwl04/"/>
      <url>2021/04/23/jsjwl04/</url>
      
        <content type="html"><![CDATA[<h2 id="è®¡ç®—æœºç½‘ç»œ-ç½‘ç»œå±‚ï¼šæ•°æ®å¹³é¢"><a href="#è®¡ç®—æœºç½‘ç»œ-ç½‘ç»œå±‚ï¼šæ•°æ®å¹³é¢" class="headerlink" title="è®¡ç®—æœºç½‘ç»œ-ç½‘ç»œå±‚ï¼šæ•°æ®å¹³é¢"></a>è®¡ç®—æœºç½‘ç»œ-ç½‘ç»œå±‚ï¼šæ•°æ®å¹³é¢</h2><h3 id="1-å¯¼è®º"><a href="#1-å¯¼è®º" class="headerlink" title="1 å¯¼è®º"></a>1 å¯¼è®º</h3><ul><li><p>æœ¬ç« ç›®æ ‡:</p><ul><li><p>ç†è§£ç½‘ç»œæœåŠ¡çš„åŸºæœ¬åŸç†ï¼Œèšç„¦äºå…¶æ•°æ®å¹³é¢<br>ç½‘ç»œæœåŠ¡æ¨¡å‹<br><strong>è½¬å‘å’Œè·¯ç”±</strong><br>è·¯ç”±å™¨å·¥ä½œåŸç†<br>é€šç”¨è½¬å‘</p></li><li><p>äº’è”ç½‘ä¸­ç½‘ç»œå±‚åè®®çš„å®ä¾‹å’Œå®ç°</p><span id="more"></span></li></ul></li><li><p>ç½‘ç»œå±‚æœåŠ¡ï¼š</p><ul><li>åœ¨å‘é€ä¸»æœºå’Œæ¥æ”¶ä¸»æœºå¯¹ä¹‹é—´ä¼ é€æ®µï¼ˆsegmentï¼‰</li><li>åœ¨å‘é€ç«¯å°†æ®µå°è£…åˆ°æ•°æ®æŠ¥ä¸­</li><li>åœ¨æ¥æ”¶ç«¯ï¼Œå°†æ®µä¸Šäº¤ç»™ä¼ è¾“å±‚å®ä½“</li><li>ç½‘ç»œå±‚åè®®å­˜åœ¨äºæ¯ä¸€ä¸ªä¸»æœºå’Œè·¯ç”±å™¨</li><li>è·¯ç”±å™¨æ£€æŸ¥æ¯ä¸€ä¸ªç»è¿‡å®ƒçš„IPæ•°æ®æŠ¥çš„å¤´éƒ¨</li></ul></li><li><p>ç½‘ç»œå±‚çš„å…³é”®åŠŸèƒ½</p><ul><li>è½¬å‘: å°†åˆ†ç»„ä»è·¯ç”±å™¨çš„è¾“å…¥æ¥å£è½¬å‘åˆ°åˆé€‚çš„è¾“å‡ºæ¥å£ï¼ˆå±€éƒ¨ï¼‰    -æ•°æ®å¹³é¢</li><li>è·¯ç”±: ä½¿ç”¨è·¯ç”±ç®—æ³•æ¥å†³å®šåˆ†ç»„ä»å‘é€ä¸»æœºåˆ°ç›®æ ‡æ¥æ”¶ä¸»æœºçš„è·¯å¾„ï¼ˆå…¨å±€ï¼‰   -æ§åˆ¶å¹³é¢<ul><li>è·¯ç”±é€‰æ‹©ç®—æ³•</li><li>è·¯ç”±é€‰æ‹©åè®®</li></ul></li></ul><blockquote><p>æ—…è¡Œçš„ç±»æ¯”ï¼š<br>è½¬å‘: é€šè¿‡å•ä¸ªè·¯å£çš„è¿‡ç¨‹<br>è·¯ç”±: ä»æºåˆ°ç›®çš„çš„è·¯ç”±è·¯å¾„è§„åˆ’è¿‡ç¨‹</p></blockquote></li><li><p>ç½‘ç»œå±‚ï¼šæ•°æ®å¹³é¢+æ§åˆ¶å¹³é¢</p><ul><li><p>æ•°æ®å¹³é¢</p><ul><li><p>æœ¬åœ°ï¼Œæ¯ä¸ªè·¯ç”±å™¨åŠŸèƒ½</p></li><li><p>å†³å®šä»è·¯ç”±å™¨è¾“å…¥ç«¯å£åˆ°è¾¾çš„åˆ†ç»„å¦‚ä½•è½¬å‘åˆ°è¾“å‡ºç«¯å£</p></li><li><p>è½¬å‘åŠŸèƒ½ï¼š</p><ul><li>ä¼ ç»Ÿæ–¹å¼ï¼šåŸºäºç›®æ ‡åœ°å€+è½¬å‘è¡¨</li></ul><blockquote><p>è½¬å‘ä»…ç”±ç›®æ ‡ipåŒ¹é…è·¯ç”±è¡¨ç¡®å®šè½¬å‘çš„è¾“å‡ºç«¯å£ã€‚è€Œä¸”è·¯ç”±è¡¨åªæœ‰è½¬å‘ç­‰åŸºç¡€åŠŸèƒ½ã€‚</p><p>è·¯ç”±è¡¨ç”±æ§åˆ¶å¹³é¢è·¯ç”±é€‰æ‹©å™¨å®ä½“è‡ªå·±é€šè¿‡è·¯ç”±åè®®è·¯ç”±å™¨ä¹‹é—´è¿›è¡Œé€šä¿¡ç„¶åå»ºç«‹ã€‚</p></blockquote><ul><li>SDNæ–¹å¼ï¼šåŸºäºå¤šä¸ªå­—æ®µ+æµè¡¨</li></ul><blockquote><p>è½¬å‘é€šè¿‡æ•°æ®åŒ…ä¸­æºipã€æºç«¯å£ã€ç›®æ ‡ipã€ç›®æ ‡ç«¯å£ã€æ ‡å¿—ä½ç­‰å¾ˆå¤šå­—æ®µè¿›è¡ŒåŒ¹é…æµè¡¨ã€‚åŒæ—¶æ ¹æ®æµè¡¨å¯¹åˆ†ç»„è¿›è¡Œè½¬å‘ã€blockã€æ³›æ´ªã€ä¿®æ”¹å­—æ®µç­‰åŠ¨ä½œã€‚</p><p>æµè¡¨æ˜¯ç”±ç½‘ç»œæ“ä½œç³»ç»Ÿè®¡ç®—å‡ºæ¥ç„¶åé€šè¿‡å—å‘æ¥å£äº¤ç»™åˆ†ç»„äº¤æ¢æœºã€‚</p></blockquote></li></ul></li><li><p>æ§åˆ¶å¹³é¢</p><ul><li><p>ç½‘ç»œèŒƒå›´å†…çš„é€»è¾‘</p></li><li><p>å†³å®šæ•°æ®æŠ¥å¦‚ä½•åœ¨è·¯ç”±å™¨ä¹‹é—´è·¯ç”±ï¼Œå†³å®šæ•°æ®æŠ¥ä»æºåˆ°ç›®æ ‡ä¸»æœºä¹‹é—´çš„ç«¯åˆ°ç«¯è·¯å¾„</p></li><li><p>2ä¸ªæ§åˆ¶å¹³é¢æ–¹æ³•:</p><ul><li>ä¼ ç»Ÿçš„è·¯ç”±ç®—æ³•: åœ¨è·¯ç”±å™¨ä¸­è¢«å®ç°<ul><li>ä¼ ç»Ÿè·¯ç”±ï¼šåœ¨æ¯ä¸€ä¸ªè·¯ç”±å™¨ä¸Šå„è‡ªæ§åˆ¶å¹³é¢å’Œæ•°æ®å¹³é¢éƒ½æ˜¯æå…·è€¦åˆçš„é›†ä¸­å®ç°çš„ï¼ŒåŒæ—¶æ§åˆ¶å¹³é¢æ˜¯åˆ†å¸ƒå¼çš„ï¼Œå„è‡ªæ§åˆ¶å¹³é¢åˆ†å¸ƒåœ¨æ¯ä¸€ä¸ªè·¯ç”±å™¨å•ç‹¬å®ç°ã€‚æ‰€ä»¥å¦‚æœæƒ³è¦ä¿®æ”¹è·¯ç”±åè®®æˆ–è€…æ”¹è¿›è·¯ç”±å™¨åŠŸèƒ½å¾ˆéš¾å®ç°ã€ä»£ä»·å¾ˆå¤§ã€‚</li></ul></li></ul><p><img src="/2021/04/23/jsjwl04/image-20210424141918201.png" alt="ä¼ ç»Ÿçš„è·¯ç”±å™¨æ§åˆ¶å¹³é¢"></p><p><img src="/2021/04/23/jsjwl04/image-20210424142319814.png" alt="ä¼ ç»Ÿæ–¹å¼ï¼šè·¯ç”±å’Œè½¬å‘ç›¸äº’ä½œç”¨">    </p><ul><li><p>software-defined networking(SDN): åœ¨è¿œç¨‹çš„æœåŠ¡å™¨ä¸­å®ç°</p><ul><li>SDNä¸­ï¼Œåˆ†ç»„äº¤æ¢æœºçš„CAæœ¬åœ°æ§åˆ¶ä»£ç†å°†åˆ†ç»„äº¤æ¢æœºçš„çŠ¶æ€ä¸Šä¼ ç»™ç½‘ç»œæ“ä½œç³»ç»Ÿï¼ˆè¿œç¨‹æ§åˆ¶å™¨ï¼‰ï¼Œç½‘ç»œæ“ä½œç³»ç»Ÿå®ç°æµè¡¨çš„å»ºç«‹å¹¶å°†æµè¡¨ä¼ é€’ç»™CAï¼ŒCAå°†æµè¡¨è£…è½½åˆ°åˆ†ç»„äº¤æ¢æœºä¸Šï¼Œç„¶åæ•°æ®åŒ…åˆ°æ¥åé€šè¿‡æµè¡¨åŒ¹é…ï¼Œå¹¶æŒ‰ç…§æµè¡¨å¯¹å…¶è¿›è¡Œè½¬å‘æˆ–å…¶ä»–åŠ¨ä½œã€‚</li><li>æ§åˆ¶å¹³é¢æ˜¯é›†ä¸­å¼çš„ï¼Œè¿™å°†æœ‰åˆ©äºå®ç°ç½‘ç»œè¡Œä¸ºçš„ä¿®æ”¹ç­‰ã€‚</li></ul><blockquote><p>è¿™é‡Œçš„æœ¯è¯­ï¼šåˆ†ç»„äº¤æ¢æœº   å®é™…ä¸Šèµ·çš„æ˜¯è·¯ç”±å™¨çš„ä½œç”¨   â€œåˆ†ç»„è·¯ç”±å™¨â€</p></blockquote></li></ul><p><img src="/2021/04/23/jsjwl04/image-20210424142401578.png" alt="SDNæ–¹å¼"></p></li></ul></li></ul></li><li><p>ç½‘ç»œæœåŠ¡æ¨¡å‹</p><ul><li><p>Q: ä»å‘é€æ–¹ä¸»æœºåˆ°æ¥æ”¶æ–¹ä¸»æœºä¼ è¾“æ•°æ®æŠ¥çš„â€œé€šé“â€ï¼Œç½‘ç»œå±‚å‘ä¸Šå±‚æä¾›ä»€ä¹ˆæ ·çš„æœåŠ¡æ¨¡å‹ï¼Ÿ</p><ul><li><p>å¯¹äºå•ä¸ªæ•°æ®æŠ¥çš„æœåŠ¡:</p><ul><li>å¯é ä¼ é€</li><li>å»¶è¿Ÿä¿è¯ï¼Œå¦‚ï¼šå°‘äº40msçš„å»¶è¿Ÿ</li></ul></li><li><p>å¯¹äºæ•°æ®æŠ¥æµçš„æœåŠ¡:</p><ul><li><p>ä¿åºæ•°æ®æŠ¥ä¼ é€</p></li><li><p>ä¿è¯æµçš„æœ€å°å¸¦å®½</p></li><li><p>åˆ†ç»„ä¹‹é—´çš„å»¶è¿Ÿå·®ï¼ˆä¼ è¾“å‰ä¸€ä¸ªå’Œåä¸€ä¸ªåˆ†ç»„çš„æ—¶é—´å·®ï¼‰ </p><blockquote><p>ä¿è¯å»¶è¿Ÿå·®è¾ƒå°å¯¹å¤šåª’ä½“ä¼ è¾“æä¾›çš„æœåŠ¡æ˜¯éå¸¸å¥½çš„</p></blockquote></li></ul></li></ul></li></ul></li><li><p>è¿æ¥å»ºç«‹</p><ul><li><p>åœ¨æŸäº›ç½‘ç»œæ¶æ„ä¸­æ˜¯ç¬¬ä¸‰ä¸ªé‡è¦çš„åŠŸèƒ½</p><ul><li>ATM, frame relay, X.25</li></ul></li><li><p>åœ¨åˆ†ç»„ä¼ è¾“ä¹‹å‰ï¼Œåœ¨ä¸¤ä¸ªä¸»æœºä¹‹é—´ï¼Œåœ¨é€šè¿‡ä¸€äº›è·¯ç”±å™¨æ‰€æ„æˆçš„è·¯å¾„ä¸Šå»ºç«‹ä¸€ä¸ªç½‘ç»œå±‚è¿æ¥</p><ul><li>æ¶‰åŠåˆ°è·¯ç”±å™¨</li></ul></li><li><p>ç½‘ç»œå±‚å’Œä¼ è¾“å±‚è¿æ¥æœåŠ¡åŒºåˆ«:</p><ul><li><p>ç½‘ç»œå±‚: åœ¨2ä¸ªä¸»æœºä¹‹é—´ï¼Œæ¶‰åŠåˆ°è·¯å¾„ä¸Šçš„ä¸€äº›è·¯ç”±å™¨</p><blockquote><p>ä¸ä»…æ˜¯ç«¯ç³»ç»Ÿï¼Œè¿˜æœ‰ä¹‹é—´çš„è·¯å¾„çš„äº¤æ¢ç»“ç‚¹ä¹‹é—´çš„è¿æ¥ã€‚æ‰€ä»¥æ˜¯â€œæœ‰è¿æ¥â€ã€‚</p></blockquote></li><li><p>ä¼ è¾“å±‚: åœ¨2ä¸ªè¿›ç¨‹ä¹‹é—´ï¼Œå¾ˆå¯èƒ½åªä½“ç°åœ¨ç«¯ç³»ç»Ÿä¸Š(TCPè¿æ¥)</p><blockquote><p>TCPçš„è¿æ¥åªæ˜¯ä¸¤ä¸ªç«¯ç³»ç»Ÿï¼Œæ²¡æœ‰æ¶‰åŠç»è¿‡çš„è·¯ç”±å™¨ï¼Œæ‰€ä»¥ç§°ä¹‹ä¸ºé¢å‘è¿æ¥</p></blockquote></li></ul></li><li><p>è·¯ç”±è¡¨æ˜¯æ§åˆ¶å¹³é¢å’Œæ•°æ®å¹³é¢çš„ç²˜åˆå‰‚ã€‚æ§åˆ¶å¹³é¢çš„è·¯ç”±è®¡ç®—å‡ºè·¯ç”±è¡¨ï¼Œè·¯ç”±è¡¨äº¤ç»™IPåè®®ï¼ŒIPåè®®é€šè¿‡è·¯ç”±è¡¨å¯¹æ¥æ”¶åˆ°çš„æ•°æ®æŠ¥å®ç°ä¸€ä¸ªå±€éƒ¨çš„è½¬å‘ï¼Œå³æ•°æ®å¹³é¢çš„åŠŸèƒ½ã€‚</p></li></ul></li><li><p>ç½‘ç»œå±‚æœåŠ¡æ¨¡å‹</p><p>æœåŠ¡æ¨¡å‹ï¼šå¯¹äºæä¾›çš„æœåŠ¡çš„è¯„ä»·æŒ‡æ ‡å¯ä»¥ç”¨æ•°æ®è¿›è¡Œè¡¨ç¤ºæ—¶ï¼Œç§°ä¹‹ä¸ºæœåŠ¡æ¨¡å‹ã€‚</p><p>å¦‚IPåè®®çš„best effort å°½åŠ›è€Œä¸º</p><p><img src="/2021/04/23/jsjwl04/image-20210424144515472.png" alt="ç½‘ç»œå±‚æœåŠ¡æ¨¡å‹"></p></li></ul><h3 id="2-è·¯ç”±å™¨ç»„æˆ"><a href="#2-è·¯ç”±å™¨ç»„æˆ" class="headerlink" title="2 è·¯ç”±å™¨ç»„æˆ"></a>2 è·¯ç”±å™¨ç»„æˆ</h3><ul><li><p>è·¯ç”±å™¨ç»“æ„æ¦‚å†µï¼šé«˜å±‚é¢(éå¸¸ç®€åŒ–çš„)é€šç”¨è·¯ç”±å™¨ä½“ç³»æ¶æ„</p><ul><li><p>è·¯ç”±ï¼šè¿è¡Œè·¯ç”±é€‰æ‹©ç®—æ³•ï¼åè®®(RIP, OSPF, BGP)-ç”Ÿæˆè·¯ç”±è¡¨</p></li><li><p>è½¬å‘ï¼šä»è¾“å…¥åˆ°è¾“å‡ºé“¾è·¯äº¤æ¢æ•°æ®æŠ¥-æ ¹æ®è·¯ç”±è¡¨è¿›è¡Œåˆ†ç»„çš„è½¬å‘</p><p><img src="/2021/04/23/jsjwl04/image-20210424154911059.png" alt="è·¯ç”±å™¨ç»“æ„"></p></li></ul></li><li><p>è¾“å…¥ç«¯å£åŠŸèƒ½</p><p><img src="/2021/04/23/jsjwl04/image-20210424155007573.png" alt="è¾“å…¥ç«¯å£åŠŸèƒ½"></p><ul><li>ç‰©ç†å±‚å®ä½“ï¼šå°†é“¾è·¯ä¸­ç”µç£æ³¢æˆ–å…‰æ³¢çš„å½¢å¼è½¬æ¢æˆ0101â€¦çš„æ¯”ç‰¹æ•°å­—å½¢å¼ã€‚</li><li>æ•°æ®é“¾è·¯å±‚å®ä½“ï¼šåˆ¤æ–­å“ªé‡Œæ˜¯å¸§å¤´ã€å¸§å°¾ï¼›è¿›è¡Œæ•°æ®é”™è¯¯æ£€éªŒï¼›åˆ¤æ–­å¸§ä¸­ç›®æ ‡macå’Œç½‘å¡çš„macåœ°å€æ˜¯ä¸æ˜¯ä¸€è‡´ï¼Œä¸€è‡´æ‰æ”¶å–è¿™ä¸ªå¸§ï¼›å°†å¸§ä¸­çš„æ•°æ®ï¼ˆIPåˆ†ç»„ï¼‰å–å‡ºäº¤ç»™ç½‘ç»œå±‚å®ä½“ã€‚</li><li>ç½‘ç»œå±‚å®ä½“ï¼šIPåˆ†ç»„åœ¨å…¶ä¸­æ’é˜Ÿä¾æ¬¡ç­‰å¾…å¤„ç†ï¼Œç½‘ç»œå±‚æ ¹æ®è·¯ç”±è¡¨å’ŒIPåˆ†ç»„å¯¹åº”çš„ç›®çš„IPåœ°å€ï¼ˆä¼ ç»Ÿæ–¹æ³•ï¼‰è¿›è¡Œä¾æ¬¡è½¬å‘IPåˆ†ç»„ã€‚</li></ul></li><li><p>è¾“å…¥ç«¯å£ç½‘ç»œå±‚ç¼“å­˜</p><ul><li>å½“äº¤æ¢æœºæ„çš„é€Ÿç‡å°äºè¾“å…¥ç«¯å£çš„æ±‡èšé€Ÿç‡æ—¶ï¼Œ åœ¨è¾“å…¥ç«¯å£å¯èƒ½è¦æ’é˜Ÿ<ul><li>ä¼šäº§ç”Ÿæ’é˜Ÿå»¶è¿Ÿ</li><li>æœ‰çš„åˆ†ç»„å¯èƒ½ç”±äºè¾“å…¥ç¼“å­˜æº¢å‡ºè€Œé€ æˆä¸¢å¤±!</li></ul></li><li>Head-of-the-Line (HOL) blocking: æ’åœ¨é˜Ÿå¤´çš„æ•°æ®æŠ¥<br>é˜»æ­¢äº†é˜Ÿåˆ—ä¸­å…¶ä»–æ•°æ®æŠ¥å‘å‰ç§»åŠ¨</li></ul><p><img src="/2021/04/23/jsjwl04/image-20210424174917021.png" alt="è¾“å…¥ç«¯å£ç¼“å­˜"></p></li><li><p>äº¤æ¢ç»“æ„</p><ul><li><p>äº¤æ¢ç»“æ„ç”¨æ¥å°†åˆ†ç»„ä»è¾“å…¥ç¼“å†²åŒºä¼ è¾“åˆ°åˆé€‚çš„è¾“å‡ºç«¯å£</p></li><li><p>äº¤æ¢é€Ÿç‡ï¼šåˆ†ç»„å¯ä»¥æŒ‰ç…§è¯¥é€Ÿç‡ä»è¾“å…¥ä¼ è¾“åˆ°è¾“å‡º</p><ul><li>äº¤æ¢é€Ÿåº¦ç»å¸¸æ˜¯è¾“å…¥/è¾“å‡ºé“¾è·¯é€Ÿç‡çš„è‹¥å¹²å€</li><li>N ä¸ªè¾“å…¥ç«¯å£ï¼šäº¤æ¢æœºæ„çš„äº¤æ¢é€Ÿåº¦æ˜¯è¾“å…¥çº¿è·¯é€Ÿåº¦çš„Nå€æ¯”è¾ƒç†æƒ³ï¼Œæ‰ä¸ä¼šæˆä¸ºç“¶é¢ˆ</li></ul></li><li><p>3ç§å…¸å‹çš„äº¤æ¢æœºæ„</p><p><img src="/2021/04/23/jsjwl04/image-20210424175746776.png" alt="ä¸‰ç§å…¸å‹çš„äº¤æ¢ç»“æ„"></p></li><li><p>äº¤æ¢ç»“æ„ï¼šé€šè¿‡å†…å­˜ï¼ˆmemoryï¼‰äº¤æ¢   </p><ul><li><p>ç¬¬ä¸€ä»£è·¯ç”±å™¨:ï¼ˆè½¯ä»¶å½¢å¼å®ç°ï¼‰</p><ul><li><p>åœ¨CPUç›´æ¥æ§åˆ¶ä¸‹çš„äº¤æ¢ï¼Œè·¯ç”±å™¨é‡‡ç”¨ä¼ ç»Ÿçš„è®¡ç®—æœº</p></li><li><p>åˆ†ç»„è¢«æ‹·è´åˆ°è·¯ç”±å™¨ç³»ç»Ÿå†…å­˜ï¼ŒCPUä»åˆ†ç»„çš„å¤´éƒ¨æå–å‡ºç›®æ ‡åœ°å€ï¼ŒæŸ¥æ‰¾è½¬å‘è¡¨ï¼Œæ‰¾åˆ°å¯¹åº”çš„è¾“å‡ºç«¯å£ï¼Œæ‹·è´åˆ°è¾“å‡ºç«¯å£   </p></li><li><p>è½¬å‘é€Ÿç‡è¢«å†…å­˜çš„å¸¦å®½é™åˆ¶(æ•°æ®æŠ¥é€šè¿‡BUSä¸¤é)</p></li><li><p>ä¸€æ¬¡åªèƒ½è½¬å‘ä¸€ä¸ªåˆ†ç»„</p><p><img src="/2021/04/23/jsjwl04/image-20210424180251687.png" alt="åŸºäºmemoryçš„äº¤æ¢ç»“æ„"></p></li></ul></li></ul></li><li><p>é€šè¿‡æ€»çº¿ï¼ˆbusï¼‰</p><ul><li>äº¤æ¢æ•°æ®æŠ¥é€šè¿‡å…±äº«æ€»çº¿æ—¶å°†ä¼šè·å¾—æ‰€æœ‰è¾“å‡ºç«¯å£åœ°å€ï¼Œç„¶åé€šè¿‡åŒ¹é…ç¡®å®šæ•°æ®æŠ¥çš„è¾“å‡ºç«¯å£ï¼Œå°†æ•°æ®æŠ¥ä»è¾“å…¥ç«¯å£è½¬å‘åˆ°è¾“å‡ºç«¯å£ ï¼ˆç»è¿‡Busåªç»è¿‡ä¸€æ¬¡ï¼Œé€Ÿåº¦å¿«ä¸Šå¾ˆå¤šï¼‰</li><li>æ€»çº¿ç«äº‰: äº¤æ¢é€Ÿåº¦å—é™äºæ€»çº¿å¸¦å®½</li><li>1æ¬¡å¤„ç†ä¸€ä¸ªåˆ†ç»„</li><li>1 Gbps bus, Cisco 1900ï¼› 32 Gbps bus, Cisco 5600ï¼›å¯¹äºæ¥å…¥æˆ–ä¼ä¸šçº§è·¯ç”±å™¨ï¼Œé€Ÿåº¦è¶³å¤Ÿï¼ˆä½†ä¸é€‚åˆåŒºåŸŸæˆ–éª¨å¹²ç½‘ç»œï¼‰</li></ul><p><img src="/2021/04/23/jsjwl04/image-20210424180755469.png" alt="BUSå‹äº¤æ¢ç»“æ„"></p></li><li><p>é€šè¿‡äº’è”ç½‘ç»œï¼ˆcrossbarç­‰ï¼‰çš„äº¤æ¢</p><ul><li><p>åŒæ—¶å¹¶å‘è½¬å‘å¤šä¸ªåˆ†ç»„ï¼Œå…‹æœæ€»çº¿å¸¦å®½é™åˆ¶</p><p>å½“åˆ†ç»„ä»ç«¯å£Aåˆ°è¾¾ï¼Œè½¬ç»™ç«¯å£Yï¼Œæ§åˆ¶å™¨çŸ­æ¥ç›¸åº”çš„ä¸¤ä¸ªæ€»çº¿ï¼ˆå³çŸ­è·¯ä¸‹å›¾è¿æ¥ç‚¹1ï¼‰ï¼›åŒæ—¶å¯ä»¥çŸ­è·¯ä¸‹å›¾è¿æ¥ç‚¹2ã€3ï¼Œå®ç°Båˆ°Zå’ŒCåˆ°Xæˆ–å…¶ä»–æ–¹å¼çš„å¹¶è¡Œä¼ è¾“æ•°æ®æŠ¥ã€‚æå¤§æé«˜äº†é€Ÿç‡ã€‚</p></li><li><p><strong>Banyanï¼ˆæ¦•æ ‘ï¼‰ç½‘ç»œï¼Œcrossbar(çºµæ¨ª)å’Œå…¶å®ƒçš„äº’è”ç½‘ç»œè¢«å¼€å‘ï¼Œå°†å¤šä¸ªå¤„ç†å™¨è¿æ¥æˆå¤šå¤„ç†å™¨</strong>ï¼Ÿï¼Ÿï¼Ÿ</p></li><li><p>é«˜çº§è®¾è®¡ï¼šå°†æ•°æ®æŠ¥åˆ†ç‰‡ä¸ºå›ºå®šçš„è¾ƒçŸ­é•¿åº¦çš„ä¿¡å…ƒï¼Œåˆ†åˆ«é€šè¿‡äº¤æ¢ç½‘ç»œè¿›è¡Œäº¤æ¢ï¼Œè¿™æ ·æ€»ä½“æ—¶é—´ä¸å˜ï¼Œä½†æ˜¯æ›´åŠ æœ‰åˆ©äºè°ƒåº¦</p></li><li><p>Cisco12000ï¼šä»¥60Gbpsçš„äº¤æ¢é€Ÿç‡é€šè¿‡äº’è”ç½‘ç»œ</p><p><img src="/2021/04/23/jsjwl04/image-20210424181559698.png" alt="äº’è”ç½‘ç»œçš„äº¤æ¢ç»“æ„"></p></li></ul></li></ul></li><li><p>è¾“å‡ºç«¯å£</p><ul><li><p>å½“æ•°æ®æŠ¥ä»äº¤æ¢æœºæ„çš„åˆ°è¾¾é€Ÿåº¦æ¯”ä¼ è¾“é€Ÿç‡å¿«å°±éœ€è¦è¾“å‡ºç«¯å£ç¼“å­˜</p></li><li><p>ç”±è°ƒåº¦è§„åˆ™é€‰æ‹©æ’é˜Ÿçš„æ•°æ®æŠ¥è¿›è¡Œä¼ è¾“</p><ul><li>å…ˆæ¥çš„æ•°æ®æŠ¥ä¸ä¸€å®šå…ˆä¼ ï¼Œç”±è°ƒåº¦è§„åˆ™å†³å®š</li></ul><p><img src="/2021/04/23/jsjwl04/image-20210424214749508.png" alt="è¾“å‡ºç«¯å£"></p></li><li><p>ç‰©ç†å±‚ï¼šå°†é“¾è·¯å±‚æ¥çš„å¸§æ¯”ç‰¹è½¬æ¢æˆç”µç£æ³¢ä¿¡å·æˆ–è€…æ˜¯å…‰ä¿¡å·</p></li><li><p>é“¾è·¯å±‚ï¼šå¯¹æ•°æ®æŠ¥è¿›è¡Œå°è£…ï¼Œå°†æºmacåœ°å€å’Œç›®æ ‡macåœ°å€ã€å¸§å¤´å’Œå¸§å°¾å°è£…åˆ°æ¯ä¸ªå¸§ä¸­ã€‚è¿›è¡ŒCRCæ ¡éªŒç­‰ã€‚</p></li><li><p>ç½‘ç»œå±‚ï¼šå¯¹æ•°æ®æŠ¥è¿›è¡Œæ’é˜Ÿï¼Œç„¶åäº¤ç»™é“¾è·¯å±‚çš„ç½‘å¡ã€‚</p></li><li><p>è¾“å‡ºç«¯å£çš„queuingï¼šäº¤æ¢é€Ÿåº¦è¦å¤§äºä¼ è¾“é€Ÿåº¦ï¼Œæ‰€ä»¥éœ€è¦å…ˆæŠŠäº¤æ¢è¿‡æ¥çš„æ•°æ®æŠ¥æš‚å­˜ä¸€ä¸‹ã€‚</p><ul><li><p>å‡è®¾äº¤æ¢é€Ÿç‡Rswitchæ˜¯Rlineçš„Nå€ï¼ˆNï¼šè¾“å…¥ç«¯å£çš„æ•°é‡ï¼‰</p></li><li><p>å½“å¤šä¸ªè¾“å…¥ç«¯å£åŒæ—¶å‘è¾“å‡ºç«¯å£å‘é€æ—¶ï¼Œç¼“å†²è¯¥åˆ†ç»„ï¼ˆå½“é€šè¿‡äº¤æ¢ç½‘ç»œåˆ°è¾¾çš„é€Ÿç‡è¶…è¿‡è¾“å‡ºé€Ÿç‡åˆ™ç¼“å­˜ï¼‰</p></li><li><p>æ’é˜Ÿå¸¦æ¥å»¶è¿Ÿï¼Œç”±äºè¾“å‡ºç«¯å£ç¼“å­˜æº¢å‡ºåˆ™ä¸¢å¼ƒæ•°æ®æŠ¥ï¼</p></li><li><p><img src="/2021/04/23/jsjwl04/image-20210424220300960.png" alt="è¾“å‡ºç«¯å£æ’é˜Ÿ"></p></li><li><p>è°ƒåº¦æœºåˆ¶ï¼š</p><ul><li><p>è°ƒåº¦: é€‰æ‹©ä¸‹ä¸€ä¸ªè¦é€šè¿‡é“¾è·¯ä¼ è¾“çš„åˆ†ç»„</p></li><li><p>è°ƒåº¦ç­–ç•¥ï¼šFIFO (first in first out) scheduling: æŒ‰ç…§åˆ†ç»„åˆ°æ¥çš„æ¬¡åºå‘é€</p><ul><li>ä¸¢å¼ƒç­–ç•¥: å¦‚æœåˆ†ç»„åˆ°è¾¾ä¸€ä¸ªæ»¡çš„é˜Ÿåˆ—ï¼Œå“ªä¸ªåˆ†ç»„å°†ä¼šè¢«æŠ›å¼ƒ?<br>tail drop: ä¸¢å¼ƒåˆšåˆ°è¾¾çš„åˆ†ç»„<br>priority: æ ¹æ®ä¼˜å…ˆæƒä¸¢å¤±/ç§»é™¤åˆ†ç»„<br>random: éšæœºåœ°ä¸¢å¼ƒ/ç§»é™¤</li></ul></li><li><p>è°ƒåº¦ç­–ç•¥ï¼šä¼˜å…ˆæƒ</p><ul><li><p>ä¼˜å…ˆæƒè°ƒåº¦ï¼šå‘é€æœ€é«˜ä¼˜å…ˆæƒçš„åˆ†ç»„</p></li><li><p>å¤šç±»ï¼Œä¸åŒç±»åˆ«æœ‰ä¸åŒçš„ä¼˜å…ˆæƒ</p><ul><li><p>ç±»åˆ«å¯èƒ½ä¾èµ–äºæ ‡è®°æˆ–è€…å…¶ä»–çš„å¤´éƒ¨å­—æ®µ  ä¾‹å¦‚æº/ç›®çš„IPã€ç«¯å£å·ç­‰ã€‚</p></li><li><p>å…ˆä¼ é«˜ä¼˜å…ˆçº§çš„é˜Ÿåˆ—ä¸­çš„åˆ†ç»„ï¼Œé™¤éæ²¡æœ‰</p></li><li><p>é«˜ï¼ˆä½ï¼‰ä¼˜å…ˆæƒä¸­çš„åˆ†ç»„ä¼ è¾“æ¬¡åºï¼šFIFO</p><p><img src="/2021/04/23/jsjwl04/image-20210424221737661.png" alt="å¤šç±»çš„ä¼˜å…ˆæƒè°ƒåº¦ç®—æ³•"></p></li></ul></li></ul></li><li><p>è°ƒåº¦ç­–ç•¥ï¼šRound Robinï¼ˆRRï¼‰ scheduling</p><ul><li><p>å¤šç±»ï¼Œç„¶åå¾ªç¯æ‰«æä¸åŒç±»å‹çš„é˜Ÿåˆ—, å‘é€å®Œä¸€ç±»çš„ä¸€ä¸ªåˆ†ç»„ï¼Œå†å‘é€ä¸‹ä¸€ä¸ªç±»çš„ä¸€ä¸ªåˆ†ç»„ï¼Œå¾ªç¯æ‰€æœ‰ç±»</p><p><img src="/2021/04/23/jsjwl04/image-20210424222422318.png" alt="RR"></p></li></ul></li><li><p>è°ƒåº¦ç­–ç•¥ï¼šWeighted Fair Queuingï¼ˆWFQï¼‰</p><ul><li><p>ä¸€èˆ¬åŒ–çš„Round Robin</p></li><li><p>å¤šç±»ï¼Œåœ¨ä¸€æ®µæ—¶é—´å†…ï¼Œæ¯ä¸ªé˜Ÿåˆ—å¾—åˆ°çš„æœåŠ¡æ—¶é—´æ˜¯ï¼šW<sub>i</sub>/(XIGMA(W<sub>i</sub>)) *tï¼Œå’Œæ•´ä½“ä¼˜å…ˆçº§çš„æƒé‡æˆæ­£æ¯”</p></li><li><p>æ¯ä¸ªç±»åœ¨æ¯ä¸€ä¸ªå¾ªç¯ä¸­è·å¾—ä¸åŒæƒé‡çš„æœåŠ¡é‡</p><blockquote><p>é«˜ä¼˜å…ˆçº§é˜Ÿåˆ—ä¹Ÿå¹¶ä¸æ˜¯ç»å¯¹ä¼˜å…ˆäºä½ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œåªæ˜¯æ•´ä½“è€Œè¨€ï¼ŒæœåŠ¡æ—¶é—´å æ¯”ä¸å…¶æ•´ä½“ä¼˜å…ˆçº§æƒé‡æœ‰å…³</p></blockquote><p><img src="/2021/04/23/jsjwl04/image-20210424222640236.png" alt="WFQ"></p></li></ul></li></ul></li></ul></li></ul></li></ul><h3 id="3-IP-åè®®"><a href="#3-IP-åè®®" class="headerlink" title="3 IP åè®®"></a>3 IP åè®®</h3><ul><li><p>ä¸»æœºã€è·¯ç”±å™¨ä¸­çš„ç½‘ç»œå±‚åŠŸèƒ½ï¼š</p><ul><li>è·¯ç”±åè®®</li><li>IPåè®®ï¼šæ•°æ®å±‚é¢ï¼Œé€šè¿‡æŸ¥forwarding tableæ¥ç¡®å®šè·¯å¾„å¹¶è½¬å‘ã€‚å¯¹åˆ†ç»„è¿›è¡Œå¤„ç†ã€‚</li><li>ICMPåè®®ï¼šä¿¡ä»¤åè®®ï¼Œä¼ é€ä¿¡å·ï¼Œç”¨æ¥è¿›è¡Œé”™è¯¯æŠ¥å‘Šï¼Œæ£€éªŒç½‘ç»œæƒ…å†µã€‚ä¾‹å¦‚pingã€æµ‹è¯•RRTç­‰ã€‚</li></ul><p><img src="/2021/04/23/jsjwl04/image-20210425154437160.png" alt="ç½‘ç»œå±‚"></p></li></ul><h4 id="3-1-æ•°æ®æŠ¥æ ¼å¼"><a href="#3-1-æ•°æ®æŠ¥æ ¼å¼" class="headerlink" title="3.1 æ•°æ®æŠ¥æ ¼å¼"></a>3.1 æ•°æ®æŠ¥æ ¼å¼</h4><ul><li><p>IPæ•°æ®æŠ¥æ ¼å¼</p><ul><li><p>verï¼š IPåè®®ç‰ˆæœ¬å·  IPv4ï¼š0100</p></li><li><p>head lenï¼šå¤´éƒ¨é•¿åº¦ = å›ºå®š20å­—èŠ‚é•¿åº¦ + é€‰é¡¹Options</p><blockquote><p>head lenä¸­å•ä½æ˜¯è¡Œ å³4ä¸ªå­—èŠ‚ä¸ºå•ä½   æ‰€ä»¥å›ºå®šé•¿åº¦ä¸º20å­—èŠ‚ã€é€‰é¡¹ä¸º0å­—èŠ‚ï¼Œåˆ™head len=5</p></blockquote></li><li><p>type of serviceï¼šæ•°æ®ç±»å‹  è®¾è®¡æ—¶æ˜¯ä¸ºäº†è®©è°ƒåº¦æœ‰ä¸€ä¸ªä¾æ®ï¼Œä½†åæ¥åºŸå¼ƒä¸ç”¨äº†ã€‚</p></li><li><p>time to liveï¼šTTL  æ¯è¿‡ä¸€ä¸ªè·¯ç”±å™¨å‡ä¸€ï¼Œå‡ä¸ºé›¶ä»¥åè·¯ç”±å™¨å°†è¯¥æ•°æ®æŠ¥ä¸¢å¼ƒï¼ŒåŒæ—¶å‘ç»™æºä¸»æœºä¸€ä¸ªICMPä¿¡å·ï¼Œé€šçŸ¥ä¸€ä¸‹ã€‚</p></li><li><p>upper layerï¼šç”¨æ¥æ ‡è®°äº¤ç»™ä¸Šä¸€å±‚çš„å“ªä¸€ä¸ªåè®®ï¼ŒUDPè¿˜æ˜¯TCPã€‚</p></li><li><p>Internet checksum ï¼šç”¨æ¥æ£€éªŒIPæ•°æ®æŠ¥çš„å¤´éƒ¨æ˜¯å¦å‡ºç°é—®é¢˜ã€‚</p></li><li><p>Optionï¼šå¤´éƒ¨çš„å¯é€‰é¡¹ï¼Œå¯ç”¨æ¥åšä¸€äº›ç‰¹æ®ŠåŠŸèƒ½ï¼Œä¾‹å¦‚æ—¶æˆ³è®°å½•ä¼ è¾“è·¯å¾„ä¸Šç»è¿‡çš„è·¯ç”±å™¨æœ‰å“ªäº›ç­‰ç­‰ã€‚</p><p><img src="/2021/04/23/jsjwl04/image-20210425155117547.png" alt="IPæ•°æ®æŠ¥æ ¼å¼"></p><p><img src="/2021/04/23/jsjwl04/image-20210425162202081.png" alt="IPåè®®æ•°æ®æŠ¥å¤´éƒ¨ç¤ºä¾‹"></p><h4 id="3-2-IPåˆ†ç‰‡å’Œé‡ç»„ï¼ˆFragmentation-amp-Reassemblyï¼‰"><a href="#3-2-IPåˆ†ç‰‡å’Œé‡ç»„ï¼ˆFragmentation-amp-Reassemblyï¼‰" class="headerlink" title="3.2 IPåˆ†ç‰‡å’Œé‡ç»„ï¼ˆFragmentation &amp; Reassemblyï¼‰"></a>3.2 IPåˆ†ç‰‡å’Œé‡ç»„ï¼ˆFragmentation &amp; Reassemblyï¼‰</h4></li></ul></li><li><p>ç½‘ç»œé“¾è·¯æœ‰MTU (æœ€å¤§ä¼ è¾“å•å…ƒ)â€“é“¾è·¯å±‚å¸§æ‰€æºå¸¦çš„æœ€å¤§æ•°æ®é•¿åº¦<br>  ä¸åŒçš„é“¾è·¯ç±»å‹æœ‰ç€ä¸åŒçš„MTU</p><blockquote><p>MTUæŒ‡çš„æ˜¯é“¾è·¯å±‚çš„æ¯ä¸ªå¸§æ‰€æºå¸¦çš„è´Ÿè½½bodyçš„æœ€å¤§é•¿åº¦ã€‚ä¾‹å¦‚FDDIæ˜¯4000Bï¼Œä»¥å¤ªç½‘æ˜¯1500Bã€‚</p></blockquote></li><li><p>å¤§çš„IPæ•°æ®æŠ¥åœ¨ç½‘ç»œä¸Šè¢«åˆ†ç‰‡(â€œfragmentedâ€)ï¼Œä¸€ä¸ªæ•°æ®æŠ¥è¢«åˆ†å‰²æˆè‹¥å¹²ä¸ªå°çš„æ•°æ®æŠ¥</p><blockquote><p>ä¾‹å¦‚FDDIé“¾è·¯çš„MTUæ˜¯4000Bï¼Œä»¥å¤ªç½‘æ˜¯1500Bï¼Œä»FDDIæ¥çš„å¸§ä¸èƒ½åœ¨ä»¥å¤ªç½‘ä¸­ç›´æ¥ä¼ è¾“ï¼Œæ‰€ä»¥éœ€è¦å°†å¯¹åº”IPæ•°æ®æŠ¥ï¼ˆå‡è®¾IPå¤´éƒ¨20Bï¼Œåˆ™IPçš„bodyæ˜¯3980Bï¼‰è¿›è¡Œåˆ†ç‰‡ã€‚</p></blockquote><ul><li>ç›¸åŒçš„ID</li><li>ä¸åŒçš„åç§»é‡</li><li>æœ€åä¸€ä¸ªåˆ†ç‰‡æ ‡è®°ä¸º0</li></ul></li><li><p>IPå¤´éƒ¨çš„ä¿¡æ¯è¢«ç”¨äºæ ‡è¯†ï¼Œæ’åºç›¸å…³åˆ†ç‰‡</p><p>  <img src="/2021/04/23/jsjwl04/image-20210425173944450.png" alt="åˆ†ç‰‡"></p></li><li><p>â€œé‡ç»„â€åªåœ¨æœ€ç»ˆçš„ç›®æ ‡ä¸»æœºè¿›è¡Œ</p><blockquote><p>åœ¨ä¸­é—´çš„è·¯ç”±å™¨ä¸ä¼šè¿›è¡Œé‡ç»„ï¼ŒåŸå› ï¼šè·¯ç”±å™¨è´Ÿæ‹…å¤§ï¼›å°IPæ•°æ®æŠ¥å¯èƒ½é€šè¿‡ä¸åŒè·¯å¾„å‘ç›®æ ‡ä¸»æœºä¼ è¾“ã€‚</p></blockquote><blockquote><p>ç›®æ ‡ä¸»æœºæ¥æ”¶åˆ°ä¸€ä¸ªå°IPæ•°æ®æŠ¥åï¼Œå¼€å§‹è®¡æ—¶ï¼Œè®¡æ—¶æ—¶é—´å†…å…¶ä»–æ‰€æœ‰åˆ‡åˆ†æˆçš„å°IPæ•°æ®æŠ¥å…¨éƒ¨åˆ°è¾¾ï¼Œåˆ™é‡ç»„ä¼ ç»™ä¸Šå±‚ã€‚å¦‚æœæœ‰å°IPæ•°æ®æŠ¥æ²¡åˆ°ï¼Œåˆ™å°†æ‰€æœ‰IPæ•°æ®æŠ¥ä¸¢å¼ƒã€‚</p></blockquote></li><li><p>ç¤ºä¾‹ï¼š</p><ul><li><p>fragflagè¡¨ç¤ºè¿™ä¸€ç‰‡åé¢æ˜¯å¦è¿˜æœ‰åˆ†ç‰‡ï¼Œfragflag=1è¡¨ç¤ºåé¢è¿˜æœ‰ï¼Œfragflag=0è¡¨ç¤ºåé¢æ²¡æœ‰åˆ†ç‰‡äº†ï¼Œè¿™æ˜¯æœ€åçš„ä¸€ä¸ªåˆ†ç‰‡ </p><p><img src="/2021/04/23/jsjwl04/image-20210425174544531.png" alt="IPæ•°æ®æŠ¥åˆ†ç‰‡å’Œé‡ç»„ç¤ºä¾‹"></p></li><li><p>IPå¤´éƒ¨ï¼š</p><ul><li>æ ‡è¯†ï¼ˆidentificationï¼‰IDï¼šå 16ä½ã€‚IPè½¯ä»¶åœ¨å­˜å‚¨å™¨ä¸­ç»´æŒä¸€ä¸ªè®¡æ•°å™¨ï¼Œæ¯äº§ç”Ÿä¸€ä¸ªæ•°æ®æŠ¥ï¼Œè®¡æ•°å™¨å°±åŠ 1ï¼Œå¹¶å°†æ­¤å€¼èµ‹ç»™æ ‡è¯†å­—æ®µã€‚<br>ä½†è¿™ä¸ªâ€œæ ‡è¯†â€ä¸æ˜¯åºå·ï¼Œå› ä¸ºIPæ˜¯æ— è¿æ¥æœåŠ¡ï¼Œæ•°æ®æŠ¥ä¸å­˜åœ¨æŒ‰åºæ¥æ”¶çš„é—®é¢˜ã€‚å½“æ•°æ®æŠ¥ç”±äºé•¿åº¦è¶…è¿‡ç½‘ç»œçš„MTUè€Œå¿…é¡»åˆ†ç‰‡æ—¶ï¼Œè¿™ä¸ªæ ‡è¯†å­—æ®µçš„å€¼å°±è¢«å¤åˆ¶åˆ°æ‰€æœ‰çš„æ•°æ®æŠ¥ç‰‡çš„æ ‡è¯†å­—æ®µä¸­ã€‚ç›¸åŒçš„æ ‡è¯†å­—æ®µçš„å€¼ä½¿åˆ†ç‰‡åçš„å„æ•°æ®æŠ¥ç‰‡æœ€åèƒ½æ­£ç¡®åœ°é‡è£…æˆä¸ºåŸæ¥çš„æ•°æ®æŠ¥ã€‚</li><li>æ ‡å¿—ï¼ˆflagï¼‰ï¼šå 3ä½ï¼Œä½†ç›®å‰åªæœ‰ä¸¤ä½æœ‰æ„ä¹‰ã€‚<ul><li>â€“ æ ‡å¿—å­—æ®µä¸­çš„æœ€ä½ä½ä¸ºMFï¼ˆMore Fragmentï¼‰ã€‚MF=1å³è¡¨ç¤ºåé¢â€œè¿˜æœ‰åˆ†ç‰‡â€çš„æ•°æ®æŠ¥ã€‚MF=0è¡¨ç¤ºè¿™å·²æ˜¯è‹¥å¹²æ•°æ®æŠ¥ç‰‡ä¸­çš„æœ€åä¸€ä¸ªã€‚</li><li>â€“ æ ‡å¿—å­—æ®µä¸­é—´çš„ä¸€ä½è®°ä¸ºDFï¼ˆDonâ€™t Fragmentï¼‰ï¼Œæ„æ€æ˜¯â€œä¸èƒ½åˆ†ç‰‡â€ã€‚åªæœ‰å½“DF=0æ—¶æ‰å…è®¸åˆ†ç‰‡ã€‚</li></ul></li><li>ç‰‡åç§»ï¼ˆoffsetï¼‰ï¼šå 13ä½ã€‚ç‰‡åç§»æŒ‡å‡ºï¼šè¾ƒé•¿çš„åˆ†ç»„åœ¨åˆ†ç‰‡åï¼ŒæŸç‰‡åœ¨åŸåˆ†ç»„ä¸­çš„ç›¸å¯¹ä½ç½®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç›¸å¯¹äºç”¨æˆ·æ•°æ®å­—æ®µçš„èµ·ç‚¹ï¼Œè¯¥ç‰‡ä»ä½•å¤„å¼€å§‹ã€‚ç‰‡åç§»ä»¥8ä¸ªå­—èŠ‚ä¸ºåç§»å•ä½ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªåˆ†ç‰‡çš„é•¿åº¦ä¸€å®šæ˜¯8å­—èŠ‚ï¼ˆ64ä½ï¼‰çš„æ•´æ•°å€ã€‚</li></ul></li></ul></li></ul><h4 id="3-3-IPv4åœ°å€"><a href="#3-3-IPv4åœ°å€" class="headerlink" title="3.3 IPv4åœ°å€"></a>3.3 IPv4åœ°å€</h4><ul><li><p>IPåœ°å€æ˜¯ç”¨æ¥æ ‡è¯†è®¾å¤‡ï¼ˆä¸»æœºã€è·¯ç”±å™¨ã€äº¤æ¢æœºç­‰ï¼‰ä¸ç½‘ç»œè¿æ¥ç‚¹çš„</p></li><li><p>IP åœ°å€: 32ä½æ ‡ç¤ºï¼Œå¯¹ä¸»æœºæˆ–è€…è·¯ç”±å™¨çš„æ¥å£ç¼–å€</p></li><li><p>æ¥å£: ä¸»æœº/è·¯ç”±å™¨å’Œç‰©ç†é“¾è·¯çš„è¿æ¥å¤„</p><ul><li><p>è·¯ç”±å™¨é€šå¸¸æ‹¥æœ‰å¤šä¸ªæ¥å£ï¼Œå³æœ‰å¤šä¸ªIPåœ°å€</p></li><li><p>ä¸»æœºä¹Ÿæœ‰å¯èƒ½æœ‰å¤šä¸ªæ¥å£ï¼ˆä¾‹å¦‚ä¸€å°ä¸»æœºè£…å¤šä¸ªç½‘å¡ï¼Œæˆ–è€…ä¸€ä¸ªç½‘å¡å¤šä¸ªè™šæ‹Ÿåœ°å€ï¼‰</p></li><li><p> ä¸€ä¸ªIPåœ°å€å’Œä¸€ä¸ªæ¥å£ç›¸å…³è”</p></li></ul><p>  <img src="/2021/04/23/jsjwl04/image-20210425213114450.png" alt="IPåœ°å€"></p></li><li></li><li><p><img src="/2021/04/23/jsjwl04/image-20210425213326018.png" alt="å¼•è®º"></p></li><li><p>å­ç½‘ï¼ˆSubnetsï¼‰</p><ul><li><p>IPåœ°å€:</p><ul><li>å­ç½‘éƒ¨åˆ†(é«˜ä½bits)</li><li>ä¸»æœºéƒ¨åˆ†(åœ°ä½bits)</li></ul></li><li><p>ä»€ä¹ˆæ˜¯å­ç½‘(subnet) ?</p><ul><li>ä¸€ä¸ªå­ç½‘å†…çš„èŠ‚ç‚¹ï¼ˆä¸»æœºæˆ–è€…è·¯ç”±å™¨ï¼‰å®ƒä»¬çš„IPåœ°å€çš„é«˜ä½éƒ¨åˆ†ç›¸åŒï¼Œè¿™äº›èŠ‚ç‚¹æ„æˆçš„ç½‘ç»œçš„ä¸€éƒ¨åˆ†å«åšå­ç½‘</li><li>æ— éœ€è·¯ç”±å™¨ä»‹å…¥ï¼Œï¼ˆå¯ä»¥å€ŸåŠ©äº¤æ¢æœºï¼‰ï¼Œå­ç½‘å†…å„ä¸»æœºå¯ä»¥åœ¨ç‰©ç†ä¸Šç›¸äº’ç›´æ¥åˆ°è¾¾</li></ul><p><img src="/2021/04/23/jsjwl04/image-20210425213841740.png" alt="å­ç½‘"></p></li><li><p>å¦‚ä½•åˆ¤æ–­å­ç½‘ï¼Ÿ</p><ul><li><p>è¦åˆ¤æ–­ä¸€ä¸ªå­ç½‘, å°†æ¯ä¸€ä¸ªæ¥å£ä»ä¸»æœºæˆ–è€…è·¯ç”±å™¨ä¸Šåˆ†å¼€,æ„æˆäº†ä¸€ä¸ªä¸ªç½‘ç»œçš„å­¤å²›</p></li><li><p>æ¯ä¸€ä¸ªå­¤å²›ï¼ˆç½‘ç»œï¼‰éƒ½æ˜¯ä¸€ä¸ªéƒ½å¯ä»¥è¢«ç§°ä¹‹ä¸ºsubnet.</p><p><img src="/2021/04/23/jsjwl04/image-20210425214631003.png" alt="åˆ¤æ–­å­ç½‘"></p><blockquote><p>è¿™ç§ä¸¥æ ¼å®šä¹‰çš„å­ç½‘ä¹Ÿè¢«ç§°ä¹‹ä¸ºçº¯å­ç½‘ã€‚</p><p>æœ‰æ—¶å€™ï¼ŒIPåœ°å€å­ç½‘éƒ¨åˆ†çš„é«˜ä½åœ°å€ç›¸åŒï¼Œå…¶ä»–ä½ä¸åŒçš„è®¾å¤‡æ„æˆçš„ç½‘ç»œä¹Ÿå«å­ç½‘ï¼Œè¿™äº›è®¾å¤‡å¯èƒ½ç»è¿‡ä¸€äº›è·¯ç”±å™¨ï¼Œä½†æ˜¯ç›¸å¯¹äºæ•´ä¸ªå¤§çš„ç½‘ç»œè€Œè¨€ä¹Ÿæ˜¯å­ç½‘ã€‚ç§°ä¹‹ä¸ºå­ç½‘ã€‚</p></blockquote></li><li><p>ç¤ºä¾‹ï¼šï¼ˆçº¯å­ç½‘ï¼‰  6ä¸ª</p><blockquote><p>å»æ‰ä¸è®¾å¤‡çš„è¿æ¥å¤„å½¢æˆçš„ç½‘ç»œå­¤å²›æœ‰6ä¸ªã€‚3ä¸ªä¸¤ipåœ°å€çš„ï¼Œ2ä¸ªä¸‰ipåœ°å€ï¼Œä¸€ä¸ªå››ipåœ°å€ã€‚</p></blockquote><p><img src="/2021/04/23/jsjwl04/image-20210425214930124.png" alt="å­ç½‘ç¤ºä¾‹"></p></li></ul></li></ul></li><li><p>IPç»è¿‡çš„ç‰©ç†ç½‘ç»œä¸€èˆ¬æœ‰ä¸¤ä¸ªå½¢å¼</p><ul><li>è¿œç¨‹çš„è¿æ¥ï¼šç‚¹å¯¹ç‚¹</li><li>å±€åŸŸç½‘å†…çš„ï¼šå¤šç‚¹è¿æ¥ï¼ˆé€šè¿‡äº¤æ¢æœºç­‰ï¼‰</li></ul></li><li><p>IPåœ°å€åˆ†ç±»</p><p>Class Aã€Bã€Cç½‘ç»œåœ°å€æ˜¯å•æ’­ç½‘ç»œåœ°å€</p><ul><li><p>Class Aï¼š126 networks ï¼Œ16 million hosts</p><blockquote><p>Aç±»ç½‘ç»œä»¥0å¼€å¤´   </p><p>ä¸€å…±æœ‰2<sup>7</sup>-2ä¸ªç½‘ç»œï¼ˆå‡äºŒçš„åŸå› æ˜¯å…¨0å’Œå…¨1çš„ç½‘ç»œåœ°å€ä¸ç”¨ï¼Œè¿™é‡Œå°±æ˜¯0å’Œ127ä¸ç”¨ï¼‰ï¼Œï¼ˆå·²ç»è¢«åˆ†é…å®Œäº†ï¼‰</p><p>ç„¶åæœ‰2<sup>24</sup>-2ä¸ªä¸»æœºåœ°å€ï¼ˆå‡äºŒçš„åŸå› æ˜¯å…¨0å’Œå…¨1çš„ä¸»æœºåœ°å€ä¸ç”¨ï¼‰</p></blockquote></li><li><p>Class Bï¼š16382 networks ï¼Œ64 K hosts</p><blockquote><p>Bç±»ç½‘ç»œä»¥10å¼€å¤´</p><p>ä¸€å…±æœ‰2<sup>14</sup>-2ä¸ªç½‘ç»œï¼ˆå‡äºŒçš„åŸå› æ˜¯å…¨0å’Œå…¨1çš„ç½‘ç»œåœ°å€ä¸ç”¨ï¼‰ï¼Œï¼ˆå·²ç»è¢«åˆ†é…å®Œäº†ï¼‰</p><p>ç„¶åæœ‰2<sup>16</sup>-2ä¸ªä¸»æœºåœ°å€ï¼ˆå‡äºŒçš„åŸå› æ˜¯å…¨0å’Œå…¨1çš„ä¸»æœºåœ°å€ä¸ç”¨ï¼‰</p></blockquote></li><li><p>Class Cï¼š2 million networks ï¼Œ254 host</p><blockquote><p>Cç±»ç½‘ç»œä»¥110å¼€å¤´</p><p>ä¸€å…±æœ‰2<sup>16</sup>-2ä¸ªç½‘ç»œï¼ˆå‡äºŒçš„åŸå› æ˜¯å…¨0å’Œå…¨1çš„ç½‘ç»œåœ°å€ä¸ç”¨ï¼‰ï¼Œï¼ˆç°åœ¨ä¸€èˆ¬è·å¾—çš„ç½‘ç»œéƒ½æ˜¯Cç±»ç½‘ç»œï¼‰</p><p>ç„¶åæœ‰2<sup>8</sup>-2ä¸ªä¸»æœºåœ°å€ï¼ˆå‡äºŒçš„åŸå› æ˜¯å…¨0å’Œå…¨1çš„ä¸»æœºåœ°å€ä¸ç”¨ï¼‰</p></blockquote></li></ul><p>Class Dæ˜¯ç»„æ’­åœ°å€</p><ul><li><p>Class Dï¼šmulticast</p><blockquote><p>å¼€å¤´æ˜¯1110    Multicast addressæ˜¯ç»„æ’­åœ°å€</p></blockquote></li><li><p>Class Eï¼šreserved for future</p><blockquote><p>å¼€å¤´æ˜¯11110    é¢„ç•™åœ°å€  ä¸ºä¹‹åçš„ä½¿ç”¨é¢„ç•™åœ°å€</p></blockquote><p><img src="/2021/04/23/jsjwl04/image-20210425221216252.png" alt="IPåœ°å€åˆ†ç±»"></p></li></ul></li><li><p>äº’è”ç½‘ä¸­çš„è·¯ç”±æ˜¯ä»¥ç½‘ç»œï¼ˆåªçœ‹ç½‘ç»œåœ°å€ï¼Œè€Œä¸æ˜¯IPåœ°å€æ•´ä½“ï¼Œå‡å°‘è´Ÿæ‹…ï¼Œæé«˜æ•ˆç‡ï¼‰ä¸ºå•ä½è¿›è¡Œä¼ è¾“æ•°æ®çš„ï¼Œç­‰åˆ°äº†ç›®æ ‡ä¸»æœºæ‰€åœ¨å­ç½‘ä»¥åï¼Œå­ç½‘è·¯ç”±å™¨æ‰æ ¹æ®IPåœ°å€å¯»æ‰¾å¯¹åº”çš„ç›®æ ‡ä¸»æœºã€‚</p><blockquote><p>å³Aç±»ç½‘ç»œåœ°å€ä¸è·¯ç”±è¡¨å¯¹ç…§æ—¶åªçœ‹ç¬¬ä¸€ä¸ªå­—èŠ‚  Bç±»çœ‹å‰ä¸¤ä¸ªå­—èŠ‚  Cç±»çœ‹å‰ä¸‰ä¸ªå­—èŠ‚</p></blockquote></li><li><p>ç‰¹æ®ŠIPåœ°å€</p><ul><li><p>ä¸€äº›çº¦å®šï¼š</p><p><img src="/2021/04/23/jsjwl04/image-20210425223127933.png" alt="ç‰¹æ®ŠIPåœ°å€"></p><ul><li>32ä½åœ°å€å…¨ä¸º0ï¼šè¡¨ç¤ºæœ¬ä¸»æœº</li><li>å­ç½‘éƒ¨åˆ†å…¨ä¸º0ï¼šæœ¬ç½‘ç»œ</li><li>32ä½åœ°å€å…¨ä¸º1ï¼šè¡¨ç¤ºåœ¨æœ¬ç½‘ç»œå†…å¹¿æ’­</li><li>ä¸»æœºéƒ¨åˆ†å…¨ä¸º1ï¼šè¡¨ç¤ºåœ¨è¿œç¨‹çš„ä¸€ä¸ªç‰¹å®šNetworkç½‘ç»œå†…å¹¿æ’­</li><li>ç½‘ç»œéƒ¨åˆ†ä¸º127ï¼Œå…¶ä»–ä½ä»»æ„ï¼šè¡¨ç¤ºå›è·¯åœ°å€/æµ‹è¯•åœ°å€ï¼Œå³è®¿é—®æœ¬æœº    ï¼ˆæ•°æ®ä¼šä¼ åˆ°æœ¬æœºçš„IPå±‚å†å›ä¼ åˆ°æœ¬ä¸»æœºï¼‰</li><li>ç½‘ç»œéƒ¨åˆ†æ˜¯æŸä¸ªç½‘ç»œåœ°å€ï¼Œä¸»æœºéƒ¨åˆ†å…¨0ï¼šè¡¨ç¤ºè¿™ä¸ªç½‘ç»œçš„ç½‘ç»œå·</li></ul></li></ul></li><li><p>å†…ç½‘ï¼ˆä¸“ç”¨ï¼‰IPåœ°å€</p><ul><li><p>ä¸“ç”¨åœ°å€ï¼šåœ°å€ç©ºé—´çš„ä¸€éƒ¨ä»½ä¾›ä¸“ç”¨åœ°å€ä½¿ç”¨ï¼Œè€Œä¸ä½œä¸ºå…¬ç”¨åœ°å€ä½¿ç”¨</p></li><li><p>æ°¸è¿œä¸ä¼šè¢«å½“åšå…¬ç”¨åœ°å€æ¥åˆ†é…, ä¸ä¼šä¸å…¬ç”¨åœ°å€é‡å¤</p><ul><li>åªåœ¨å±€éƒ¨ç½‘ç»œä¸­æœ‰æ„ä¹‰ï¼ŒåŒºåˆ†ä¸åŒçš„è®¾å¤‡</li></ul></li><li><p>è·¯ç”±å™¨ä¸ä¼šå¯¹ç›®æ ‡åœ°å€æ˜¯ä¸“ç”¨åœ°å€çš„åˆ†ç»„è¿›è¡Œè½¬å‘ï¼Œè¿™äº›åˆ†ç»„åªä¼šåœ¨å­ç½‘å†…éƒ¨ä¸´æ—¶ä½¿ç”¨</p><blockquote><p>æ¯”å¦‚æŸæœºæ„è¿˜æ²¡æœ‰æ­£å¼è¢«åˆ†é…ç½‘ç»œåœ°å€ï¼Œé‚£ä¹ˆåœ¨æµ‹è¯•å†…éƒ¨ç½‘ç»œè¿æ¥çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨ä¸“ç”¨åœ°å€</p></blockquote></li><li><p>ä¸“ç”¨åœ°å€èŒƒå›´</p><ul><li>Class A 10.0.0.0-10.255.255.255 MASK 255.0.0.0</li><li>Class B 172.16.0.0-172.31.255.255 MASK 255.255.0.0</li><li>Class C 192.168.0.0-192.168.255.255 MASK 255.255.255.0</li></ul></li></ul></li><li><p>IP ç¼–å€: CIDR    Classless InterDomain Routingï¼ˆæ— ç±»åŸŸé—´è·¯ç”±ï¼‰</p><ul><li><p>å­ç½‘éƒ¨åˆ†æ˜¯å‰nä½ï¼Œnä¸ç”¨æ˜¯å­—èŠ‚åˆ’åˆ†çš„åœ°æ–¹</p></li><li><p>åœ°å€æ ¼å¼: a.b.c.d/x, å…¶ä¸­x æ˜¯åœ°å€ä¸­å­ç½‘å·çš„é•¿åº¦</p><p><img src="/2021/04/23/jsjwl04/image-20210425225356948.png" alt="CIDR"></p><blockquote><p>è§£å†³çš„é—®é¢˜ï¼š</p><p>Aç±»ã€Bç±»ç½‘ç»œçš„ç½‘ç»œåœ°å€å¤ªå°‘ï¼Œä¸å¤Ÿåˆ†</p><p>Cç±»ç½‘ç»œçš„ç½‘ç»œåœ°å€å¾ˆå¤šï¼Œä½†æ˜¯ä¸»æœºåœ°å€å¤ªå°‘ï¼Œä¸å¤Ÿç”¨</p></blockquote><blockquote><p>é—®é¢˜ï¼šå¦‚ä½•å¾—çŸ¥å“ªäº›éƒ¨åˆ†æ˜¯ç½‘ç»œåœ°å€ï¼Œå“ªäº›éƒ¨åˆ†æ˜¯IPåœ°å€ï¼Ÿ</p><p>è§£å†³æ–¹æ¡ˆï¼šé‡‡ç”¨å­ç½‘æ©ç ï¼Œç½‘ç»œéƒ¨åˆ†å…¨ä¸º1ï¼Œä¸»æœºéƒ¨åˆ†å…¨ä¸º0ï¼Œç„¶åå­ç½‘æ©ç ä¸IPåœ°å€ç›¸ä¸å¯ä»¥å¾—åˆ°ç½‘ç»œå·</p></blockquote></li></ul></li><li><p>å­ç½‘æ©ç ï¼ˆsubnet maskï¼‰</p><ul><li><p>32bits , 0 or 1 in each bit</p><ul><li>1ï¼šbitä½ç½®è¡¨ç¤ºå­ç½‘éƒ¨åˆ†</li><li>0ï¼šbitä½ç½®è¡¨ç¤ºä¸»æœºéƒ¨åˆ†</li></ul></li><li><p>åŸå§‹çš„Aã€Bã€Cç±»ç½‘ç»œçš„å­ç½‘æ©ç åˆ†åˆ«æ˜¯</p><ul><li>Aï¼š255.0.0.0 ï¼š11111111 00000000 0000000 00000000</li><li>Bï¼š255.255.0.0ï¼š11111111 11111111 0000000 00000000</li><li>Cï¼š255.255.255.0ï¼š11111111 11111111 11111111 00000000</li></ul></li><li><p>CIDRä¸‹çš„å­ç½‘æ©ç ä¾‹å­ï¼š</p><ul><li><p>IPåœ°å€è®¾ç½®å‰22ä½æ˜¯ç½‘ç»œéƒ¨åˆ†ï¼Œå10ä½æ˜¯ä¸»æœºéƒ¨åˆ†</p><p>å­ç½‘æ©ç ï¼š11111111 11111111 11111100 00000000</p></li></ul></li><li><p>å¦å¤–çš„ä¸€ç§è¡¨ç¤ºå­ç½‘æ©ç çš„è¡¨è¾¾æ–¹å¼</p><ul><li>/#</li><li>ä¾‹ï¼š/22ï¼šè¡¨ç¤ºå‰é¢22ä¸ªbitä¸ºå­ç½‘éƒ¨åˆ†</li></ul></li></ul></li><li><p>è½¬å‘è¡¨å’Œè½¬å‘ç®—æ³•</p><p><img src="/2021/04/23/jsjwl04/image-20210425230535450.png" alt="è½¬å‘è¡¨å’Œè½¬å‘ç®—æ³•"></p><ul><li><p>è·å¾—IPæ•°æ®æŠ¥çš„ç›®æ ‡åœ°å€</p></li><li><p>å¯¹äºè½¬å‘è¡¨ä¸­çš„æ¯ä¸€ä¸ªè¡¨é¡¹</p><ul><li>å¦‚(IP Des addr) &amp; (mask) == destination, åˆ™æŒ‰ç…§è¡¨é¡¹å¯¹åº”çš„æ¥å£è½¬å‘è¯¥æ•°æ®æŠ¥</li><li>å¦‚æœéƒ½æ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ä½¿ç”¨é»˜è®¤è¡¨é¡¹ï¼ˆDefaultï¼‰è½¬å‘æ•°æ®æŠ¥ã€‚å³ä¸€ä¸ªç½‘ç»œçš„å‡ºå£è·¯ç”±å™¨ã€é»˜è®¤ç½‘å…³ã€‚</li></ul><blockquote><p>å¯¹äºå­ç½‘ä¹‹é—´çš„ä¼ è¾“ï¼ˆå³è¿œç¨‹ä¼ è¾“ä¸­ï¼‰ï¼ŒæŸ¥è½¬å‘è¡¨æ—¶æ¯”è¾ƒçš„æ˜¯ç½‘ç»œå·ï¼Œè€Œä¸ç”¨å…¨éƒ¨çš„32ä½IPåœ°å€ã€‚å‡å°‘è·¯ç”±å™¨çš„è´Ÿæ‹…ï¼Œæé«˜æ•ˆç‡ã€‚</p><p>åªæœ‰åˆ°æœ€åä¸€è·³çš„æ—¶å€™ï¼ˆå³å­ç½‘å†…è·¯ç”±å™¨åˆ°ä¸»æœºçš„æ—¶å€™ï¼‰æŸ¥è½¬å‘è¡¨æ¯”è¾ƒçš„æ‰æ˜¯IPåœ°å€ã€‚</p></blockquote></li></ul></li><li><p>Q: ä¸»æœºå¦‚ä½•è·å¾—ä¸€ä¸ªIPåœ°å€?ï¼ˆä¸¤ç§æ–¹æ³•ï¼‰</p><ul><li><p>ç³»ç»Ÿç®¡ç†å‘˜å°†åœ°å€é…ç½®åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­</p><ul><li>Wintel: control-panel-&gt;network-&gt;configuration-&gt;tcp/ip-&gt;properties</li><li>UNIX: /etc/rc.config</li><li>è”ç½‘éœ€è¦é…ç½®å››ä¸ªä¿¡æ¯ï¼šIPåœ°å€ã€å­ç½‘æ©ç ã€é»˜è®¤ç½‘å…³ã€Local Name Severï¼ˆåŸŸåè§£æç³»ç»Ÿï¼‰</li></ul></li><li><p>DHCP: Dynamic Host Configuration Protocolï¼šä»æœåŠ¡å™¨ä¸­åŠ¨æ€è·å¾—ä¸€ä¸ªIPåœ°å€</p><ul><li><p>â€œplug-and-playâ€</p></li><li><p>ç›®æ ‡: å…è®¸ä¸»æœºåœ¨åŠ å…¥ç½‘ç»œçš„æ—¶å€™ï¼ŒåŠ¨æ€åœ°ä»æœåŠ¡å™¨é‚£é‡Œè·å¾—IPåœ°å€ï¼š</p><ul><li>å¯ä»¥æ›´æ–°å¯¹ä¸»æœºåœ¨ç”¨IPåœ°å€çš„ç§Ÿç”¨æœŸ-ç§ŸæœŸå¿«åˆ°äº†</li><li>é‡æ–°å¯åŠ¨æ—¶ï¼Œå…è®¸é‡æ–°ä½¿ç”¨ä»¥å‰ç”¨è¿‡çš„IPåœ°å€</li><li>æ”¯æŒç§»åŠ¨ç”¨æˆ·åŠ å…¥åˆ°è¯¥ç½‘ç»œï¼ˆçŸ­æœŸåœ¨ç½‘ï¼‰</li></ul><blockquote><p>ä¼˜ç‚¹ï¼š</p><ol><li><p>è‡ªåŠ¨åˆ†é…IPåœ°å€ï¼Œä¸ç”¨æ‰‹åŠ¨é…ç½®</p></li><li><p>æœ‰æ—¶å€™æœ‰500äººï¼Œä½†æ˜¯åŒæ—¶åœ¨çº¿çš„äººæ•°å°‘ï¼Œæ‰€ä»¥254ä¸ªä¸»æœºåœ°å€å°±å¤Ÿç”¨äº†</p></li></ol></blockquote></li><li><p>DHCPå·¥ä½œæ¦‚å†µ:</p><ul><li>ä¸»æœºå¹¿æ’­â€œDHCP discoverâ€ æŠ¥æ–‡[å¯é€‰]</li><li>DHCP æœåŠ¡å™¨ç”¨â€œDHCP offerâ€æä¾›æŠ¥æ–‡å“åº”[å¯é€‰]</li><li>ä¸»æœºè¯·æ±‚IPåœ°å€ï¼šå‘é€â€œDHCP requestâ€ æŠ¥æ–‡</li><li>DHCPæœåŠ¡å™¨å‘é€åœ°å€ï¼šâ€œDHCP ackâ€ æŠ¥æ–‡</li></ul></li><li><p><img src="/2021/04/23/jsjwl04/image-20210426143224611.png" alt="DHCPçš„è¯·æ±‚IPç¤ºæ„å›¾"></p><p><img src="/2021/04/23/jsjwl04/image-20210426143407009.png" alt="image-20210426143407009"></p><blockquote><p>è¯·æ±‚IPåœ°å€çš„æ—¶å€™ï¼Œä¸»æœºè¿˜æ²¡æœ‰è¢«åˆ†é…IPåœ°å€ï¼Œæ‰€ä»¥é‡‡ç”¨å…¨0çš„IPåœ°å€è¡¨ç¤ºæœ¬æœºï¼Œè€Œä¸»æœºä¹Ÿä¸çŸ¥é“DHCPæœåŠ¡å™¨çš„IPåœ°å€ï¼Œæ‰€ä»¥é‡‡ç”¨å…¨1å½¢å¼åœ¨æœ¬ç½‘å†…éƒ¨è¿›è¡Œå¹¿æ’­ã€‚</p><p>yiaddrï¼š è¡¨ç¤ºåˆ†é…çš„IPåœ°å€</p><p>lifetimeï¼šè¡¨ç¤ºIPåœ°å€çš„ç§Ÿç”¨æ—¶é—´</p></blockquote></li><li><p>DHCP: ä¸ä»…ä»…æ˜¯IP addresses<br>DHCP è¿”å›:</p><ul><li>IP åœ°å€</li><li>ç¬¬ä¸€è·³è·¯ç”±å™¨çš„IPåœ°å€ï¼ˆé»˜è®¤ç½‘å…³ï¼‰</li><li>DNSæœåŠ¡å™¨çš„åŸŸåå’ŒIPåœ°å€</li><li>å­ç½‘æ©ç (æŒ‡ç¤ºåœ°å€éƒ¨åˆ†çš„ç½‘ç»œå·å’Œä¸»æœºå·)</li></ul><p><img src="/2021/04/23/jsjwl04/image-20210426144432370.png" alt="DHCPå®ä¾‹1"></p><p><img src="/2021/04/23/jsjwl04/image-20210426144631839.png" alt="DHCPå®ä¾‹2"></p></li></ul></li></ul></li><li><p>Q: å¦‚ä½•è·å¾—ä¸€ä¸ªç½‘ç»œçš„å­ç½‘éƒ¨åˆ†ï¼Ÿ<br>A: ä»ISPè·å¾—åœ°å€å—ä¸­åˆ†é…ä¸€ä¸ªå°åœ°å€å—</p><blockquote><p>å‡è®¾ISPçš„ç½‘ç»œåœ°å€æ˜¯20ä½ï¼Œé‚£ä¹ˆä»–å¯ä»¥ä»¥å›ºå®šçš„20ä½å†å¾€ååŠ 3ä½çš„000-111å‘ä¸‹åˆ†é…å‡º8ä¸ª23ä½çš„å­ç½‘ï¼Œå½“ç„¶è¿™äº›å­ç½‘ä¹Ÿå¯ä»¥ç»§ç»­å‘ä¸‹åˆ’åˆ†æ›´å°çš„å­ç½‘ã€‚</p></blockquote><p><img src="/2021/04/23/jsjwl04/image-20210426145503696.png" alt="å¦‚ä½•è·å¾—å­ç½‘éƒ¨åˆ†"></p></li><li><p>å±‚æ¬¡ç¼–å€ï¼šè·¯ç”±èšé›†ï¼ˆroute aggregationï¼‰</p><blockquote><p>ä¸‹ä¸€è·³ï¼šå‡å¦‚è¯´æŸä¸€ä¸ªè·¯ç”±å™¨å‘å¸ƒé€šå‘Šï¼Œ200.23.16.0/23å‰ç¼€çš„IPåœ°å€çš„æ•°æ®æŠ¥éƒ½å‘ç»™æˆ‘ï¼Œåˆ™è¿™ä¸ªè·¯ç”±å™¨å°±æ˜¯è¿™äº›æ•°æ®æŠ¥çš„ä¸‹ä¸€è·³</p></blockquote><p><img src="/2021/04/23/jsjwl04/image-20210426151030913.png" alt="è·¯ç”±èšé›†1"></p><blockquote><p>ä¾‹å¦‚ï¼šå›¾ä¸­IP Xèšé›†IP 0ã€IP 1ã€IP 2ã€IP 3ç­‰è·¯ç”±ä¿¡æ¯ï¼Œç„¶åå‘Interneté€šå‘Šã€‚Internetä¼ æ¥ä¸€ä¸ªæ•°æ®æŠ¥ç›®çš„IPæ˜¯200.23.18.7 é‚£ä¹ˆä»–å°±ä¼šä¼ ç»™IP xè¿™ä¸ªè·¯ç”±å™¨  å› ä¸ºå‰20ä½æ˜¯åŒ¹é…ä¸Šçš„ã€‚ç„¶åå†åœ¨è·¯ç”±å™¨ä¸­æŸ¥è½¬å‘è¡¨ï¼ŒæŸ¥æ‰¾ä¸‹ä¸€è·³ã€‚</p></blockquote><p><img src="/2021/04/23/jsjwl04/image-20210426160917779.png" alt="è·¯ç”±èšé›†2"></p><blockquote><p>åœ¨è·¯ç”±èšé›†ä¸­æ”¯æŒå¤§æ¦‚é½çš„è·¯ç”±èšé›†ï¼Œå³IPxè™½ç„¶åªèšé›†äº†7ä¸ªè€Œæœ‰ä¸€ä¸ªæ²¡æœ‰èšé›†ï¼Œä½†æ˜¯å¯¹å¤–é€šå‘Šå¯ä»¥é€šå‘Š200.23.16.0/20ï¼Œè€ŒIPyåªèšé›†äº†200.23.18.0/23å’Œ199.31.0.0/16çš„ï¼Œæ‰€ä»¥å®ƒé€šå‘Šè¦é€šå‘Šä¸¤ä¸ªï¼š200.23.18.0/23å’Œ199.31.0.0/16ã€‚</p><p>å½“æœ‰ç›®çš„IPæ˜¯200.23.18.7çš„æ•°æ®æŠ¥æ¥åˆ°Internetä¸­æ—¶ï¼Œç”±äºæœ€é•¿å‰ç¼€åŒ¹é…ï¼ˆæœ€ç²¾ç¡®åœ°ï¼‰å°†ä¼šæŠŠæ•°æ®æŠ¥ä¼ é€’åˆ°IPyä¸Šã€‚</p></blockquote><ul><li>è·¯ç”±èšé›†ä¼˜ç‚¹ï¼šå‡å°‘è·¯ç”±è¡¨é¡¹ï¼Œå‡å°‘è·¯ç”±é€šå‘Šçš„ä»£ä»·ï¼Œå‡å°‘è·¯ç”±å­˜å‚¨å’Œè®¡ç®—çš„ä»£ä»·ç­‰ã€‚</li></ul></li><li><p>Q: ä¸€ä¸ªISPå¦‚ä½•è·å¾—ä¸€ä¸ªåœ°å€å—?<br>A: å‘æƒå¨æœºæ„ICANNè¯·æ±‚è·å¾—åœ°å€ï¼ŒICANNï¼šInternet Corporation for Assigned Names and Numbers</p></li><li><p>ICANNè´Ÿè´£ï¼šåˆ†é…åœ°å€ã€ç®¡ç†DNSã€åˆ†é…åŸŸåï¼Œè§£å†³å†²çª</p></li><li><p>NAT: Network Address Translation</p><p><img src="/2021/04/23/jsjwl04/image-20210426161631547.png" alt="NAT"></p><ul><li><p>åŠ¨æœº: æœ¬åœ°ç½‘ç»œåªæœ‰ä¸€ä¸ªæœ‰æ•ˆIPåœ°å€:</p><ul><li>ä¸éœ€è¦ä»ISPåˆ†é…ä¸€å—åœ°å€ï¼Œå¯ç”¨ä¸€ä¸ªIPåœ°å€ç”¨äºæ‰€æœ‰çš„ï¼ˆå±€åŸŸç½‘ï¼‰è®¾å¤‡â€“çœé’±</li><li>å¯ä»¥åœ¨å±€åŸŸç½‘æ”¹å˜è®¾å¤‡çš„åœ°å€æƒ…å†µä¸‹è€Œæ— é¡»é€šçŸ¥å¤–ç•Œ</li><li>å¯ä»¥æ”¹å˜ISPï¼ˆåœ°å€å˜åŒ–ï¼‰è€Œä¸éœ€è¦æ”¹å˜å†…éƒ¨çš„è®¾å¤‡åœ°å€</li><li>å±€åŸŸç½‘å†…éƒ¨çš„è®¾å¤‡æ²¡æœ‰æ˜ç¡®çš„åœ°å€ï¼Œå¯¹å¤–æ˜¯ä¸å¯è§çš„â€“å®‰å…¨</li></ul></li><li><p>å®ç°: NAT è·¯ç”±å™¨å¿…é¡»:</p><ul><li><p>å¤–å‡ºæ•°æ®åŒ…ï¼šæ›¿æ¢æºåœ°å€å’Œç«¯å£å·ä¸ºNAT IPåœ°å€å’Œæ–°çš„ç«¯å£å·ï¼Œç›®æ ‡IPå’Œç«¯å£ä¸å˜<br>â€¦è¿œç«¯çš„C/Så°†ä¼šç”¨NAP IPåœ°å€ï¼Œæ–°ç«¯å£å·ä½œä¸ºç›®æ ‡åœ°å€</p></li><li><p>è®°ä½æ¯ä¸ªè½¬æ¢æ›¿æ¢å¯¹ï¼ˆåœ¨NATè½¬æ¢è¡¨ä¸­ï¼‰<br>.. æºIPï¼Œç«¯å£ vs NAP IP ï¼Œæ–°ç«¯å£</p></li><li><p>è¿›å…¥æ•°æ®åŒ…ï¼šæ›¿æ¢ç›®æ ‡IPåœ°å€å’Œç«¯å£å·ï¼Œé‡‡ç”¨å­˜å‚¨åœ¨NATè¡¨ä¸­çš„mappingè¡¨é¡¹ï¼Œç”¨ï¼ˆæºIPï¼Œç«¯å£ï¼‰</p><p><img src="/2021/04/23/jsjwl04/image-20210426162545982.png" alt="NATçš„å®ç°"></p></li></ul></li><li><p>16-bitç«¯å£å­—æ®µï¼šæ‰€ä»¥NATè·¯ç”±å™¨å¯ä»¥å®ç°6ä¸‡å¤šä¸ªåŒæ—¶è¿æ¥ï¼Œè¶³ä»¥æ”¯æ’‘ä¸€ä¸ªå±€åŸŸç½‘!</p></li><li><p>ä½†æ˜¯å¯¹NATæ˜¯æœ‰äº‰è®®çš„:</p><ul><li>è·¯ç”±å™¨åªåº”è¯¥å¯¹ç¬¬3å±‚åšä¿¡æ¯å¤„ç†ï¼Œè€Œè¿™é‡Œå¯¹ç«¯å£å·ï¼ˆ4å±‚ï¼‰ä½œäº†å¤„ç†</li><li>è¿åäº†end-to-end åŸåˆ™<ul><li>ç«¯åˆ°ç«¯åŸåˆ™ï¼šå¤æ‚æ€§æ”¾åˆ°ç½‘ç»œè¾¹ç¼˜<ul><li>æ— éœ€å€ŸåŠ©ä¸­è½¬å’Œå˜æ¢ï¼Œå°±å¯ä»¥ç›´æ¥ä¼ é€åˆ°ç›®æ ‡ä¸»æœº</li></ul></li><li>NATå¯èƒ½è¦è¢«ä¸€äº›åº”ç”¨è®¾è®¡è€…è€ƒè™‘, eg, P2P applications</li><li>å¤–ç½‘çš„æœºå™¨æ— æ³•ä¸»åŠ¨è¿æ¥åˆ°å†…ç½‘çš„æœºå™¨ä¸Š</li></ul></li><li>åœ°å€çŸ­ç¼ºé—®é¢˜å¯ä»¥è¢«IPv6 è§£å†³</li><li>NATç©¿è¶Šé—®é¢˜ï¼š å¦‚æœå®¢æˆ·ç«¯éœ€è¦è¿æ¥åœ¨NATåé¢çš„æœåŠ¡å™¨ï¼Œå¦‚ä½•æ“ä½œ</li></ul></li><li><p>NATç©¿è¶Šé—®é¢˜ï¼š</p><ul><li><p>ä¾‹å¦‚ï¼Œå®¢æˆ·ç«¯éœ€è¦è¿æ¥åœ°å€ä¸º10.0.0.1çš„æœåŠ¡å™¨</p><ul><li>æœåŠ¡å™¨åœ°å€10.0.0.1 LANæœ¬åœ°åœ°å€(å®¢æˆ·ç«¯ä¸èƒ½å¤Ÿä½¿ç”¨å…¶ä½œä¸ºç›®æ ‡åœ°å€)</li><li>æ•´ç½‘åªæœ‰ä¸€ä¸ªå¤–éƒ¨å¯è§åœ°å€ï¼š138.76.29.7</li></ul></li><li><p>è§£å†³æ–¹æ¡ˆ1ï¼šé™æ€é…ç½®NATï¼šè½¬å‘è¿›æ¥çš„å¯¹æœåŠ¡å™¨ç‰¹å®šç«¯å£è¿æ¥è¯·æ±‚</p><ul><li>e.g.,ï¼ˆ138.76.29.7, port 2500ï¼‰æ€»æ˜¯è½¬å‘åˆ°10.0.0.1 port 25000ï¼Œå³å°†è¿™ä¸ªè½¬æ¢æ›¿æ¢å¯¹å›ºå®šå†™æ­»åˆ°NAT routerä¸­ã€‚</li></ul></li><li><p>è§£å†³æ–¹æ¡ˆ2ï¼šUniversal Plug and Play(UPnP) Internet Gateway Device (IGD) åè®®   </p><p>å…è®¸NATtedä¸»æœºå¯ä»¥:</p><ul><li>è·çŸ¥ç½‘ç»œçš„å…¬å…±IPåœ°å€å³NAT routerçš„IPåœ°å€(138.76.29.7)</li><li>ä¸»æœºå¯ä»¥è·å–NAT routeræ‰€å­˜åœ¨çš„ç«¯å£æ˜ å°„</li><li>ç„¶åä¸»æœº(åœ¨ç§Ÿç”¨æ—¶é—´å†…)å¯ä»¥æ§åˆ¶å¢/åˆ ç«¯å£æ˜ å°„ï¼Œå®ç°æå‰å‘NATè¡¨å†™å…¥è½¬æ¢æ›¿æ¢å¯¹<br>i.e.ï¼Œè‡ªåŠ¨åŒ–é™æ€NATç«¯å£æ˜ å°„é…ç½®</li></ul></li><li><p>è§£å†³æ–¹æ¡ˆ3ï¼šä¸­ç»§(used in Skype)</p><ul><li><p>NATåé¢çš„æœåŠ¡å™¨é¦–å…ˆå»ºç«‹å’Œä¸­ç»§çš„è¿æ¥</p></li><li><p>ä¹‹åå¤–éƒ¨çš„å®¢æˆ·ç«¯é“¾æ¥åˆ°ä¸­ç»§</p></li><li><p>ä¸­ç»§åœ¨2ä¸ªè¿æ¥ä¹‹é—´æ¡¥æ¥ï¼Œå®ç°Clientä¸»åŠ¨ä¼ ç»™NATåé¢çš„æœåŠ¡å™¨</p><p><img src="/2021/04/23/jsjwl04/image-20210426164349249.png" alt="ä¸­ç»§æ–¹æ³•"></p></li></ul></li></ul></li></ul></li></ul><h4 id="3-4-IPv6"><a href="#3-4-IPv6" class="headerlink" title="3.4 IPv6"></a>3.4 IPv6</h4><ul><li>åˆå§‹åŠ¨æœºï¼š32-bitåœ°å€ç©ºé—´å°†ä¼šè¢«å¾ˆå¿«ç”¨å®Œ</li><li>å¦å¤–çš„åŠ¨æœºï¼š<ul><li>å¤´éƒ¨æ ¼å¼æ”¹å˜å¸®åŠ©åŠ é€Ÿå¤„ç†å’Œè½¬å‘<ul><li>TTLæ¯æ¬¡ç»è¿‡è·¯ç”±å™¨å‡ä¸€</li><li>å¤´éƒ¨checksuméœ€è¦åœ¨è·¯ç”±å™¨è¿›è¡Œæ£€éªŒ</li><li>åˆ†ç‰‡éœ€è¦åœ¨è·¯ç”±å™¨å®Œæˆ</li><li>è¿™äº›éƒ½ç»™è·¯ç”±å™¨å¢åŠ äº†è´Ÿæ‹…ï¼Œä»è€Œå¯¼è‡´ä¼ è¾“é€Ÿåº¦çš„å‡æ…¢</li></ul></li><li>å¤´éƒ¨æ ¼å¼æ”¹å˜å¸®åŠ©QoS<ul><li>IPv4çš„å¤´éƒ¨æ²¡æœ‰ä¸€äº›æœºåˆ¶è®©ç½‘ç»œå¯¹å…¶æ”¯æŒQoSï¼ˆQuality of Serviceï¼ŒæœåŠ¡è´¨é‡ï¼‰</li></ul></li></ul></li><li>IPv6 æ•°æ®æŠ¥æ ¼å¼:<ul><li>å›ºå®šçš„40å­—èŠ‚å¤´éƒ¨</li><li>IPåœ°å€128ä½</li><li>æ•°æ®æŠ¥ä¼ è¾“è¿‡ç¨‹ä¸­ä¸å…è®¸åˆ†ç‰‡ï¼Œå³è·¯ç”±å™¨ä¸è¿›è¡Œåˆ†ç‰‡<ul><li>å°†ä¼šå¯¹æºä¸»æœºå‘é€ä¿¡æ¯ï¼Œé€šçŸ¥å…¶è¿›è¡Œåˆ†ç‰‡ä¼ è¾“</li></ul></li></ul></li></ul><blockquote><p>IPv5 æ˜¯ä¸€ä¸ªå®éªŒç‰ˆæœ¬ï¼Œç»è¿‡å®éªŒå’Œç ”ç©¶åè¢«åºŸå¼ƒæ‰äº†ã€‚</p></blockquote><ul><li><p>IPv6 å¤´éƒ¨ï¼ˆContï¼‰</p><p>Priorityï¼šæ ‡ç¤ºæµä¸­æ•°æ®æŠ¥çš„ä¼˜å…ˆçº§<br>Flow Labelï¼šæ ‡ç¤ºæ•°æ®æŠ¥åœ¨ä¸€ä¸ªâ€œflow.â€( â€œflowâ€çš„æ¦‚å¿µæ²¡æœ‰è¢«ä¸¥æ ¼çš„å®šä¹‰)<br>Next headerï¼šæ ‡ç¤ºä¸Šå±‚åè®®<br>hop limitï¼šç±»ä¼¼äºIPv 4çš„time to liveçš„ä½œç”¨</p><p><img src="/2021/04/23/jsjwl04/image-20210426165640088.png" alt="IPv6"></p></li><li><p>å’ŒIPv4ç›¸æ¯”çš„å…¶å®ƒå˜åŒ–</p><ul><li>Checksum: è¢«ç§»é™¤æ‰ï¼Œé™ä½åœ¨æ¯ä¸€æ®µä¸­çš„å¤„ç†é€Ÿåº¦</li><li>Options: å…è®¸ï¼Œä½†æ˜¯åœ¨å¤´éƒ¨ä¹‹å¤–, è¢«â€œNext Headerâ€ å­—æ®µæ ‡ç¤º</li><li>ICMPv6: ICMPçš„æ–°ç‰ˆæœ¬<ul><li>é™„åŠ äº†æŠ¥æ–‡ç±»å‹, e.g. â€œPacket Too Bigâ€å°†ä¼šå¯¹æºä¸»æœºå‘é€æ•°æ®åŒ…å¤ªå¤§çš„ä¿¡æ¯ï¼Œé€šçŸ¥å…¶è¿›è¡Œåˆ†ç‰‡ä¼ è¾“</li><li>å¤šæ’­ç»„ç®¡ç†åŠŸèƒ½ï¼ˆå³å°†IPv4ä¸­çš„ç»„ç®¡ç†IGMPçš„åŠŸèƒ½åˆå¹¶åˆ°äº†ICMPä¸­ï¼‰</li></ul></li></ul></li><li><p>ä»IPv4åˆ°IPv6çš„å¹³ç§»è¿‡æ¸¡</p><ul><li><p>ä¸æ˜¯æ‰€æœ‰çš„è·¯ç”±å™¨éƒ½èƒ½å¤ŸåŒæ—¶å‡çº§çš„</p><ul><li>æ²¡æœ‰ä¸€ä¸ªæ ‡è®°æ—¥â€œflag daysâ€</li><li>åœ¨IPv4å’ŒIPv6è·¯ç”±å™¨æ··åˆæ—¶ï¼Œç½‘ç»œå¦‚ä½•è¿è½¬?</li></ul></li><li><p>éš§é“ï¼šåœ¨IPv4è·¯ç”±å™¨ä¹‹é—´ä¼ è¾“çš„IPv4æ•°æ®æŠ¥ä¸­æºå¸¦IPv6æ•°æ®æŠ¥ä»è€Œå®ç°IPv6çš„ä¼ è¾“</p><p><img src="/2021/04/23/jsjwl04/image-20210426171014498.png" alt="éš§é“1"></p><p><img src="/2021/04/23/jsjwl04/image-20210426171517680.png" alt="éš§é“2"></p></li></ul></li></ul><h3 id="4-é€šç”¨è½¬å‘å’ŒSDN"><a href="#4-é€šç”¨è½¬å‘å’ŒSDN" class="headerlink" title="4 é€šç”¨è½¬å‘å’ŒSDN"></a>4 é€šç”¨è½¬å‘å’ŒSDN</h3><p><img src="/2021/04/23/jsjwl04/image-20210426180452266.png" alt="ç½‘ç»œå±‚åŠŸèƒ½"></p><p><img src="/2021/04/23/jsjwl04/image-20210426180705788.png" alt="è·¯ç”±å™¨çš„æ§åˆ¶å¹³é¢"></p><ul><li><p>ä¼ ç»Ÿç½‘ç»œå±‚ç¼ºé™·ï¼šæ•°é‡ä¼—å¤šã€åŠŸèƒ½å„å¼‚çš„ä¸­é—´ç›’</p><ul><li><p>è·¯ç”±å™¨çš„ç½‘ç»œå±‚åŠŸèƒ½ï¼š</p><ul><li>IPè½¬å‘ï¼šå¯¹äºåˆ°æ¥çš„åˆ†ç»„æŒ‰ç…§è·¯ç”±è¡¨å†³å®šå¦‚ä½•è½¬å‘ï¼Œæ•°<br>æ®å¹³é¢</li><li>è·¯ç”±ï¼šå†³å®šè·¯å¾„ï¼Œè®¡ç®—è·¯ç”±è¡¨ï¼›å¤„åœ¨æ§åˆ¶å¹³é¢</li></ul></li><li><p>è¿˜æœ‰å…¶ä»–ç§ç±»ç¹å¤šç½‘ç»œè®¾å¤‡ï¼ˆä¸­é—´ç›’ï¼‰ï¼š</p><ul><li><p>äº¤æ¢æœºï¼›é˜²ç«å¢™ï¼›NATï¼›IDSï¼›è´Ÿè½½å‡è¡¡è®¾å¤‡</p></li><li><p>æœªæ¥ï¼šä¸æ–­å¢åŠ çš„éœ€æ±‚å’Œç›¸åº”çš„ç½‘ç»œè®¾å¤‡</p></li><li><p>éœ€è¦ä¸åŒçš„è®¾å¤‡å»å®ç°ä¸åŒçš„ç½‘ç»œåŠŸèƒ½</p><p>æ¯å°è®¾å¤‡é›†æˆäº†æ§åˆ¶å¹³é¢å’Œæ•°æ®å¹³é¢çš„åŠŸèƒ½ï¼Œæ§åˆ¶å¹³é¢åˆ†å¸ƒå¼åœ°å®ç°äº†å„ç§æ§åˆ¶å¹³é¢åŠŸèƒ½ï¼Œå¯¼è‡´å‡çº§å’Œéƒ¨ç½²ç½‘ç»œè®¾å¤‡éå¸¸å›°éš¾ã€æ”¹å˜å·¥ä½œæ–¹å¼éå¸¸å›°éš¾</p></li></ul></li></ul></li><li><p>ç½‘ç»œè®¾å¤‡æ§åˆ¶å¹³é¢çš„å®ç°æ–¹å¼ç‰¹ç‚¹</p><ul><li>äº’è”ç½‘ç½‘ç»œè®¾å¤‡ï¼šä¼ ç»Ÿæ–¹å¼éƒ½æ˜¯é€šè¿‡åˆ†å¸ƒå¼ï¼ŒåŠŸèƒ½ç”±æ¯å°è®¾å¤‡å•ç‹¬å®ç°çš„æ–¹æ³•æ¥å®ç°æ•°æ®å¹³é¢å’Œæ§åˆ¶å¹³é¢åŠŸèƒ½<ul><li>å‚ç›´é›†æˆï¼šæ¯å°è·¯ç”±å™¨æˆ–å…¶ä»–ç½‘ç»œè®¾å¤‡ï¼ŒåŒ…æ‹¬ï¼š<ul><li>1ï¼‰ç¡¬ä»¶ã€åœ¨ç§æœ‰çš„æ“ä½œç³»ç»Ÿï¼›</li><li>2ï¼‰äº’è”ç½‘æ ‡å‡†åè®®(IP, RIP, IS-IS, OSPF, BGP)çš„ç§æœ‰å®ç°</li><li>ä»ä¸Šåˆ°ä¸‹éƒ½ç”±ä¸€ä¸ªå‚å•†æä¾›ï¼ˆä»£ä»·å¤§ã€è¢«è®¾å¤‡ä¸Šâ€œç»‘æ¶â€â€œï¼‰</li></ul></li><li>æ¯ä¸ªè®¾å¤‡éƒ½å®ç°äº†æ•°æ®å¹³é¢å’Œæ§åˆ¶å¹³é¢çš„äº‹æƒ…<ul><li>æ§åˆ¶å¹³é¢çš„åŠŸèƒ½æ˜¯åˆ†å¸ƒå¼å®ç°çš„</li></ul></li><li>è®¾å¤‡åŸºæœ¬ä¸Šåªèƒ½ï¼ˆåˆ†å¸ƒå¼å‡çº§å›°éš¾ï¼‰æŒ‰ç…§å›ºå®šæ–¹å¼å·¥ä½œï¼Œæ§åˆ¶é€»è¾‘å›ºåŒ–ã€‚ä¸åŒçš„ç½‘ç»œåŠŸèƒ½éœ€è¦ä¸åŒçš„â€œmiddleboxesâ€ï¼šé˜²ç«å¢™ã€è´Ÿè½½å‡è¡¡è®¾å¤‡ã€NAT boxes, ..</li></ul></li><li>ï¼ˆæ•°æ®+æ§åˆ¶å¹³é¢ï¼‰é›†æˆ&gt;ï¼ˆæ§åˆ¶é€»è¾‘ï¼‰åˆ†å¸ƒ-&gt;å›ºåŒ–<ul><li>ä»£ä»·å¤§ï¼›å‡çº§å›°éš¾ï¼›ç®¡ç†å›°éš¾ç­‰</li></ul></li></ul></li><li><p>ä¼ ç»Ÿæ–¹å¼å®ç°ç½‘ç»œåŠŸèƒ½çš„é—®é¢˜ï¼š</p><ul><li>å‚ç›´é›†æˆå¯¼è‡´è®¾å¤‡æ˜‚è´µã€ä¸ä¾¿äºåˆ›æ–°çš„ç”Ÿæ€</li><li>åˆ†å¸ƒå¼ã€å›ºåŒ–è®¾å¤‡åŠŸèƒ½å¯¼è‡´ç½‘ç»œè®¾å¤‡ç§ç±»ç¹å¤š<ul><li>æ— æ³•æ”¹å˜è·¯ç”±ç­‰å·¥ä½œé€»è¾‘ï¼Œæ— æ³•å®ç°æµé‡å·¥ç¨‹ç­‰é«˜çº§ç‰¹æ€§</li><li>é…ç½®é”™è¯¯å½±å“å…¨ç½‘è¿è¡Œï¼›å‡çº§å’Œç»´æŠ¤ä¼šæ¶‰åŠåˆ°å…¨ç½‘è®¾å¤‡ï¼šç®¡ç†å›°éš¾</li><li>è¦å¢åŠ æ–°çš„ç½‘ç»œåŠŸèƒ½ï¼Œéœ€è¦è®¾è®¡ã€å®ç°ä»¥åŠéƒ¨ç½²æ–°çš„ç‰¹å®šè®¾å¤‡ï¼Œè®¾å¤‡ç§ç±»ç¹å¤š</li></ul></li><li>~2005ï¼šå¼€å§‹é‡æ–°æ€è€ƒç½‘ç»œæ§åˆ¶å¹³é¢çš„å¤„ç†æ–¹å¼<ul><li>é›†ä¸­ï¼šè¿œç¨‹çš„æ§åˆ¶å™¨é›†ä¸­å®ç°æ§åˆ¶é€»è¾‘</li><li>è¿œç¨‹ï¼šæ•°æ®å¹³é¢å’Œæ§åˆ¶å¹³é¢çš„åˆ†ç¦»</li></ul></li></ul></li><li><p>SDNï¼šåœ¨é€»è¾‘ä¸Šé›†ä¸­çš„æ§åˆ¶å¹³é¢</p><p>ä¸€ä¸ªä¸åŒçš„ï¼ˆé€šå¸¸æ˜¯è¿œç¨‹ï¼‰æ§åˆ¶å™¨å’ŒCAäº¤äº’ï¼Œæ§åˆ¶å™¨å†³å®šåˆ†ç»„<br>è½¬å‘çš„é€»è¾‘ï¼ˆå¯ç¼–ç¨‹ï¼‰ï¼ŒCAæ‰€åœ¨è®¾å¤‡æ‰§è¡Œé€»è¾‘ã€‚</p><p><img src="/2021/04/23/jsjwl04/image-20210426201409779.png" alt="SDN"></p><ul><li><p>SDNçš„ä¸»è¦æ€è·¯</p><ul><li><p>ç½‘ç»œè®¾å¤‡æ•°æ®å¹³é¢å’Œæ§åˆ¶å¹³é¢åˆ†ç¦»</p></li><li><p>æ•°æ®å¹³é¢-åˆ†ç»„äº¤æ¢æœº</p><ul><li><p>å°†è·¯ç”±å™¨ã€äº¤æ¢æœºå’Œç›®å‰å¤§å¤šæ•°ç½‘ç»œè®¾å¤‡çš„åŠŸèƒ½è¿›ä¸€æ­¥æŠ½è±¡æˆï¼šæŒ‰ç…§æµè¡¨ï¼ˆç”±æ§åˆ¶å¹³é¢è®¾ç½®çš„æ§åˆ¶é€»è¾‘ï¼‰è¿›è¡ŒPDUï¼ˆå¸§ã€åˆ†ç»„ï¼‰çš„åŠ¨ä½œï¼ˆåŒ…æ‹¬è½¬å‘ã€ä¸¢å¼ƒã€æ‹·è´ã€æ³›æ´ªã€é˜»å¡ï¼‰</p><blockquote><p>å°†åŠŸèƒ½çš„å®ç°ä»è·¯ç”±å™¨ä¸­æŠ½ç¦»å‡ºæ¥æ”¾åœ¨è¿œç¨‹æ§åˆ¶å™¨ä¸­ï¼Œä»è€Œç®€åŒ–è·¯ç”±å™¨ï¼Œé™ä½è·¯ç”±å™¨çš„æˆæœ¬ï¼ŒåŒæ—¶ï¼ˆå°†é˜²ç«å¢™ã€è·¯ç”±ç­‰åŠŸèƒ½è½¬æ¢ä¸ºè½¯ä»¶æ§åˆ¶å®ç°ï¼‰å‡å°‘äº†ç½‘ç»œè®¾å¤‡çš„ç§ç±»ï¼Œä¾¿äºç®¡ç†ä»¥åŠåŠŸèƒ½çš„ç»´æŠ¤å’Œå‡çº§</p></blockquote><blockquote><p>æ­¤å¤–ï¼Œè¿œç¨‹æ§åˆ¶å™¨ä¸CAä¹‹é—´éƒ½éµå¾ªå—å‘æ¥å£ï¼Œä½¿å¾—ä¸åŒå‚å•†çš„è®¾å¤‡ä¹‹é—´å…¼å®¹æ€§æ›´å¥½ï¼Œè¿œç¨‹æ§åˆ¶å™¨æ“ä½œç³»ç»Ÿå¯ä»¥ç”±ä¸åŒä¼ä¸šç«äº‰å¼€å‘ï¼Œè€Œä¸ä¼šå—åˆ°è·¯ç”±å™¨å“ç‰Œçš„é™åˆ¶</p></blockquote></li><li><p>ç»Ÿä¸€åŒ–è®¾å¤‡åŠŸèƒ½ï¼šSDNäº¤æ¢æœºï¼ˆåˆ†ç»„äº¤æ¢æœºï¼‰ï¼Œæ‰§è¡Œæ§åˆ¶é€»è¾‘</p></li></ul></li><li><p>æ§åˆ¶å¹³é¢ï¼šæ§åˆ¶å™¨+ç½‘ç»œåº”ç”¨</p><ul><li><p>åˆ†ç¦»ã€é›†ä¸­</p></li><li><p>è®¡ç®—å’Œä¸‹å‘æ§åˆ¶é€»è¾‘ï¼šæµè¡¨</p><blockquote><p>é€šè¿‡ç½‘ç»œåº”ç”¨äº§ç”Ÿæ§åˆ¶é€»è¾‘å¹¶ä»¥æµè¡¨å½¢å¼ä¸‹å‘ç»™åˆ†ç»„äº¤æ¢æœºï¼Œåˆ†ç»„äº¤æ¢æœºå°±èƒ½æŒ‰ç…§æ­¤å®ç°ç›¸åº”çš„åŠŸèƒ½ï¼Œä¾‹å¦‚é˜²ç«å¢™ã€è·¯ç”±ç­‰ï¼Œä»è€Œå‡å°‘äº†ç½‘ç»œè®¾å¤‡çš„ç§ç±»ï¼Œä¾¿äºç®¡ç†ï¼Œä¹Ÿæ›´åŠ æœ‰åˆ©äºåŠŸèƒ½çš„ç»´æŠ¤å’Œå‡çº§</p></blockquote></li></ul></li></ul></li><li><p>SDNæ§åˆ¶å¹³é¢å’Œæ•°æ®å¹³é¢åˆ†ç¦»çš„ä¼˜åŠ¿</p><ul><li>æ°´å¹³é›†æˆæ§åˆ¶å¹³é¢çš„å¼€æ”¾å®ç°ï¼ˆè€Œéç§æœ‰å®ç°ï¼‰ï¼Œåˆ›é€ å‡ºå¥½çš„äº§ä¸šç”Ÿæ€ï¼Œä¿ƒè¿›å‘å±•<ul><li>åˆ†ç»„äº¤æ¢æœºã€æ§åˆ¶å™¨å’Œå„ç§æ§åˆ¶é€»è¾‘ç½‘ç»œåº”ç”¨appå¯ç”±ä¸åŒå‚å•†ç”Ÿäº§ï¼Œä¸“ä¸šåŒ–ï¼Œå¼•å…¥ç«äº‰å½¢æˆè‰¯å¥½ç”Ÿæ€</li></ul></li><li>é›†ä¸­å¼å®ç°æ§åˆ¶é€»è¾‘ï¼Œç½‘ç»œç®¡ç†å®¹æ˜“ï¼š<ul><li>é›†ä¸­å¼æ§åˆ¶å™¨äº†è§£ç½‘ç»œçŠ¶å†µï¼Œç¼–ç¨‹ç®€å•ï¼Œä¼ ç»Ÿæ–¹å¼å›°éš¾</li><li>é¿å…è·¯ç”±å™¨çš„è¯¯é…ç½®è€Œå¯¼è‡´çš„ç½‘ç»œé”™è¯¯</li></ul></li><li>åŸºäºæµè¡¨çš„åŒ¹é…+è¡ŒåŠ¨çš„å·¥ä½œæ–¹å¼å…è®¸â€œå¯ç¼–ç¨‹çš„â€åˆ†ç»„äº¤æ¢æœº<ul><li>å®ç°æµé‡å·¥ç¨‹ç­‰é«˜çº§ç‰¹æ€§</li><li>åœ¨æ­¤æ¡†æ¶ä¸‹å¯ä»¥é€šè¿‡ç¼–ç¨‹æ§åˆ¶å®ç°å„ç§æ–°å‹ï¼ˆæœªæ¥ï¼‰çš„ç½‘ç»œè®¾å¤‡</li></ul></li></ul></li><li><p><img src="/2021/04/23/jsjwl04/image-20210426203756534.png" alt="ç±»æ¯”"></p></li></ul></li><li><p>æµé‡æ§åˆ¶ï¼šä¼ ç»Ÿè·¯ç”±æ¯”è¾ƒå›°éš¾</p><p><img src="/2021/04/23/jsjwl04/image-20210426204214141.png" alt="ä¼ ç»Ÿè·¯ç”±1"></p><p><img src="/2021/04/23/jsjwl04/image-20210426204236934.png" alt="ä¼ ç»Ÿè·¯ç”±2"></p><p><img src="/2021/04/23/jsjwl04/image-20210426204300312.png" alt="ä¼ ç»Ÿè·¯ç”±3"></p><ul><li>è€Œåœ¨SDNä¸­ï¼Œä»¥ä¸ŠåŠŸèƒ½å¯ä»¥é€šè¿‡ä¸‹å‘æµè¡¨ï¼Œç„¶åæ ¹æ®æµè¡¨è¿›è¡Œå®ç°</li></ul></li><li><p>SDNç‰¹ç‚¹</p><p><img src="/2021/04/23/jsjwl04/image-20210426204643282.png" alt="SDNç‰¹ç‚¹"></p></li><li><p>SDNæ¶æ„ï¼š</p><ul><li><p>æ•°æ®å¹³é¢äº¤æ¢æœº</p><ul><li><p>å¿«é€Ÿï¼Œç®€å•ï¼Œå•†ä¸šåŒ–äº¤æ¢è®¾å¤‡é‡‡ç”¨ç¡¬ä»¶å®ç°é€šç”¨è½¬å‘åŠŸèƒ½</p></li><li><p>æµè¡¨è¢«æ§åˆ¶å™¨è®¡ç®—å’Œå®‰è£…</p></li><li><p>åŸºäºå—å‘APIï¼ˆä¾‹å¦‚OpenFlowï¼‰ï¼ŒSDNæ§åˆ¶å™¨è®¿é—®åŸºäºæµçš„<br>äº¤æ¢æœº</p><ul><li>å—å‘APIå®šä¹‰äº†å“ªäº›å¯ä»¥è¢«æ§åˆ¶å“ªäº›ä¸èƒ½</li><li>ä¹Ÿå®šä¹‰äº†å’Œæ§åˆ¶å™¨çš„åè®®(e.g., OpenFlow)</li></ul><p><img src="/2021/04/23/jsjwl04/image-20210426204955226.png" alt="SDNæ¶æ„"></p></li></ul></li><li><p>SDNæ§åˆ¶å™¨ï¼ˆç½‘ç»œæ“ä½œç³»ç»Ÿï¼‰</p><ul><li><p>ç»´æŠ¤ç½‘ç»œçŠ¶æ€ä¿¡æ¯</p></li><li><p>é€šè¿‡ä¸Šé¢çš„åŒ—å‘APIå’Œç½‘ç»œæ§åˆ¶åº”ç”¨äº¤äº’</p></li><li><p>é€šè¿‡ä¸‹é¢çš„å—å‘APIå’Œç½‘ç»œäº¤æ¢æœºäº¤äº’</p></li><li><p>é€»è¾‘ä¸Šé›†ä¸­ï¼Œä½†æ˜¯åœ¨å®ç°ä¸Šé€šå¸¸ç”±äºæ€§èƒ½ã€å¯æ‰©å±•æ€§ã€å®¹é”™æ€§ä»¥åŠé²æ£’æ€§ç‰©ç†ä¸Šé‡‡ç”¨åˆ†å¸ƒå¼æ–¹æ³•</p><p><img src="/2021/04/23/jsjwl04/image-20210426205231080.png" alt="SDNæ§åˆ¶å™¨"></p></li></ul></li><li><p>ç½‘ç»œæ§åˆ¶åº”ç”¨</p><ul><li><p>æ§åˆ¶çš„å¤§è„‘ï¼š é‡‡ç”¨ä¸‹å±‚æä¾›çš„æœåŠ¡ï¼ˆSDNæ§åˆ¶å™¨æä¾›çš„<br>API)ï¼Œå®ç°ç½‘ç»œåŠŸèƒ½</p><ul><li>è·¯ç”±å™¨äº¤æ¢æœº</li><li>æ¥å…¥æ§åˆ¶é˜²ç«å¢™</li><li>è´Ÿè½½å‡è¡¡</li><li>å…¶ä»–åŠŸèƒ½</li></ul></li><li><p>éç»‘å®šï¼šå¯ä»¥è¢«ç¬¬ä¸‰æ–¹æä¾›ï¼Œä¸æ§åˆ¶å™¨å‚å•†ä»¥é€šå¸¸ä¸Šä¸åŒï¼Œä¸åˆ†ç»„äº¤æ¢æœºå‚å•†ä¹Ÿå¯ä»¥ä¸åŒï¼Œä½¿å¾—å¸‚åœºç«äº‰æ›´åŠ å¥åº·ï¼Œå°ä¼ä¸šä¹Ÿæœ‰æœºä¼šå‚ä¸ç«äº‰</p><p><img src="/2021/04/23/jsjwl04/image-20210426205710657.png" alt="ç½‘ç»œæ§åˆ¶åº”ç”¨"></p></li></ul></li><li><p>é€šç”¨è½¬å‘å’ŒSDN</p><p><img src="/2021/04/23/jsjwl04/image-20210426205900819.png" alt="é€šç”¨è½¬å‘å’ŒSDN"></p></li><li><p>OpenFlow æ•°æ®å¹³é¢æŠ½è±¡</p><ul><li><p>æµ: ç”±åˆ†ç»„ï¼ˆå¸§ï¼‰å¤´éƒ¨å­—æ®µæ‰€å®šä¹‰</p></li><li><p>é€šç”¨è½¬å‘: ç®€å•çš„åˆ†ç»„å¤„ç†è§„åˆ™</p><ul><li>æ¨¡å¼: å°†åˆ†ç»„å¤´éƒ¨å­—æ®µå’Œæµè¡¨è¿›è¡ŒåŒ¹é…</li><li>è¡ŒåŠ¨ï¼šå¯¹äºåŒ¹é…ä¸Šçš„åˆ†ç»„ï¼Œå¯ä»¥æ˜¯ä¸¢å¼ƒã€è½¬å‘ã€ä¿®æ”¹ã€å°†åŒ¹é…çš„åˆ†ç»„å‘é€ç»™æ§åˆ¶å™¨</li><li>ä¼˜å…ˆæƒPriority : å‡ ä¸ªæ¨¡å¼åŒ¹é…äº†ï¼Œä¼˜å…ˆé‡‡ç”¨å“ªä¸ªï¼Œæ¶ˆé™¤æ­§ä¹‰</li><li>è®¡æ•°å™¨Counters: #bytes ä»¥åŠ#packets</li></ul></li><li><p>è·¯ç”±å™¨ä¸­çš„æµè¡¨å®šä¹‰äº†è·¯ç”±å™¨çš„åŒ¹é…+è¡ŒåŠ¨è§„åˆ™ï¼ˆæµè¡¨ç”±æ§åˆ¶å™¨è®¡ç®—å¹¶ä¸‹å‘ï¼‰</p></li><li><p>OpenFlow: æµè¡¨çš„è¡¨é¡¹ç»“æ„</p><p><img src="/2021/04/23/jsjwl04/image-20210426223117141.png" alt="OpenFlow: æµè¡¨çš„è¡¨é¡¹ç»“æ„"></p><p>ä¾‹å­ï¼šï¼ˆ*è¡¨ç¤ºä¸ç”¨ï¼‰</p><p><img src="/2021/04/23/jsjwl04/image-20210426223441314.png" alt="SDNç¤ºä¾‹1"></p><p><img src="/2021/04/23/jsjwl04/image-20210426223508526.png" alt="SDNç¤ºä¾‹2"></p><p><img src="/2021/04/23/jsjwl04/image-20210426223614793.png" alt="OpenFlowæŠ½è±¡"></p><blockquote><p>OpenFlowå¯ä»¥å®ç°å¯¹æ•°æ®æŠ¥ä¼ è¾“è·¯å¾„çš„ç²¾ç¡®æ§åˆ¶</p></blockquote><p><img src="/2021/04/23/jsjwl04/image-20210426223818684.png" alt="OpenFlowç¤ºä¾‹"></p></li></ul></li></ul></li><li><p>é—®é¢˜ï¼šè½¬å‘è¡¨ï¼ˆåŸºäºç›®æ ‡çš„è½¬å‘ï¼‰å’Œæµè¡¨ï¼ˆé€šç”¨è½¬å‘ï¼‰æ˜¯å¦‚ä½•è®¡ç®—å‡ºæ¥çš„ï¼Ÿ<br>ç­”æ¡ˆï¼šé€šè¿‡æ§åˆ¶å¹³é¢</p></li></ul><h3 id="æ‹“å±•-è™šç”µè·¯"><a href="#æ‹“å±•-è™šç”µè·¯" class="headerlink" title="æ‹“å±•  è™šç”µè·¯"></a>æ‹“å±•  è™šç”µè·¯</h3><p><img src="/2021/04/23/jsjwl04/image-20210428213156089.png" alt="è¿æ¥æœåŠ¡å’Œæ— è¿æ¥æœåŠ¡"></p><p><img src="/2021/04/23/jsjwl04/image-20210428213747873.png" alt="è™šç”µè·¯"></p><p><img src="/2021/04/23/jsjwl04/image-20210428220815009.png" alt="è™šç”µè·¯1"></p><p><img src="/2021/04/23/jsjwl04/image-20210428221404114.png" alt="VCçš„å…·ä½“è¡¨ç°"></p><p><img src="/2021/04/23/jsjwl04/image-20210428221545179.png" alt="VCè½¬å‘è¡¨"></p><p><img src="/2021/04/23/jsjwl04/image-20210428222631834.png" alt="è™šç”µè·¯ä¿¡ä»¤åè®®"></p><h3 id="æ‹“å±•-ICMPåè®®-ç½‘ç»œå±‚åè®®"><a href="#æ‹“å±•-ICMPåè®®-ç½‘ç»œå±‚åè®®" class="headerlink" title="æ‹“å±• ICMPåè®®(ç½‘ç»œå±‚åè®®)"></a>æ‹“å±• ICMPåè®®(ç½‘ç»œå±‚åè®®)</h3><ul><li><p>å½“æŠ¥æ–‡å‡ºç°é”™è¯¯ç­‰æƒ…å†µçš„æ—¶å€™ï¼Œè·¯ç”±å™¨æˆ–ä¸»æœºä¼šå°†æŠ¥æ–‡ä¸¢å¼ƒç„¶åå‘æºä¸»æœºå‘é€é”™è¯¯æŠ¥å‘Šä¿¡æ¯å³ICMPæŠ¥æ–‡ã€‚</p></li><li><p><img src="/2021/04/23/jsjwl04/image-20210429094851886.png" alt="ICMPåè®®æŠ¥æ–‡"></p><ul><li><p>å·®é”™æŠ¥å‘ŠæŠ¥æ–‡</p><ul><li><p>ç›®çš„ä¸å¯è¾¾</p><blockquote><p>æŠ¥æ–‡åˆ°è¾¾ç›®çš„ä¸»æœºï¼Œä½†æ˜¯æ— æ³•äº¤é€’ç»™ç›®çš„ä¸»æœºã€ç›®çš„ç½‘ç»œæˆ–ç›®çš„ç«¯å£æ—¶ï¼ŒæŠ¥æ–‡ä¼šè¢«ä¸¢å¼ƒï¼ŒåŒæ—¶å‘é€ä¸€ä¸ªç›®çš„ä¸å¯è¾¾çš„ICMPæŠ¥æ–‡ç»™æºä¸»æœº</p></blockquote></li><li><p>æºæŠ‘åˆ¶</p><blockquote><p>è®¾è®¡ç›®çš„æ˜¯ä¸ºäº†å®ç°æ‹¥å¡æ§åˆ¶ï¼Œä½†æ˜¯ç°å®ä¸­æœªä½¿ç”¨ã€‚å½“è·¯ç”±å™¨å‘ç°è‡ªèº«ç¼“å†²é˜Ÿåˆ—å·²æ»¡çš„æ—¶å€™ä¼šä¸¢å¼ƒæ¥å—çš„æŠ¥æ–‡ï¼ŒåŒæ—¶å‘æºä¸»æœºå‘é€ICMPæŠ¥æ–‡</p></blockquote></li><li><p>è¶…æ—¶/è¶…æœŸ</p><blockquote><p>TTLè¶…æ—¶ï¼Œå½“æŠ¥æ–‡TTLå‡ä¸º0æ—¶ï¼Œè·¯ç”±å™¨ä¼šå°†æŠ¥æ–‡ä¸¢å¼ƒï¼Œå¹¶å‘æºä¸»æœºå‘é€ICMPæŠ¥æ–‡</p></blockquote></li><li><p>å‚æ•°é—®é¢˜</p><blockquote><p>å½“ä¸€ä¸ªè·¯ç”±å™¨å‘ç°æŠ¥æ–‡å¤´éƒ¨æŸäº›å‚æ•°æœ‰é—®é¢˜æ—¶ï¼Œä¼šå°†æŠ¥æ–‡ä¸¢å¼ƒï¼Œå¹¶å‘é€ICMPæŠ¥æ–‡ç»™ä¸»æœºã€‚</p></blockquote></li><li><p>é‡å®šå‘</p><blockquote><p>å½“è·¯ç”±å™¨å‘ç°æŠ¥æ–‡ä¸åº”è¯¥ç»è¿‡è‡ªå·±è½¬å‘æ—¶ï¼Œä¼šå‘ä¸»æœºå‘é€ICMPæŠ¥æ–‡ç»™ä¸»æœºï¼Œè®©ä¸»æœºé‡æ–°é€‰æ‹©è·¯ç”±æ–¹å‘</p></blockquote></li></ul></li><li><p>ç½‘ç»œæ¢è¯¢æŠ¥æ–‡</p><ul><li><p>å›å£°è¯·æ±‚ä¸åº”ç­”æŠ¥æ–‡</p><blockquote><p>ä¸»æœºæˆ–è·¯ç”±å™¨ä¸»åŠ¨å‘é€ICMPæŠ¥æ–‡ï¼Œç”¨äºæ£€æµ‹ç›®çš„ä¸»æœºæ˜¯å¦å¯è¾¾æˆ–è€…ç½‘ç»œæƒ…å†µï¼Œç›®çš„ä¸»æœºæ”¶åˆ°æŠ¥æ–‡åä¼šè¿”å›åº”ç­”æŠ¥æ–‡ã€‚ä¾‹å¦‚pingå‘½ä»¤ã€‚</p></blockquote></li><li><p>æ—¶é—´æˆ³è¯·æ±‚ä¸åº”ç­”æŠ¥æ–‡</p><blockquote><p>è·å–æ—¶é—´æˆ³</p></blockquote></li></ul></li></ul></li><li><p><img src="/2021/04/23/jsjwl04/image-20210429100532170.png" alt="ICMPæŠ¥æ–‡"></p><p>ç±»å‹å€¼å’Œç¼–ç å€¼ç»„åˆèµ·æ¥å°±ä»£è¡¨äº†ç‰¹å®šçš„ICMPæŠ¥æ–‡ã€‚å¦‚80å°±ä»£è¡¨pingå‘½ä»¤ã€‚</p></li><li><p>ä¾‹å¤–æƒ…å†µï¼š</p><p><img src="/2021/04/23/jsjwl04/image-20210429100917693.png" alt="ä¾‹å¤–æƒ…å†µ"></p></li><li><p>ICMPæŠ¥æ–‡æ ¼å¼</p><p><img src="/2021/04/23/jsjwl04/image-20210429101048491.png" alt="ICMPæŠ¥æ–‡æ ¼å¼"></p><blockquote><p>ICMPæŠ¥æ–‡çš„æ ¡éªŒå’Œæ˜¯å¯¹æ•´ä¸ªICMPæŠ¥æ–‡è¿›è¡Œæ ¡éªŒ</p></blockquote></li><li><p><img src="/2021/04/23/jsjwl04/image-20210429101334930.png" alt="ICMPå·®é”™æŠ¥å‘ŠæŠ¥æ–‡"></p><p>UDPçš„å‰8å­—èŠ‚å°±æ˜¯å…¨éƒ¨å¤´éƒ¨ï¼Œè€ŒTCPå‰8ä¸ªå­—èŠ‚æ˜¯æºç«¯å£ã€ç›®çš„ç«¯å£ä¿¡æ¯ã€‚</p></li><li><p><img src="/2021/04/23/jsjwl04/image-20210429101622431.png" alt="ICMPåº”ç”¨ï¼šTraceroute"></p><blockquote><p>æ³¨ï¼štracerouteæ¯ç»„æŠ¥æ–‡ä¸€èˆ¬æ˜¯å‘3ä¸ªæŠ¥æ–‡ã€‚å³TTL=1çš„ä¸‰ä¸ªï¼ŒTTL=2çš„ä¸‰ä¸ªï¼ŒTTL=3çš„ä¸‰ä¸ªâ€¦</p></blockquote><blockquote><p>çŸ­æœŸå†…ä¸¤ä¸ªä¸»æœºä¹‹é—´çš„è·¯ç”±è·¯å¾„ä¸ä¼šå‘ç”Ÿæ”¹å˜ã€‚è·¯ç”±è¡¨æ›´æ–°æ²¡æœ‰é‚£ä¹ˆå¿«ã€‚</p></blockquote></li></ul>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¡ç®—æœºç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºç½‘ç»œé‡éš¾ç‚¹-æ»‘åŠ¨çª—å£</title>
      <link href="2021/04/19/jsjwl03_1/"/>
      <url>2021/04/19/jsjwl03_1/</url>
      
        <content type="html"><![CDATA[<h2 id="è®¡ç®—æœºç½‘ç»œé‡éš¾ç‚¹-æ»‘åŠ¨çª—å£"><a href="#è®¡ç®—æœºç½‘ç»œé‡éš¾ç‚¹-æ»‘åŠ¨çª—å£" class="headerlink" title="è®¡ç®—æœºç½‘ç»œé‡éš¾ç‚¹-æ»‘åŠ¨çª—å£"></a>è®¡ç®—æœºç½‘ç»œé‡éš¾ç‚¹-æ»‘åŠ¨çª—å£</h2><h3 id="1-å›é€€Næ­¥ï¼ˆGBNï¼‰åè®®"><a href="#1-å›é€€Næ­¥ï¼ˆGBNï¼‰åè®®" class="headerlink" title="1 å›é€€Næ­¥ï¼ˆGBNï¼‰åè®®"></a>1 å›é€€Næ­¥ï¼ˆGBNï¼‰åè®®</h3><h4 id="1-1-GBNçš„å‘é€æ–¹"><a href="#1-1-GBNçš„å‘é€æ–¹" class="headerlink" title="1.1 GBNçš„å‘é€æ–¹"></a>1.1 GBNçš„å‘é€æ–¹</h4><p>åœ¨å›é€€Næ­¥åè®®ä¸­ï¼Œå…è®¸å‘é€æ–¹å‘é€å¤šä¸ªåˆ†ç»„è€Œä¸éœ€è¦ç­‰å¾…ç¡®è®¤ï¼Œä½†å®ƒä¹Ÿå—é™äºåœ¨æµæ°´çº¿ä¸­æœªç¡®è®¤çš„åˆ†ç»„æ•°ä¸èƒ½è¶…è¿‡æŸä¸ªæœ€å¤§å…è®¸æ•°N.</p><p><img src="/2021/04/19/jsjwl03_1/20200220164803465.png" alt="å‘é€çª—å£"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ˜¾ç¤ºäº†å‘é€æ–¹çœ‹åˆ°çš„GBNåè®®çš„åºå·èŒƒå›´ã€‚å°†åŸºåºå·ï¼ˆbaseï¼‰ å®šä¹‰ä¸ºæœ€æ—©çš„æœªç¡®è®¤åˆ†ç»„çš„åºå·ï¼Œå°†ä¸‹ä¸€ä¸ªåºå·ï¼ˆnextseqnumï¼‰ å®šä¹‰ä¸ºæœ€å°çš„æœªä½¿ç”¨çš„åºå·ï¼ˆå³ä¸‹ä¸€ä¸ªå¾…å‘åˆ†ç»„çš„åºå·ã€‚ï¼‰</p><span id="more"></span><p>å°†åºå·èŒƒå›´åˆ†ä¸ºäº†4æ®µã€‚[0,baseâˆ’1]å¯¹åº”äºå·²ç»å‘é€å¹¶è¢«ç¡®è®¤çš„åˆ†ç»„ï¼›[base,nextseqnumâˆ’1]æ®µå†…çš„åºå·å¯¹ç”¨äºå·²ç»å‘é€ä½†æœªè¢«ç¡®è®¤çš„åºå·;[nextseqnum,base+Nâˆ’1]æ®µå†…çš„åºå·èƒ½ç”¨äºå“ªäº›è¦è¢«ç«‹å³å‘é€çš„åˆ†ç»„ï¼ˆå¦‚æœæœ‰æ•°æ®æ¥è‡ªä¸Šå±‚çš„è¯ï¼‰ï¼›æœ€åï¼Œå¤§äºæˆ–ç­‰äºbase+Nçš„åºå·æ˜¯ä¸èƒ½ä½¿ç”¨çš„ï¼ŒçŸ¥é“å½“å‰æµæ°´çº¿ä¸­æœªè¢«ç¡®è®¤çš„åˆ†ç»„å·²å¾—åˆ°ç¡®è®¤ä¸ºæ­¢ã€‚</p><p>æ ¹æ®ä¸Šå›¾ï¼Œé‚£äº›å·²ç»å‘é€ä½†æœªè¢«ç¡®è®¤çš„åˆ†ç»„çš„è®¸å¯æˆ–èŒƒå›´å¯ä»¥è¢«çœ‹æˆæ˜¯ä¸€ä¸ªåœ¨åºå·èŒƒå›´å†…é•¿åº¦ä¸ºNçš„çª—å£ï¼Œéšç€åè®®çš„è¿è¡Œï¼Œè¯¥çª—å£åœ¨åºå·ç©ºé—´å‘å‰æ»‘åŠ¨ã€‚å› æ­¤ï¼ŒNè¢«ç§°ä¸ºçª—å£é•¿åº¦ï¼ŒGBNåè®®ä¹Ÿå¸¸è¢«ç§°ä¸ºæ»‘åŠ¨çª—å£åè®®ã€‚ï¼ˆä¸ºä»€ä¹ˆè¦é™åˆ¶è¿™äº›è¢«å‘é€çš„ï¼Œæœªè¢«ç¡®è®¤çš„åˆ†ç»„æ•°ä¸ºNï¼Ÿä¸ºä»€ä¹ˆä¸å…è®¸è¿™äº›åˆ†ç»„ä¸ºæ— é™åˆ¶çš„æ•°ç›®ï¼Ÿè¿™æ˜¯å› ä¸ºæµé‡æ§åˆ¶æ˜¯å¯¹å‘é€å‘æ–¹çš„é™åˆ¶åŸå› ä¹‹ä¸€ã€‚ï¼‰</p><p>åœ¨å®è·µä¸­ï¼Œä¸€ä¸ªåˆ†ç»„çš„åºå·æ‰¿è½½åœ¨åˆ†ç»„é¦–éƒ¨çš„ä¸€ä¸ªå›ºå®šé•¿åº¦å­—æ®µä¸­ã€‚å¦‚æœåˆ†ç»„åºå·å­—æ®µçš„æ¯”ç‰¹æ•°ä¸ºKæ¯”ç‰¹ï¼Œé‚£ä¹ˆåºå·èŒƒå›´ä¸º[ 0 , 2<sup>k</sup> âˆ’ 1 ]åœ¨ä¸€ä¸ªæœ‰åºçš„åºå·èŒƒå›´å†…ï¼Œæ‰€æœ‰è®¾è®¡åºå·çš„è¿ç®—å¿…é¡»ä½¿ç”¨æ¨¡2<sup>k</sup>è¿ç®—ã€‚</p><h4 id="1-2-ä¸‹é¢æ˜¯åŸºäºACK-æ— NAKçš„GBNåè®®å‘æ–¹å’Œæ¥æ”¶æ–¹çš„æ‰©å±•FSM"><a href="#1-2-ä¸‹é¢æ˜¯åŸºäºACK-æ— NAKçš„GBNåè®®å‘æ–¹å’Œæ¥æ”¶æ–¹çš„æ‰©å±•FSM" class="headerlink" title="1.2 ä¸‹é¢æ˜¯åŸºäºACK,æ— NAKçš„GBNåè®®å‘æ–¹å’Œæ¥æ”¶æ–¹çš„æ‰©å±•FSM."></a>1.2 ä¸‹é¢æ˜¯åŸºäºACK,æ— NAKçš„GBNåè®®å‘æ–¹å’Œæ¥æ”¶æ–¹çš„æ‰©å±•FSM.</h4><h5 id="1-2-1-å‘é€æ–¹æ‰©å±•FSM"><a href="#1-2-1-å‘é€æ–¹æ‰©å±•FSM" class="headerlink" title="1.2.1 å‘é€æ–¹æ‰©å±•FSM"></a>1.2.1 å‘é€æ–¹æ‰©å±•FSM</h5><p><img src="/2021/04/19/jsjwl03_1/20200220164825495.png" alt="å‘é€æ–¹æ‰©å±•FSM"></p><p>è¯¦ç»†è§£é‡Š</p><ul><li><p>1 è¡¨ç¤ºåˆå§‹åŒ–</p><p>å°†åŸºåºå·ï¼ˆbaseï¼‰ å®šä¹‰ä¸ºæœ€æ—©çš„æœªç¡®è®¤åˆ†ç»„çš„åºå·ï¼Œå°†ä¸‹ä¸€ä¸ªåºå·ï¼ˆnextseqnumï¼‰ å®šä¹‰ä¸ºæœ€å°çš„æœªä½¿ç”¨çš„åºå·ï¼ˆå³ä¸‹ä¸€ä¸ªå¾…å‘åˆ†ç»„çš„åºå·ã€‚ï¼‰</p></li><li><p>2 ä¸Šå±‚è°ƒç”¨  ä¼ æ¥æ•°æ®rdt_send(data)</p><p>å‘é€æ–¹è¡Œä¸ºï¼šå¦‚æœæ»‘åŠ¨çª—å£å¯ä»¥æ‰¿è½½nextseqnumåºå·çš„æŠ¥æ–‡æ®µï¼Œåˆ™å°è£…æŠ¥æ–‡æ®µå¹¶å°†å…¶å‘é€ï¼Œå¦‚æœæ­¤æ—¶base==nextseqnumå³æ–°å‘é€çš„æŠ¥æ–‡æ®µæ˜¯æœ€æ—©å‘é€çš„ï¼Œåˆ™å¼€å§‹è®¡æ—¶ï¼Œç„¶ånextseqnumåŠ ä¸€ï¼ˆå³å‰æ²¿åŠ ä¸€ï¼‰ï¼›å¦‚æœä¸å¯ä»¥æ‰¿è½½nextseqnumçš„æŠ¥æ–‡æ®µï¼Œåˆ™æ‹’ç»æ¥æ”¶å®ƒã€‚</p></li><li><p>3 è¶…æ—¶äº‹ä»¶</p><p>å¦‚æœè®¡æ—¶å™¨è¶…æ—¶äº†ï¼Œå³æœ€æ—©å‘é€çš„æŠ¥æ–‡æ®µbaseä¸€ç›´æ²¡æœ‰è¢«ç¡®å®šè§¦å‘è¶…æ—¶äº‹ä»¶ï¼Œå‘é€æ–¹å°†ä¼šå°†baseä»¥åŠå…¶ä¹‹åæ‰€æœ‰çš„æŠ¥æ–‡æ®µé‡æ–°å‘é€ã€‚</p></li><li><p>4 å‘é€æ–¹æ”¶åˆ°ACKå¹¶ä¸”ACKæ²¡æœ‰å‡ºé”™</p><p>åˆ™å°†ACKä¸­åºå·å–å‡ºï¼Œè¯¥åºå·åŠ ä¸€å³ä¸ºæ–°çš„baseï¼Œè¿™è¡¨ç¤ºè¯¥ACKåºå·ä»¥åŠä¹‹å‰çš„æŠ¥æ–‡æ®µéƒ½è¢«ç¡®è®¤äº†ï¼Œæ–°çš„æœ€æ—©çš„æœªè¢«ç¡®è®¤æŠ¥æ–‡æ®µbaseå˜æˆäº†base+1ã€‚å®é™…æ˜¯æ»‘åŠ¨çª—å£åæ²¿æ»‘åŠ¨ã€‚</p><p>ç„¶åå¦‚æœæ–°çš„æœ€æ—©çš„æœªè¢«ç¡®è®¤æŠ¥æ–‡æ®µbaseä¸ä¸‹ä¸€ä¸ªå¾…å‘åˆ†ç»„çš„åºå·nextseqnumä¸€è‡´è¡¨ç¤ºæ»‘åŠ¨çª—å£ä¸ºç©ºï¼Œåœæ­¢è®¡æ—¶ï¼›å¦åˆ™æ»‘åŠ¨çª—å£ä¸ä¸ºç©ºï¼Œå¼€å§‹æ–°baseçš„è®¡æ—¶ã€‚</p></li><li><p>5 å‘é€æ–¹æ”¶åˆ°ACKä½†æ˜¯ACKå‡ºé”™</p><p>å‘é€æ–¹ä¸åšä»»ä½•åŠ¨ä½œ</p></li></ul><h5 id="1-2-2-æ¥æ”¶æ–¹æ‰©å±•FSM"><a href="#1-2-2-æ¥æ”¶æ–¹æ‰©å±•FSM" class="headerlink" title="1.2.2 æ¥æ”¶æ–¹æ‰©å±•FSM"></a>1.2.2 æ¥æ”¶æ–¹æ‰©å±•FSM</h5><p><img src="/2021/04/19/jsjwl03_1/20200220164839130.png" alt="æ¥æ”¶æ–¹æ‰©å±•FSM"></p><p>è¯¦ç»†è§£é‡Š</p><ul><li><p>1 è¡¨ç¤ºåˆå§‹åŒ–</p><p>expectedseqnum=1 è¿™é‡Œä¸å‘é€æ–¹ä¿æŒä¸€è‡´ï¼ˆåè®®è¦æ±‚ï¼‰ã€‚</p><p>åŒæ—¶åšå¥½å¯¹å‰ä¸€ä¸ªåˆ†ç»„0ç¡®è®¤sndpktï¼Œä½†æ˜¯æ²¡æœ‰å‘é€</p></li><li><p>2 æ”¶åˆ°å‘é€æ–¹æŠ¥æ–‡æ®µï¼Œæ²¡æœ‰å‡ºé”™ï¼ŒåŒæ—¶ä¸æœŸå¾…çš„åºå·ä¸€è‡´</p><p>åˆ™å°†æŠ¥æ–‡æ®µè§£å°è£…ï¼Œå¹¶å°†æ•°æ®ä¸Šä¼ ç»™ä¸Šä¸€å±‚ã€‚ç„¶åå°†expectedseqnumå¯¹åº”ACKå‘é€ç»™å‘é€æ–¹ã€‚</p><p>expectedseqnum++å³æ»‘åŠ¨çª—å£æ»‘åŠ¨ã€‚</p></li><li><p>3 å…¶ä»–äº‹ä»¶</p><p>å‘é€æœ€åä¸€ä¸ªæ­£ç¡®æ¥æ”¶çš„åˆ†ç»„0ç¡®è®¤sndpkt</p></li></ul><h4 id="1-3-ä¸‹é¢æ˜¯çª—å£é•¿åº¦ä¸º4ä¸ªåˆ†ç»„çš„GBNåè®®è¿è¡Œæƒ…å†µ"><a href="#1-3-ä¸‹é¢æ˜¯çª—å£é•¿åº¦ä¸º4ä¸ªåˆ†ç»„çš„GBNåè®®è¿è¡Œæƒ…å†µ" class="headerlink" title="1.3 ä¸‹é¢æ˜¯çª—å£é•¿åº¦ä¸º4ä¸ªåˆ†ç»„çš„GBNåè®®è¿è¡Œæƒ…å†µ"></a>1.3 ä¸‹é¢æ˜¯çª—å£é•¿åº¦ä¸º4ä¸ªåˆ†ç»„çš„GBNåè®®è¿è¡Œæƒ…å†µ</h4><p><img src="/2021/04/19/jsjwl03_1/20200220164855988.png" alt="GBNåè®®è¿è¡Œ"></p><p><img src="/2021/04/19/jsjwl03_1/image-20210419205128687.png" alt="GBNåè®®è¿è¡Œ"></p><h3 id="2-é€‰æ‹©é‡ä¼ ï¼ˆSRï¼‰åè®®"><a href="#2-é€‰æ‹©é‡ä¼ ï¼ˆSRï¼‰åè®®" class="headerlink" title="2 é€‰æ‹©é‡ä¼ ï¼ˆSRï¼‰åè®®"></a>2 é€‰æ‹©é‡ä¼ ï¼ˆSRï¼‰åè®®</h3><p><img src="/2021/04/19/jsjwl03_1/image-20210419142220547.png" alt="SRè¿è¡Œ"></p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¡ç®—æœºç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºç½‘ç»œ-ä¼ è¾“å±‚</title>
      <link href="2021/04/16/jsjwl03/"/>
      <url>2021/04/16/jsjwl03/</url>
      
        <content type="html"><![CDATA[<h2 id="è®¡ç®—æœºç½‘ç»œ-ä¼ è¾“å±‚"><a href="#è®¡ç®—æœºç½‘ç»œ-ä¼ è¾“å±‚" class="headerlink" title="è®¡ç®—æœºç½‘ç»œ-ä¼ è¾“å±‚"></a>è®¡ç®—æœºç½‘ç»œ-ä¼ è¾“å±‚</h2><ul><li><p>ç›®æ ‡ï¼š</p><ul><li><p>ç†è§£ä¼ è¾“å±‚çš„å·¥ä½œåŸç†</p><ul><li>å¤šè·¯å¤ç”¨/è§£å¤ç”¨</li><li>å¯é æ•°æ®ä¼ è¾“ RDT</li></ul><blockquote><p>TCPæ˜¯å¯é çš„ï¼Œä½†æ˜¯å®ƒçš„ä¸‹å±‚IPæœåŠ¡æ˜¯ä¸å¯é çš„ï¼Œé‚£ä¹ˆTCPåº”è¯¥ä»¥ä»€ä¹ˆæ–¹å¼å®ç°å¯é ä¼ è¾“ã€‚</p></blockquote><ul><li>æµé‡æ§åˆ¶</li><li>æ‹¥å¡æ§åˆ¶</li></ul><span id="more"></span></li><li><p>å­¦ä¹ Internetçš„ä¼ è¾“å±‚åè®®</p><ul><li>UDPï¼šæ— è¿æ¥ä¼ è¾“</li><li>TCPï¼šé¢å‘è¿æ¥çš„å¯é ä¼ è¾“</li><li>TCPçš„æ‹¥å¡æ§åˆ¶</li></ul></li></ul></li></ul><h3 id="1-æ¦‚è¿°å’Œä¼ è¾“å±‚æœåŠ¡"><a href="#1-æ¦‚è¿°å’Œä¼ è¾“å±‚æœåŠ¡" class="headerlink" title="1 æ¦‚è¿°å’Œä¼ è¾“å±‚æœåŠ¡"></a>1 æ¦‚è¿°å’Œä¼ è¾“å±‚æœåŠ¡</h3><ul><li><p>ä¼ è¾“æœåŠ¡å’Œåè®®</p><ul><li><p>ä¸ºè¿è¡Œåœ¨ä¸åŒä¸»æœºä¸Šçš„åº”ç”¨<strong>è¿›ç¨‹</strong>ä»¥æŠ¥æ–‡æ®µä¸ºå•ä½æä¾›<strong>é€»è¾‘é€šä¿¡</strong></p></li><li><p>ä¼ è¾“åè®®è¿è¡Œåœ¨ç«¯ç³»ç»Ÿ</p><ul><li>å‘é€æ–¹ï¼šå°†åº”ç”¨å±‚çš„æŠ¥æ–‡åˆ†æˆæŠ¥æ–‡æ®µï¼Œç„¶åä¼ é€’ç»™ç½‘ç»œå±‚</li></ul><blockquote><p>å¦‚æœæŠ¥æ–‡æ¯”è¾ƒé•¿ï¼Œä¼ è¾“å±‚ä¼šå°†æŠ¥æ–‡åˆ†æˆè‹¥å¹²æŠ¥æ–‡æ®µ</p></blockquote><ul><li>æ¥æ”¶æ–¹ï¼šå°†æŠ¥æ–‡æ®µé‡ç»„æˆæŠ¥æ–‡ï¼Œç„¶åä¼ é€’ç»™åº”ç”¨å±‚</li></ul><blockquote><p>å°†æŠ¥æ–‡æ®µçš„æ®µå¤´å»æ‰ï¼Œç„¶åæŒ‰é¡ºåºå°†æŠ¥æ–‡æ®µç»“åˆèµ·æ¥æˆæŠ¥æ–‡ï¼Œç„¶åä»¥å­—èŠ‚æµæ–¹å¼ä¸Šä¼ </p></blockquote></li><li><p>æœ‰å¤šä¸ªä¼ è¾“å±‚åè®®å¯ä¾›åº”ç”¨é€‰æ‹©</p><ul><li>Internet: TCPå’ŒUDP</li></ul><blockquote><p>å‘ä¸‹ï¼Œç½‘ç»œå±‚å°±éƒ½æ˜¯IPæä¾›æœåŠ¡</p></blockquote></li></ul><p><img src="/2021/04/16/jsjwl03/image-20210416225619983.png" alt="ä¼ è¾“å±‚æœåŠ¡"></p></li><li><p>ä¼ è¾“å±‚ vs. ç½‘ç»œå±‚</p><ul><li><p>ç½‘ç»œå±‚æœåŠ¡ï¼š<strong>ä¸»æœºä¹‹é—´</strong>çš„é€»è¾‘é€šä¿¡</p></li><li><p>ä¼ è¾“å±‚æœåŠ¡ï¼š<strong>è¿›ç¨‹é—´</strong>çš„é€»è¾‘é€šä¿¡</p><blockquote><p>é€šè¿‡å¢åŠ 16ä½ç«¯å£å·çš„æœºåˆ¶ï¼Œå®ç°äº†ä¸»æœºåˆ°è¿›ç¨‹çš„ç»†åŒ–</p></blockquote><ul><li>ä¾èµ–äºç½‘ç»œå±‚çš„æœåŠ¡<ul><li>å»¶æ—¶ã€å¸¦å®½</li></ul></li><li>å¹¶å¯¹ç½‘ç»œå±‚çš„æœåŠ¡è¿›è¡Œå¢å¼º<ul><li>å¯¹æ•°æ®ä¸¢å¤±ã€é¡ºåºæ··ä¹±ç­‰å¤„ç†-å¯é æ€§</li></ul></li><li>å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†-å®‰å…¨æ€§<ul><li>å¤ç”¨/è§£å¤ç”¨</li></ul></li></ul></li></ul><blockquote><p>æœ‰äº›æœåŠ¡æ˜¯å¯ä»¥åŠ å¼ºçš„ï¼šä¸å¯é  â†’ å¯é ï¼›å®‰å…¨</p><p>ä½†æœ‰äº›æœåŠ¡æ˜¯ä¸å¯ä»¥è¢«åŠ å¼ºçš„ï¼šå¸¦å®½ï¼Œå»¶è¿Ÿ</p></blockquote><ul><li>ä¼ è¾“å±‚æä¾›äº†å¤ç”¨/è§£å¤ç”¨çš„åŠŸèƒ½</li></ul><blockquote><p>ç±»æ¯”ï¼šä¸œè¥¿2ä¸ªå®¶åº­çš„é€šä¿¡</p><p>Annå®¶çš„12ä¸ªå°å­©ç»™å¦Billå®¶çš„12ä¸ªå°å­©å‘ä¿¡å…±144å°ï¼Œåˆ†å¼€ä¼ è¾“ä»£ä»·å¤ªå¤§ï¼Œæ‰€ä»¥Annæ‰“åŒ…åˆ°ä¸€å°ä¿¡ä¸€èµ·ç»™é‚®æ”¿å…¬å¸ä¼ è¾“ï¼ˆå¤ç”¨ï¼‰ï¼Œç„¶ååˆ°Billå®¶Billå†åˆ†å¼€æŒ‰ç…§ä¿¡çš„æ ‡è¯†åˆ†åˆ«åˆ†å‘ï¼ˆè§£å¤ç”¨ï¼‰ç»™12ä¸ªå­©å­</p><ul><li><p>ä¸»æœº = å®¶åº­   è¿›ç¨‹ = å°å­©</p></li><li><p>åº”ç”¨å±‚æŠ¥æ–‡ = ä¿¡å°ä¸­çš„ä¿¡ä»¶</p></li><li><p>ä¼ è¾“åè®® = Annå’ŒBill</p><ul><li>ä¸ºå®¶åº­å°å­©æä¾›å¤ç”¨ã€è§£å¤ç”¨æœåŠ¡</li></ul></li><li><p>ç½‘ç»œå±‚åè®® = é‚®æ”¿æœåŠ¡</p><ul><li>å®¶åº­-å®¶åº­çš„é‚®åŒ…ä¼ è¾“æœåŠ¡</li></ul></li></ul></blockquote></li><li><p>Internetä¼ è¾“å±‚åè®®</p><ul><li>å¯é çš„ã€ä¿åºçš„ä¼ è¾“ï¼šTCP<ul><li>å¤šè·¯å¤ç”¨ã€è§£å¤ç”¨</li><li>æ‹¥å¡æ§åˆ¶</li><li>æµé‡æ§åˆ¶</li><li>å»ºç«‹è¿æ¥</li><li>å‘ä¸Šå±‚åº”ç”¨å±‚æä¾›çš„æ˜¯å­—èŠ‚æµçš„æœåŠ¡</li></ul></li><li>ä¸å¯é ã€ä¸ä¿åºçš„ä¼ è¾“ï¼šUDP<ul><li>å¤šè·¯å¤ç”¨ã€è§£å¤ç”¨</li><li>æ²¡æœ‰ä¸ºå°½åŠ›è€Œä¸ºçš„IPæœåŠ¡æ·»åŠ æ›´å¤šçš„å…¶å®ƒé¢å¤–æœåŠ¡</li><li>å‘ä¸Šå±‚åº”ç”¨å±‚æä¾›çš„æ˜¯æ•°æ®æŠ¥çš„æœåŠ¡</li></ul></li><li>éƒ½ä¸æä¾›çš„æœåŠ¡ï¼š<ul><li>å»¶æ—¶ä¿è¯</li><li>å¸¦å®½ä¿è¯</li></ul></li></ul></li></ul><h3 id="2-å¤šè·¯å¤ç”¨ä¸è§£å¤ç”¨"><a href="#2-å¤šè·¯å¤ç”¨ä¸è§£å¤ç”¨" class="headerlink" title="2 å¤šè·¯å¤ç”¨ä¸è§£å¤ç”¨"></a>2 å¤šè·¯å¤ç”¨ä¸è§£å¤ç”¨</h3><ul><li>å¤šè·¯å¤ç”¨/è§£å¤ç”¨</li></ul><p><img src="/2021/04/16/jsjwl03/image-20210419115834515.png" alt="å¤šè·¯å¤ç”¨/è§£å¤ç”¨"></p><p>å¤šè·¯å¤ç”¨ï¼šä¼ è¾“å±‚å¯¹æ¯ä¸ªæŠ¥æ–‡æ®µè¿›è¡Œå°è£…ç›¸åº”çš„ç«¯å£å·ã€‚</p><p>å¤šè·¯è§£å¤ç”¨ï¼šä¼ è¾“å±‚æ ¹æ®æ¯ä¸ªæŠ¥æ–‡æ®µçš„ç«¯å£å·å°†å…¶ä¼ é€’ç»™ä¸åŒçš„Socketã€‚</p><blockquote><p>æ•°æ®ä¸»è¦æ ¹æ®ç½‘ç»œå±‚å°è£…çš„IPåœ°å€å¯»æ‰¾ç›®æ ‡ä¸»æœºï¼Œç„¶ååœ¨ç›®æ ‡ä¸»æœºä¼ è¾“å±‚è§£å°è£…ï¼Œæ ¹æ®ä¼ è¾“å±‚çš„å¤´ä¸­çš„ç«¯å£å·è§£å¤ç”¨ç»™å¯¹åº”ç›®æ ‡è¿›ç¨‹</p></blockquote><p><img src="/2021/04/16/jsjwl03/image-20210417145437105.png" alt="ä¼ è¾“è¿‡ç¨‹"></p><ul><li><p>å¤šè·¯è§£å¤ç”¨å·¥ä½œåŸç†</p><ul><li>è§£å¤ç”¨ä½œç”¨ï¼šTCPæˆ–è€…UDPå®ä½“é€šè¿‡ç«¯å£å·ï¼Œå°†æŠ¥æ–‡æ®µçš„æ•°æ®éƒ¨åˆ†äº¤ç»™æ­£ç¡®çš„socketï¼Œä»è€Œäº¤ç»™æ­£ç¡®çš„è¿›ç¨‹</li><li>ä¸»æœºæ”¶åˆ°IPæ•°æ®æŠ¥<ul><li>æ¯ä¸ªæ•°æ®æŠ¥æœ‰æºIPåœ°å€å’Œç›®æ ‡IPåœ°å€</li><li>æ¯ä¸ªæ•°æ®æŠ¥æ‰¿è½½ä¸€ä¸ªä¼ è¾“å±‚æŠ¥æ–‡æ®µ</li><li>æ¯ä¸ªæŠ¥æ–‡æ®µæœ‰ä¸€ä¸ªæºç«¯å£å·å’Œç›®æ ‡ç«¯å£å· (ç‰¹å®šåº”ç”¨æœ‰è‘—åçš„ç«¯å£å·) </li></ul></li><li>ä¸»æœºè”åˆä½¿ç”¨IPåœ°å€å’Œç«¯å£å·å°†æŠ¥æ–‡æ®µå‘é€ç»™åˆé€‚çš„å¥—æ¥å­—</li><li>TCPå’ŒUDPä¸åŒ</li></ul></li><li><p>æ— è¿æ¥ï¼ˆUDPï¼‰å¤šè·¯è§£å¤ç”¨</p><ul><li>åˆ›å»ºå¥—æ¥å­—ï¼š </li></ul><p>æœåŠ¡å™¨ç«¯ï¼š </p>  <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">serverSocket=socket(PF_INET,  SOCK_DGRAM,<span class="number">0</span>); </span><br><span class="line">bind(serverSocket, &amp;sad, <span class="keyword">sizeof</span>(sad));</span><br></pre></td></tr></table></figure><blockquote><p>serverSocketå’ŒSadæŒ‡å®šçš„ç«¯å£å·æ†ç»‘ </p></blockquote><p>å®¢æˆ·ç«¯ï¼š </p>  <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ClientSocket=socket(PF_INET,  SOCK_DGRAM,<span class="number">0</span>); </span><br></pre></td></tr></table></figure><blockquote><p> æ²¡æœ‰Bindï¼ŒClientSocketå’ŒOSä¸ºä¹‹åˆ†é…çš„æŸä¸ªç«¯å£å·éšå¼æ†ç»‘ï¼ˆå®¢æˆ·ç«¯ä½¿ç”¨ä»€ä¹ˆç«¯å£å·æ— æ‰€è°“ï¼Œå®¢æˆ·ç«¯ä¸»åŠ¨æ‰¾æœåŠ¡å™¨ï¼‰</p></blockquote><ul><li><p>åœ¨æ¥æ”¶ç«¯ï¼ŒUDPå¥—æ¥å­—ç”¨äºŒå…ƒç»„æ ‡è¯† (ç›®æ ‡IPåœ°å€ã€ç›®æ ‡ç«¯å£å·å³æœ¬åœ°serverçš„IPå’Œç«¯å£å·) </p></li><li><p>å½“ä¸»æœºæ”¶åˆ°UDPæŠ¥æ–‡æ®µï¼š </p><ul><li>æ£€æŸ¥æŠ¥æ–‡æ®µçš„ç›®æ ‡ç«¯å£å·</li><li>ç”¨è¯¥ç«¯å£å·å°†æŠ¥æ–‡æ®µå®šä½ç»™å¥—æ¥å­—</li></ul></li><li><p>å¦‚æœä¸¤ä¸ªä¸åŒæºIPåœ°å€/æºç«¯å£å·çš„æ•°æ®æŠ¥ï¼Œä½†æ˜¯æœ‰ç›¸åŒçš„ç›®æ ‡IPåœ°å€å’Œç«¯å£å·ï¼Œåˆ™è¢«å®šä½åˆ°ç›¸åŒçš„å¥—æ¥å­—</p></li></ul><p><img src="/2021/04/16/jsjwl03/image-20210417151731561.png" alt="UDPsocketè¡¨"></p><p><img src="/2021/04/16/jsjwl03/image-20210417153511155.png" alt="æ— è¿æ¥å¤šè·¯å¤ç”¨"></p><blockquote><p><font color="red">ç–‘é—®ï¼šè¿™é‡Œæ¥è‡ªä¸åŒä¸»æœºå’Œå¤ç”¨/è§£å¤ç”¨æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿç‰¹åˆ«æ˜¯å¤ç”¨ï¼Ÿ</font></p></blockquote></li><li><p>é¢å‘è¿æ¥ï¼ˆTCPï¼‰çš„å¤šè·¯è§£å¤ç”¨</p><ul><li>TCPå¥—æ¥å­—:å››å…ƒç»„æœ¬åœ°æ ‡è¯†ï¼š<ul><li>æºIPåœ°å€ </li><li>æºç«¯å£å· </li><li>ç›®çš„IPåœ°å€ </li><li>ç›®çš„ç«¯å£å·</li></ul></li><li>è§£å¤ç”¨ï¼šæ¥æ”¶ä¸»æœºç”¨è¿™å››ä¸ªå€¼æ¥å°†æ•°æ®æŠ¥å®šä½åˆ°åˆé€‚çš„å¥—æ¥å­—</li><li>æœåŠ¡å™¨èƒ½å¤Ÿåœ¨ä¸€ä¸ªTCPç«¯å£ä¸ŠåŒæ—¶æ”¯æŒå¤šä¸ª TCPå¥—æ¥å­—ï¼š<ul><li>æ¯ä¸ªå¥—æ¥å­—ç”±å…¶å››å…ƒç»„æ ‡è¯†ï¼ˆæœ‰ä¸åŒçš„æºIPå’ŒæºPORTï¼‰</li></ul></li><li>WebæœåŠ¡å™¨å¯¹æ¯ä¸ªè¿æ¥å®¢æˆ·ç«¯æœ‰ä¸åŒçš„å¥—æ¥å­— <ul><li>éæŒä¹…å¯¹æ¯ä¸ªè¯·æ±‚æœ‰ä¸åŒçš„å¥—æ¥å­—</li></ul></li></ul></li></ul><h3 id="3-æ— è¿æ¥ä¼ è¾“ï¼šUDPï¼ˆUser-Datagram-Protocolï¼‰"><a href="#3-æ— è¿æ¥ä¼ è¾“ï¼šUDPï¼ˆUser-Datagram-Protocolï¼‰" class="headerlink" title="3 æ— è¿æ¥ä¼ è¾“ï¼šUDPï¼ˆUser Datagram Protocolï¼‰"></a>3 æ— è¿æ¥ä¼ è¾“ï¼šUDPï¼ˆUser Datagram Protocolï¼‰</h3><ul><li><p>ç½‘ç»œå±‚çš„IPæœåŠ¡æ˜¯ä¸»æœºåˆ°ä¸»æœºçš„å°½åŠ›è€Œä¸ºçš„ä¼ è¾“ï¼ŒUDPåœ¨å…¶åŸºç¡€ä¸Šå¢åŠ ç«¯å£å·å®ç°äº†è¿›ç¨‹åˆ°è¿›ç¨‹ï¼Œä½†æ˜¯æ²¡æœ‰å¢åŠ å…¶ä»–é¢å¤–çš„åŠŸèƒ½</p></li><li><p>â€œno frills,â€â€œbare bonesâ€Internetä¼ è¾“åè®®</p></li><li><p>â€œå°½åŠ›è€Œä¸ºâ€çš„æœåŠ¡ï¼ŒæŠ¥æ–‡æ®µå¯èƒ½ä¸¢å¤±æˆ–è€…é€åˆ°åº”ç”¨è¿›ç¨‹çš„æŠ¥æ–‡æ®µä¹±åº </p></li><li><p>æ— è¿æ¥ï¼š </p><ul><li>UDPå‘é€ç«¯å’Œæ¥æ”¶ç«¯ä¹‹é—´æ²¡æœ‰æ¡æ‰‹ </li><li>æ¯ä¸ªUDPæŠ¥æ–‡æ®µéƒ½è¢«ç‹¬ç«‹åœ°å¤„ç†</li></ul></li><li><p>UDP è¢«ç”¨äº: </p><ul><li>æµåª’ä½“ï¼ˆä¸¢å¤±ä¸æ•æ„Ÿï¼Œé€Ÿç‡æ•æ„Ÿã€åº”ç”¨å¯æ§åˆ¶ä¼ è¾“é€Ÿç‡ï¼‰</li><li>DNS</li><li>SNMP</li></ul></li><li><p>åœ¨UDPä¸Šå¯è¡Œå¯é ä¼ è¾“ï¼š</p><ul><li>åœ¨åº”ç”¨å±‚å¢åŠ å¯é æ€§</li><li>åº”ç”¨ç‰¹å®šçš„å·®é”™æ¢å¤</li></ul></li><li><p>UDPæŠ¥æ–‡æ®µæ ¼å¼</p><p><img src="/2021/04/16/jsjwl03/image-20210417155905728.png" alt="UDPæŠ¥æ–‡æ®µæ ¼å¼"></p><ul><li>åŒ…æ‹¬å¤´éƒ¨å’Œè½½è·ï¼ˆsduï¼‰</li><li>å¤´éƒ¨ï¼š8å­—èŠ‚<ul><li>æºç«¯å£å·2å­—èŠ‚    ç›®çš„ç«¯å£å·2å­—èŠ‚   </li><li>é•¿åº¦ï¼šæŠ¥æ–‡æ®µæ•´ä¸ªé•¿åº¦   åŒ…æ‹¬å¤´éƒ¨</li><li>æ ¡éªŒå’Œ<ul><li>EDC å·®é”™æ ¡éªŒç ï¼Œåˆ¤æ–­åŒ…æ‹¬å¤´éƒ¨ã€è½½è·åœ¨ä¼ è¾“è¿‡ç¨‹æ˜¯å¦å‡ºé”™ï¼Œå¦‚æœå‡ºé”™åˆ™å°†æŠ¥æ–‡ä¸¢å¤±</li></ul></li></ul></li></ul></li><li><p>ä¸ºä»€ä¹ˆè¦æœ‰UDPï¼Ÿ</p><ul><li>ä¸å»ºç«‹è¿æ¥ ï¼ˆä¼šå¢åŠ å»¶æ—¶ï¼‰</li><li>ç®€å•ï¼šåœ¨å‘é€ç«¯å’Œæ¥æ”¶ç«¯æ²¡æœ‰è¿æ¥çŠ¶æ€</li><li>æŠ¥æ–‡æ®µçš„å¤´éƒ¨headå¾ˆå°ï¼ˆcostå¼€é”€å°ï¼‰ åªæœ‰8ä¸ªå­—èŠ‚</li><li>æ— æ‹¥å¡æ§åˆ¶å’Œæµé‡æ§åˆ¶ï¼ŒUDPå¯ä»¥å°½å¯èƒ½å¿«çš„å‘é€æŠ¥æ–‡æ®µ<ul><li>åº”ç”¨æ•°æ®ä»åº”ç”¨å±‚å‘ä¸‹å±‚ä¼ é€’çš„ä¼ è¾“çš„é€Ÿç‡è¿‘ä¼¼ç­‰äºä¸»æœºåˆ°ä¸»æœºçš„ç½‘ç»œä¼ é€’çš„é€Ÿç‡ï¼Œæ¥å¤šå¿«ï¼Œä¼ å¤šå¿«</li></ul></li></ul></li><li><p>UDPæ ¡éªŒå’Œ</p><ul><li><p>ç›®æ ‡ï¼š æ£€æµ‹åœ¨è¢«ä¼ è¾“æŠ¥æ–‡æ®µä¸­çš„å·®é”™ (å¦‚æ¯”ç‰¹åè½¬)</p></li><li><p>å‘é€æ–¹ï¼š </p><ul><li>å°†æŠ¥æ–‡æ®µçš„å†…å®¹è§†ä¸º16æ¯”ç‰¹çš„æ•´æ•°</li><li>æ ¡éªŒå’Œï¼šæŠ¥æ–‡æ®µçš„åŠ æ³•å’Œ ï¼ˆ1çš„è¡¥è¿ç®—ï¼‰ </li><li>å‘é€æ–¹å°†æ ¡éªŒå’Œæ”¾åœ¨UDPçš„æ ¡éªŒå’Œå­—æ®µ</li></ul></li><li><p>æ¥æ”¶æ–¹ï¼š</p><ul><li><p>è®¡ç®—æ¥æ”¶åˆ°çš„æŠ¥æ–‡æ®µçš„æ ¡éªŒå’Œ </p></li><li><p>æ£€æŸ¥è®¡ç®—å‡ºçš„æ ¡éªŒå’Œä¸æ ¡éªŒå’Œå­—æ®µçš„å†…å®¹æ˜¯å¦ç›¸ç­‰ï¼š</p><ul><li><p>ä¸ç›¸ç­‰â€“â€“æ£€æµ‹åˆ°å·®é”™</p></li><li><p>ç›¸ç­‰â€“â€“æ²¡æœ‰æ£€æµ‹åˆ°å·®é”™ï¼Œä½†ä¹Ÿè®¸è¿˜æ˜¯æœ‰å·®é”™ </p><ul><li><p>æ®‹å­˜é”™è¯¯</p><blockquote><p>ä¾‹å¦‚ï¼Œå‘é€æ–¹UDPæŠ¥æ–‡æ®µåŒ…æ‹¬ï¼šæ ¡éªŒå’ŒEDC+å…¶ä»–æ•°æ®Dï¼ˆå¤´éƒ¨å…¶å®ƒå†…å®¹+è½½è·+ä¼ªå¤´éƒ¨ç­‰ï¼‰ï¼Œè€Œæ¥æ”¶æ–¹UDPæŠ¥æ–‡æ®µåŒ…æ‹¬ï¼šæ ¡éªŒå’ŒEDCâ€™+å…¶ä»–æ•°æ®Dâ€™ï¼ˆå¤´éƒ¨å…¶å®ƒå†…å®¹+è½½è·+ä¼ªå¤´éƒ¨ç­‰ï¼‰ï¼Œå·§åˆæƒ…å†µï¼šDâ€™è®¡ç®—å‡ºçš„æ ¡éªŒå’Œä¸æ ¡éªŒå’ŒEDCâ€™å­—æ®µçš„å†…å®¹ç›¸ç­‰</p></blockquote></li></ul></li></ul></li></ul></li></ul></li><li><p>Internetæ ¡éªŒå’Œçš„ä¾‹å­</p><ul><li><p>å½“æ•°å­—ç›¸åŠ æ—¶ï¼Œåœ¨æœ€é«˜ä½çš„è¿›ä½è¦å›å·ï¼Œå†åŠ åˆ°ç»“æœä¸Š </p><p><img src="/2021/04/16/jsjwl03/image-20210417162713542.png" alt="æ ¡éªŒå’Œç¤ºä¾‹"></p></li><li><p>Internetæ ¡éªŒå’Œï¼Œå°±æ˜¯å°†Dï¼ˆå¤´éƒ¨å…¶å®ƒå†…å®¹+è½½è·+ä¼ªå¤´éƒ¨ç­‰ï¼‰åˆ†ä¸ºä¸€ä¸ªä¸ª16bitï¼Œç„¶åè¿›è¡Œä¸€ä¸€ç›¸åŠ ã€è¿›ä½å›æ»šã€åç æ±‚å‡ºæ ¡éªŒå’Œã€‚</p><p>ç„¶åç›®æ ‡ç«¯å°†æ”¶åˆ°çš„Dâ€™è¿›è¡Œä¸€ä¸€ç›¸åŠ ã€è¿›ä½å›æ»šï¼Œç„¶ååŠ ä¸Šæ ¡éªŒå’ŒEDCâ€™ï¼Œå¦‚æœç»“æœç­‰äº1111111111111111åˆ™é€šè¿‡æ ¡éªŒï¼Œå¦åˆ™æ²¡æœ‰é€šè¿‡æ ¡éªŒ</p><p>æ³¨ï¼šæ±‚å’Œæ—¶ï¼Œå¿…é¡»å°†è¿›ä½å›å·åˆ°ç»“æœ</p></li></ul></li></ul><h3 id="4-å¯é æ•°æ®ä¼ è¾“ï¼ˆRDTï¼‰çš„åŸç†"><a href="#4-å¯é æ•°æ®ä¼ è¾“ï¼ˆRDTï¼‰çš„åŸç†" class="headerlink" title="4 å¯é æ•°æ®ä¼ è¾“ï¼ˆRDTï¼‰çš„åŸç†"></a>4 å¯é æ•°æ®ä¼ è¾“ï¼ˆRDTï¼‰çš„åŸç†</h3><ul><li><p>rdtåœ¨åº”ç”¨å±‚ã€ä¼ è¾“å±‚å’Œæ•°æ®é“¾è·¯å±‚éƒ½å¾ˆé‡è¦</p></li><li><p><img src="/2021/04/16/jsjwl03/image-20210418193316439.png" alt="RDTç¤ºæ„å›¾"></p></li><li><p>ä¿¡é“çš„ä¸å¯é ç‰¹ç‚¹å†³å®šäº†å¯é æ•°æ®ä¼ è¾“åè®®çš„å¤æ‚æ€§</p><blockquote><p>IPåè®®ä¸å¯é ï¼Œè€Œè¦å®ç°TCPçš„å¯é ä¼ è¾“ã€‚å³åœ¨ä¸‹å±‚åè®®ä¸å¯é çš„æƒ…å†µä¸‹å®ç°ä¼ è¾“çš„å¯é æ€§ã€‚</p></blockquote></li></ul><p><img src="/2021/04/16/jsjwl03/image-20210418193748310.png" alt="RDT"></p><blockquote><p>red_send()å’Œdeliver_data()æ˜¯ä¸Šå±‚ä¸æœ¬å±‚çš„æ¥å£/è°ƒç”¨çš„åŸè¯­ï¼Œudt_send()å’Œudt_rcv()æ˜¯ä¸‹å±‚ä¸æœ¬å±‚çš„æ¥å£/è°ƒç”¨çš„åŸè¯­ã€‚</p></blockquote><h4 id="4-1-å¯é æ•°æ®ä¼ è¾“åŸç†æ¼”ç»"><a href="#4-1-å¯é æ•°æ®ä¼ è¾“åŸç†æ¼”ç»" class="headerlink" title="4.1 å¯é æ•°æ®ä¼ è¾“åŸç†æ¼”ç»"></a>4.1 å¯é æ•°æ®ä¼ è¾“åŸç†æ¼”ç»</h4><blockquote><p>æˆ‘ä»¬å°†ï¼š</p><p>æ¸å¢å¼åœ°å¼€å‘å¯é æ•°æ®ä¼ è¾“åè®®ï¼ˆ rdt ï¼‰çš„å‘é€æ–¹å’Œæ¥æ”¶æ–¹</p><p>åªè€ƒè™‘å•å‘æ•°æ®ä¼ è¾“ï¼Œä½†æ§åˆ¶ä¿¡æ¯æ˜¯åŒå‘æµåŠ¨çš„ï¼åŒå‘çš„æ•°æ®ä¼ è¾“é—®é¢˜å®é™…ä¸Šæ˜¯2ä¸ªå•å‘æ•°æ®ä¼ è¾“é—®é¢˜çš„ç»¼åˆã€‚</p><p>ä½¿ç”¨æœ‰é™çŠ¶æ€æœº(FSM) æ¥æè¿°å‘é€æ–¹å’Œæ¥æ”¶æ–¹</p><p><img src="/2021/04/16/jsjwl03/image-20210418194409229.png" alt="æœ‰é™çŠ¶æ€æœºFSM"></p></blockquote><ul><li><p>RDT1.0   åœ¨å¯é ä¿¡é“ä¸Šçš„å¯é æ•°æ®ä¼ è¾“</p><ul><li><p>ä¸‹å±‚ä¿¡é“æ˜¯å®Œå…¨å¯é çš„</p><ul><li>ä¸å‡ºé”™  æ²¡æœ‰æ¯”ç‰¹å‡ºé”™ å³æ²¡æœ‰æ¯”ç‰¹ç¿»è½¬</li><li>ä¸ä¸¢å¤±  æ²¡æœ‰ä¸¢å¤±</li></ul></li><li><p>å‘é€æ–¹å’Œæ¥æ”¶æ–¹çš„FSM</p><ul><li><p>å‘é€æ–¹å°†æ•°æ®å°è£…ç„¶åå‘é€åˆ°ä¸‹å±‚ä¿¡é“</p></li><li><p>æ¥æ”¶æ–¹ä»ä¸‹å±‚ä¿¡é“æ¥æ”¶æ•°æ®å¹¶è§£å°è£…åä¼ ç»™ä¸Šå±‚</p><p><img src="/2021/04/16/jsjwl03/image-20210418194644193.png" alt="rdt1.0"></p></li></ul></li></ul></li><li><p>RDT2.0   å…·æœ‰æ¯”ç‰¹å·®é”™çš„ä¿¡é“</p><ul><li><p>ä¸‹å±‚ä¿¡é“å¯èƒ½ä¼šå‡ºé”™ï¼šå°†ä¸­çš„æ¯”ç‰¹ç¿»è½¬</p><ul><li>è§£å†³æ–¹æ¡ˆï¼šç”¨æ ¡éªŒå’Œæ¥æ£€æµ‹æ¯”ç‰¹å·®é”™</li></ul></li><li><p>é—®é¢˜ï¼šæ€æ ·ä»å·®é”™ä¸­æ¢å¤ï¼š</p><ul><li>ç¡®è®¤(ACK)ï¼šæ¥æ”¶æ–¹æ˜¾å¼åœ°å‘Šè¯‰å‘é€æ–¹å·²è¢«æ­£ç¡®æ¥æ”¶</li><li>å¦å®šç¡®è®¤(NAK): æ¥æ”¶æ–¹æ˜¾å¼åœ°å‘Šè¯‰å‘é€æ–¹å‘ç”Ÿäº†å·®é”™ï¼Œå‘é€æ–¹æ”¶åˆ°NAKåï¼Œå‘é€æ–¹é‡ä¼ </li></ul></li><li><p>rdt2.0ä¸­çš„æ–°æœºåˆ¶ï¼šé‡‡ç”¨å·®é”™æ§åˆ¶ç¼–ç è¿›è¡Œå·®é”™æ£€æµ‹</p><ul><li><p>å‘é€æ–¹å¢åŠ å·®é”™æ§åˆ¶çš„ç¼–ç åŠŸèƒ½ï¼ŒåŒæ—¶å°†æ•°æ®æš‚æ—¶ç¼“å­˜ï¼ˆä»¥ä¾¿æ£€é”™é‡ä¼ ï¼‰</p><blockquote><p>å‘é€ç«¯åœ¨å‘é€å®Œæ•°æ®æ—¶ï¼Œå¿…é¡»åœ¨å…¶å‘é€ç¼“å­˜ä¸­æš‚æ—¶ä¿ç•™è¿™ä¸ªæ•°æ®çš„å‰¯æœ¬ã€‚è¿™æ ·æ‰èƒ½åœ¨å‡ºå·®é”™æ—¶è¿›è¡Œé‡ä¼ ã€‚åªæœ‰ç¡®è®¤å¯¹æ–¹å·²ç»æ”¶åˆ°è¿™ä¸ªæ•°æ®æ—¶ï¼Œæ‰å¯ä»¥æ¸…é™¤è¿™ä¸ªå‰¯æœ¬ã€‚</p></blockquote></li><li><p>æ¥æ”¶æ–¹éœ€è¦å…·å¤‡è§£ç åŠŸèƒ½ï¼Œä½¿ç”¨ç¼–ç æ¥è¿›è¡Œæ£€é”™</p></li><li><p>æ¥æ”¶æ–¹çš„åé¦ˆï¼šæ§åˆ¶æŠ¥æ–‡ï¼ˆACKï¼ŒNAKï¼‰ï¼šæ¥æ”¶æ–¹â†’å‘é€æ–¹</p></li><li><p>å‘é€æ–¹æ”¶åˆ°åé¦ˆç›¸åº”çš„åŠ¨ä½œï¼Œæ”¶åˆ°ACKå‘é€ä¸‹ä¸€ä¸ªæ•°æ®æˆ–è€…ç»“æŸå¯¹è¯ï¼›æ”¶åˆ°NAKå¯¹ç›¸åº”çš„æ•°æ®è¿›è¡Œé‡ä¼ ã€‚</p><p><img src="/2021/04/16/jsjwl03/image-20210418200541880.png" alt="RDT2.0"></p><p><img src="/2021/04/16/jsjwl03/image-20210418201116156.png" alt="RDT2.0æ— å·®é”™æ—¶"></p><p><img src="/2021/04/16/jsjwl03/image-20210418201142077.png" alt="RDT2.0æœ‰å·®é”™"></p></li></ul></li></ul></li><li><p>RDT2.0çš„è‡´å‘½é”™è¯¯ -&gt;æ”¹è¿›æˆRDT2.1</p><ul><li><p>RDT2.0çš„è‡´å‘½é”™è¯¯ï¼šå¦‚æœACK/NAKä¼ è¾“å‡ºé”™äº†æ€ä¹ˆåŠï¼Ÿ</p><ul><li>å‘é€æ–¹ä¸çŸ¥é“æ¥æ”¶æ–¹å‘é€äº†ä»€ä¹ˆï¼Œä¼ é€’è¿‡æ¥çš„ACK/NAKä¿¡å·å‡ºé”™åæ— æ„ä¹‰äº†ã€‚å‘é€æ–¹å¦‚æœé‡ä¼ ï¼Œå¯èƒ½æ•°æ®é‡å¤ï¼›å¦‚æœä¸é‡ä¼ ï¼Œå¯èƒ½æ­»é”ï¼ˆæˆ–å‡ºé”™ï¼‰ã€‚</li></ul></li><li><p>è§£å†³æ–¹æ¡ˆï¼šå¼•å…¥åºå·æœºåˆ¶ï¼Œè§£å†³é‡å¤é—®é¢˜</p><ul><li>å‘é€æ–¹åœ¨æ¯ä¸ªä¸­åŠ å…¥åºå·ï¼Œå¦‚æœACK/NAKå‡ºé”™ï¼Œå‘é€æ–¹é‡ä¼ å½“å‰ï¼Œæ¥æ”¶æ–¹é€šè¿‡åºå·åˆ¤æ–­åä¸¢å¼ƒé‡å¤ï¼ˆä¸å‘é€ç»™ä¸Šå±‚ï¼‰å¹¶ä¼ é€’å›å»ACKï¼ˆä¸ºäº†è®©å‘é€æ–¹æ¥ç€å‘ä¸‹é¢çš„æ•°æ®ï¼‰</li></ul></li><li><p>åœæ­¢ç­‰å¾…åè®®ï¼ˆstop-and-waitï¼‰ï¼šå‘é€æ–¹å‘é€ä¸€ä¸ªä¹‹åï¼Œç­‰å¾…æ¥æ”¶æ–¹çš„åº”ç­”ä»¥åæ‰ç»§ç»­å‘ä¸‹ä¸€ä¸ªåè®®</p><p><img src="/2021/04/16/jsjwl03/image-20210418202450287.png" alt="RDT2.1  å‘é€æ–¹å¤„ç†å‡ºé”™çš„åè®®"></p><blockquote><p>corrupt(rcvpkt)è¡¨ç¤ºæ¥æ”¶åˆ°çš„ACK/NCKå‡ºé”™ï¼Œåˆ™é‡æ–°å‘é€æ•°æ®ï¼›notcorrupt(rcvpkt)è¡¨ç¤ºæ¥æ”¶åˆ°çš„ACK/NAKæœªå‡ºé”™</p></blockquote><p><img src="/2021/04/16/jsjwl03/image-20210418202547391.png" alt="RDT2.1  æ¥æ”¶æ–¹å¤„ç†å‡ºé”™çš„åè®®"></p><blockquote><p>æ³¨ï¼šæ¥æ”¶æ–¹çš„åºå·è¦å’Œå‘é€æ–¹ä¿æŒä¸€è‡´ï¼Œå‘é€æ–¹ä»0ï¼ˆæˆ–1ï¼‰å¼€å§‹ï¼Œé‚£ä¹ˆæ¥æ”¶æ–¹ä¹Ÿè¦ä»0ï¼ˆæˆ–1ï¼‰å¼€å§‹</p></blockquote><blockquote><p>å…¶ä¸­ï¼Œhas_seq0(rcvpkt)è¡¨ç¤ºæ¥æ”¶åˆ°åºå·ä¸º0çš„ï¼Œhas_seq1(rcvpkt)è¡¨ç¤ºæ¥æ”¶åˆ°åºå·ä¸º1çš„ï¼Œå¦‚æœæ¥æ”¶åˆ°çš„åºå·å’Œæ¥æ”¶æ–¹ç­‰å¾…çš„åºå·ç›¸åŒï¼Œåˆ™è¡¨ç¤ºæ²¡æœ‰å‡ºé”™ï¼›å¦åˆ™è¡¨ç¤ºé‡å¤ä¼ é€ï¼Œæ¥æ”¶æ–¹ä¼šå°†é‡å¤çš„ä¸¢å¼ƒï¼ˆå³ä¸å‘ä¸Šå±‚ä¼ è¾“ï¼‰ï¼Œå¹¶ä¸”ä¼šå‘é€ä¸€ä¸ªACKç»™å‘é€æ–¹ï¼Œä»¥ä¾¿ç»§ç»­ä¸‹ä¸€ä¸ªä¼ è¾“ï¼ŒåŒæ—¶ä½¿å¾—åŒæ–¹åºå·ä¸€è‡´ã€‚</p></blockquote><blockquote><p>å…¶ä¸­ï¼ŒACK/NAKä¼ è¾“éœ€è¦å…ˆæ‰“åŒ…sndpkt=make_pkt(ACK/NAK,chksum)ï¼Œå†è¿›è¡Œä¼ è¾“udt_send(sndpkt)ã€‚è¿™æ˜¯ä¸ºäº†åŠ å…¥æ ¡éªŒå’Œæœºåˆ¶ï¼Œä¿è¯å‘é€æ–¹æ”¶åˆ°æ­£ç¡®çš„ACK/NAK</p></blockquote></li><li><p>RDT2.1çš„è®¨è®º</p><ul><li><p>å‘é€æ–¹ï¼š</p><ul><li>åœ¨ä¸­åŠ å…¥åºåˆ—å·seq # </li><li>ä¸¤ä¸ªåºå·seq. #â€™s (0,1) å°†å¤Ÿç”¨. <ul><li>ä¸€æ¬¡åªå‘é€ä¸€ä¸ªæœªç»ç¡®è®¤çš„ï¼ˆåœæ­¢ç­‰å¾…åè®®ï¼‰</li></ul></li><li>å¿…é¡»æ£€æµ‹ACK/NAKæ˜¯å¦å‡ºé”™ï¼ˆéœ€è¦EDCæ¥æ£€éªŒç¡®è®¤ï¼‰</li><li>çŠ¶æ€æ•°å˜æˆäº†ä¸¤å€<ul><li>å¿…é¡»è®°ä½å½“å‰çš„åºåˆ—å·ä¸º0è¿˜æ˜¯1</li></ul></li></ul></li><li><p>æ¥æ”¶æ–¹ï¼š</p><ul><li><p>å¿…é¡»æ£€æµ‹æ¥æ”¶åˆ°çš„æ˜¯å¦æ˜¯é‡å¤çš„</p><ul><li>çŠ¶æ€æŒ‡ç¤ºæ˜¯å¦0(/1)æ˜¯æ‰€æœŸå¾…çš„åºå·seq #</li></ul></li><li><p>æ³¨æ„ï¼šæ¥æ”¶æ–¹å¹¶ä¸çŸ¥é“å‘é€æ–¹æ˜¯å¦æ­£ç¡®æ”¶åˆ°äº†å…¶ACK/NAK</p><ul><li><p>æ²¡æœ‰å®‰æ’ç¡®è®¤çš„ç¡®è®¤</p><p><img src="/2021/04/16/jsjwl03/image-20210418205915906.png" alt="æ²¡æœ‰å®‰æ’ç¡®è®¤çš„ç¡®è®¤"></p></li></ul></li></ul></li></ul></li></ul></li><li><p>RDT2.2    æ— NAKçš„åè®®  ï¼ˆä¸ºæµæ°´çº¿åšå‡†å¤‡ï¼‰</p><ul><li><p>åŠŸèƒ½åŒrdt2.1ï¼Œä½†åªä½¿ç”¨ACKï¼ˆack è¦ç¼–å·ï¼‰</p></li><li><p>æ¥æ”¶æ–¹å¯¹æœ€åæ­£ç¡®æ¥æ”¶çš„å‘ACKï¼Œä»¥æ›¿ä»£NAK</p><ul><li>æ¥æ”¶æ–¹å¿…é¡»æ˜¾å¼åœ°åŒ…å«è¢«æ­£ç¡®æ¥æ”¶çš„åºå·</li></ul></li><li><p>å½“æ”¶åˆ°é‡å¤çš„ACKï¼ˆduplicate ACK å†—ä½™ACKï¼‰ï¼ˆå¦‚ï¼šå†æ¬¡æ”¶åˆ°ack0ï¼‰æ—¶ï¼Œå‘é€æ–¹ä¸æ”¶åˆ°NAKé‡‡å–ç›¸åŒçš„åŠ¨ä½œï¼šé‡ä¼ å½“å‰</p></li><li><p>ä¸ºåé¢çš„ä¸€æ¬¡å‘é€å¤šä¸ªæ•°æ®å•ä½åšä¸€ä¸ªå‡†å¤‡</p><ul><li>ä¸€æ¬¡èƒ½å¤Ÿå‘é€å¤šä¸ªæ•°æ®</li><li>æ¯ä¸€ä¸ªçš„åº”ç­”éƒ½æœ‰ï¼šACKï¼ŒNACKï¼›éº»çƒ¦</li><li>ä½¿ç”¨å¯¹å‰ä¸€ä¸ªæ•°æ®å•ä½çš„ACKï¼Œä»£æ›¿æœ¬æ•°æ®å•ä½çš„nak</li><li>ç¡®è®¤ä¿¡æ¯å‡å°‘ä¸€åŠï¼Œåè®®å¤„ç†ç®€å•</li></ul><p><img src="/2021/04/16/jsjwl03/image-20210418210919540.png" alt="RDT2.2è¿è¡Œæ–¹å¼"></p><p>â€‹                        <img src="/2021/04/16/jsjwl03/image-20210418211349297.png" alt="RDT2.2  å¦‚æœackå‡ºé”™"></p><blockquote><p>å¦‚æœackå‡ºé”™ï¼Œå‘é€æ–¹ä¼šå°†å†æ¬¡å‘é€ï¼Œæ¥å—æ–¹æ”¶åˆ°ä»¥åä¸æœŸæœ›çš„åºå·å¯¹æ¯”ç„¶åè¿›è¡Œå¤„ç†ï¼ˆåŒRDT2.1)ã€‚</p></blockquote></li><li><p><img src="/2021/04/16/jsjwl03/image-20210418211633987.png" alt="RDT2.2"></p></li></ul></li><li><p>rdt3.0ï¼šå…·æœ‰æ¯”ç‰¹å·®é”™å’Œä¸¢å¤±çš„ä¿¡é“</p><ul><li><p>æ–°çš„æƒ…å†µï¼šä¸‹å±‚ä¿¡é“å¯èƒ½ä¼šä¸¢å¤±ï¼ˆæ•°æ®æˆ–ACKï¼‰ï¼Œè¿™å°†å¯¼è‡´æ­»é”ç°è±¡</p></li><li><p>è§£å†³æ–¹æ³•ï¼šå¼•å…¥æ–°çš„æœºåˆ¶ï¼šè¶…æ—¶é‡ä¼ </p><blockquote><p>timeoutçš„æ—¶é—´è®¾ç½®å’Œä¼ è¾“çš„å¾€è¿”æ—¶é—´æœ‰å…³ã€‚é“¾è·¯å±‚çš„å¾€è¿”æ—¶é—´åˆ†å¸ƒæ¯”è¾ƒé›†ä¸­ï¼Œæ‰€ä»¥é“¾è·¯å±‚çš„timeoutæ—¶é—´ä¸€èˆ¬æ˜¯ç¡®å®šçš„ã€‚è€Œä¼ è¾“å±‚timeoutä¸ç½‘ç»œæƒ…å†µç­‰å› ç´ æœ‰å…³ï¼Œåˆ†å¸ƒå¯èƒ½æ¯”è¾ƒåˆ†æ•£ï¼Œæ‰€ä»¥ä¼ è¾“å±‚timeoutæ—¶é—´æ˜¯é€‚åº”å¼çš„ã€åŠ¨æ€çš„ã€‚</p></blockquote><ul><li>å‘é€æ–¹è¶…æ—¶é‡ä¼ ï¼šå‘é€æ–¹ç­‰å¾…ACKä¸€æ®µåˆç†çš„æ—¶é—´ï¼Œå¦‚æœåˆ°æ—¶æ²¡æœ‰æ”¶åˆ°ACKï¼Œåˆ™è¿›è¡Œé‡ä¼ </li><li>é—®é¢˜ï¼šå¦‚æœï¼ˆæˆ–ACKï¼‰åªæ˜¯è¢«å»¶è¿Ÿäº†æˆ–è€…ACKä¸¢å¤±äº†ï¼Œé‚£ä¹ˆé‡ä¼ å°†ä¼šå¯¼è‡´æ•°æ®é‡å¤ã€‚<ul><li>ä¸è¿‡è¿™ä¸ªé—®é¢˜å¯ä»¥åˆ©ç”¨å‰é¢çš„åºåˆ—å·è¿›è¡Œå¤„ç†</li><li>æ‰€ä»¥æ¥æ”¶æ–¹å¿…é¡»æŒ‡æ˜è¢«æ­£ç¡®æ¥æ”¶çš„åºåˆ—å·</li></ul></li><li>è¶…æ—¶é‡ä¼ æœºåˆ¶éœ€è¦ä¸€ä¸ªå€’è®¡æ•°å®šæ—¶å™¨</li></ul><p><img src="/2021/04/16/jsjwl03/image-20210419083256752.png" alt="RDT3.0  å‘é€æ–¹"></p><blockquote><p>å·¦ä¸Šè§’å’Œå³ä¸‹è§’rdt_rcv(rcvpkt)æ˜¯ä¸ºäº†é˜²æ­¢åœ¨å‘é€æ–¹ç­‰å¾…ä¸Šå±‚è°ƒç”¨æ—¶ï¼Œæœ‰å»¶è¿Ÿçš„ACKè¢«ä¼ æ¥å›æ¥ï¼Œè¿™æ—¶å€™å‘é€æ–¹ä¼šä¸¢å¼ƒè¿™ä¸ªACKä¸åšä»»ä½•åŠ¨ä½œ</p></blockquote><p><img src="/2021/04/16/jsjwl03/image-20210419083409132.png" alt="RDT3.0çš„è¿è¡Œ"></p><p><img src="/2021/04/16/jsjwl03/image-20210419084157276.png" alt="RDT3.0çš„è¿è¡Œ"></p><blockquote><p>ï¼ˆdï¼‰çš„æƒ…å†µæ˜¯è¿‡æ—©è¶…æ—¶ï¼ˆå»¶è¿Ÿçš„ACKï¼‰ï¼Œå³è¶…æ—¶æ—¶é—´timeoutè®¾ç½®åœ°ä¸åˆç†ï¼Œè™½ç„¶å› ä¸ºæœ‰åºå·æœºåˆ¶RDTä¹Ÿèƒ½æ­£å¸¸å·¥ä½œï¼Œä½†æ˜¯æœ‰ä¸€åŠçš„å’Œç¡®å®šæ˜¯é‡å¤çš„ï¼Œæ•ˆç‡è¾ƒä½ã€‚</p></blockquote></li><li><p>RDT3.0çš„æ€§èƒ½</p><ul><li><p>rdt3.0å¯ä»¥å·¥ä½œï¼Œä½†é“¾è·¯å®¹é‡æ¯”è¾ƒå¤§çš„æƒ…å†µä¸‹ï¼Œæ€§èƒ½å¾ˆå·®</p><ul><li>é“¾è·¯å®¹é‡æ¯”è¾ƒå¤§ï¼Œä¸€æ¬¡å‘ä¸€ä¸ªPDU çš„ä¸èƒ½å¤Ÿå……åˆ†åˆ©ç”¨é“¾è·¯çš„ä¼ è¾“èƒ½åŠ›</li></ul><p><img src="/2021/04/16/jsjwl03/image-20210419084555631.png" alt="RDT3.0åœ¨é“¾è·¯å®¹é‡è¾ƒå¤§æ—¶æ€§èƒ½å¾ˆå·®"></p><blockquote><p>ä¿¡é“åˆ©ç”¨ç‡å¾ˆä½   </p></blockquote><p><img src="/2021/04/16/jsjwl03/image-20210419093235656.png" alt="RDT3.0çš„åœç­‰æ“ä½œå¯¼è‡´ä¿¡é“åˆ©ç”¨ç‡å¾ˆä½"></p></li></ul></li></ul></li><li><p>æµæ°´çº¿åè®®</p><p><img src="/2021/04/16/jsjwl03/image-20210419093417023.png" alt="æµæ°´çº¿æé«˜é“¾è·¯åˆ©ç”¨ç‡"></p><blockquote><p>æœ‰çš„å±€åŸŸç½‘ä¸­é“¾è·¯å¸¦å®½å¾ˆå°ï¼Œæ²¡æœ‰å¿…è¦ä½¿ç”¨æµæ°´çº¿åè®®</p></blockquote><p>æµæ°´çº¿ï¼šå…è®¸å‘é€æ–¹åœ¨æœªå¾—åˆ°å¯¹æ–¹ç¡®è®¤çš„æƒ…å†µä¸‹ä¸€æ¬¡å‘é€å¤šä¸ª</p><ul><li><p>å¿…é¡»å¢åŠ åºå·çš„èŒƒå›´:ç”¨å¤šä¸ªbitè¡¨ç¤ºçš„åºå·</p></li><li><p>åœ¨å‘é€æ–¹/æ¥æ”¶æ–¹è¦æœ‰ç¼“å†²åŒº</p><ul><li><p>å‘é€æ–¹ç¼“å†²ï¼šå­˜æ”¾æœªå¾—åˆ°ç¡®è®¤ï¼Œå¯èƒ½éœ€è¦é‡ä¼ çš„ï¼›</p></li><li><p>æ¥æ”¶æ–¹ç¼“å­˜ï¼šä¸Šå±‚ç”¨æˆ·å–ç”¨æ•°æ®çš„é€Ÿç‡â‰ æ¥æ”¶åˆ°çš„æ•°æ®é€Ÿç‡æ¥æ”¶åˆ°çš„æ•°æ®ï¼Œéœ€è¦æš‚å­˜ï¼›åŒæ—¶å¯èƒ½ä¹±åºï¼Œéœ€è¦è¿›è¡Œæ’åºäº¤ä»˜ï¼ˆå¯é ï¼‰</p><p><img src="/2021/04/16/jsjwl03/image-20210419094003599.png" alt="æµæ°´çº¿æ–¹å¼"></p><ul><li>ä¸¤ç§é€šç”¨çš„æµæ°´çº¿åè®®ï¼šå›é€€Næ­¥(GBN)å’Œé€‰æ‹©é‡ä¼ (SR)<ul><li>stop-and-wait   sw(å‘é€çª—å£)=1   rw(æ¥æ”¶çª—å£)=1 </li><li>GBN     sw&gt;1   rw=1</li><li>SR        sw&gt;1   rw&gt;1</li></ul></li></ul></li></ul></li></ul></li><li><p>é€šç”¨ï¼šæ»‘åŠ¨çª—å£ï¼ˆslide windowï¼‰åè®®</p><ul><li><p>å‘é€ç¼“å†²åŒº</p><ul><li>å½¢å¼ï¼šå†…å­˜ä¸­çš„ä¸€ä¸ªåŒºåŸŸï¼Œè½å…¥ç¼“å†²åŒºçš„å¯ä»¥å‘é€</li><li>åŠŸèƒ½ï¼šç”¨äºå­˜æ”¾å·²å‘é€ï¼Œä½†æ˜¯æ²¡æœ‰å¾—åˆ°ç¡®è®¤çš„</li><li>å¿…è¦æ€§ï¼šéœ€è¦é‡å‘æ—¶å¯ç”¨</li></ul></li><li><p>å‘é€ç¼“å†²åŒºçš„å¤§å°ï¼šä¸€æ¬¡æœ€å¤šå¯ä»¥å‘é€å¤šå°‘ä¸ªæœªç»ç¡®è®¤çš„</p><ul><li>åœæ­¢ç­‰å¾…åè®®å‘é€ç¼“å†²åŒº=1</li><li>æµæ°´çº¿åè®®å‘é€ç¼“å†²åŒº&gt;1ï¼Œåˆç†çš„å€¼ï¼Œä¸èƒ½å¾ˆå¤§ï¼Œé“¾è·¯åˆ©ç”¨ç‡ä¸èƒ½å¤Ÿè¶…100%</li></ul></li><li><p>å‘é€ç¼“å†²åŒºä¸­çš„</p><ul><li>æœªå‘é€çš„ï¼šè½å…¥å‘é€ç¼“å†²åŒºçš„ï¼Œå¯ä»¥è¿ç»­å‘é€å‡ºå»ï¼›</li><li>å·²ç»å‘é€å‡ºå»çš„ã€ç­‰å¾…å¯¹æ–¹ç¡®è®¤çš„ï¼šå‘é€ç¼“å†²åŒºçš„åªæœ‰å¾—åˆ°ç¡®è®¤æ‰èƒ½åˆ é™¤<ul><li>å·²ç»å‘é€å‡ºå»çš„ã€ç­‰å¾…å¯¹æ–¹ç¡®è®¤çš„çš„æœ€å¤§æ•°é‡ç§°ä¹‹ä¸ºå‘é€çª—å£å¤§å°</li></ul></li></ul></li><li><p>å‘é€çª—å£ï¼šå‘é€ç¼“å†²åŒºå†…å®¹çš„ä¸€ä¸ªèŒƒå›´ï¼Œå³é‚£äº›å·²å‘é€ä½†æ˜¯æœªç»ç¡®è®¤çš„åºå·æ„æˆçš„ç©ºé—´</p><ul><li><p>å‘é€çª—å£çš„æœ€å¤§å€¼&lt;=å‘é€ç¼“å†²åŒºçš„å€¼</p></li><li><p>ä¸€å¼€å§‹ï¼šæ²¡æœ‰å‘é€ä»»ä½•ä¸€ä¸ª</p><ul><li>åæ²¿=å‰æ²¿</li><li>ä¹‹é—´ä¸ºå‘é€çª—å£çš„å°ºå¯¸=0</li></ul></li><li><p>æ¯å‘é€ä¸€ä¸ªï¼Œå‰æ²¿å‰ç§»ä¸€ä¸ªå•ä½</p><ul><li><p>å‘é€çª—å£å‰æ²¿ç§»åŠ¨çš„æé™ï¼šä¸èƒ½å¤Ÿè¶…è¿‡å‘é€ç¼“å†²åŒº</p><img src="/2021/04/16/jsjwl03/image-20210419100050976.png" alt="å‘é€çª—å£" style="zoom:85%;"><p><img src="/2021/04/16/jsjwl03/image-20210419100109447.png" alt="å‘é€çª—å£å¤§å°ä¸èƒ½è¶…è¿‡å‘é€ç¼“å†²åŒº"></p></li><li><p>ç”¨ç›¸å¯¹è¡¨ç¤ºæ–¹æ³•æ¥è¡¨ç¤ºå‘é€çª—å£æ»‘åŠ¨è¿‡ç¨‹</p><p><img src="/2021/04/16/jsjwl03/image-20210419100425909.png" alt="ç›¸å¯¹è¡¨ç¤ºæ³•è¡¨ç¤ºçª—å£æ»‘åŠ¨"></p><blockquote><p>çœŸæ­£æ»‘åŠ¨åº”è¯¥æ˜¯è¿›è¡Œå·¦æ»‘ï¼Œç¼“å†²åŒºä¸åŠ¨ã€‚ä¸ºäº†æ–¹ä¾¿ï¼Œé‡‡ç”¨ä¸åŠ¨ï¼Œç¼“å†²åŒºå³æ»‘æ¥è¡¨ç¤ºç›¸å¯¹æ»‘åŠ¨ã€‚</p></blockquote></li></ul></li><li><p>æ¯æ”¶åˆ°ä¸€ä¸ªç¡®è®¤ACKï¼Œåæ²¿å‰ç§»ä¸€ä¸ªå•ä½</p><ul><li><p>æ¡ä»¶ï¼šæ”¶åˆ°è€çš„ç¡®è®¤</p></li><li><p>ç»“æœï¼šå‘é€ç¼“å†²åŒºä¸­å»é™¤æ‰è€çš„ç¼“å†²ï¼Œæ–°çš„å¯ä»¥åŠ å…¥è¿›æ¥</p></li><li><p>ç§»åŠ¨æé™ï¼šåæ²¿ä¸èƒ½å¤Ÿè¶…è¿‡å‰æ²¿</p><p><img src="/2021/04/16/jsjwl03/image-20210419101004094.png" alt="åæ²¿çš„ç§»åŠ¨"></p></li></ul></li><li><p>æ»‘åŠ¨çª—å£æŠ€æœ¯çš„å‘é€çª—å£</p><p><img src="/2021/04/16/jsjwl03/image-20210419101202950.png" alt="æ»‘åŠ¨çª—å£æŠ€æœ¯çš„å‘é€çª—å£"></p></li></ul></li><li><p>æ¥æ”¶çª—å£ï¼ˆreceiving windowï¼‰= æ¥æ”¶ç¼“å†²åŒº</p><ul><li><p>æ¥æ”¶çª—å£ç”¨äºæ§åˆ¶å“ªäº›å¯ä»¥æ¥æ”¶ï¼›</p><ul><li>åªæœ‰æ”¶åˆ°çš„çš„åºå·è½å…¥æ¥æ”¶çª—å£å†…ï¼Œè¿™ä¸ªæ‰å…è®¸æ¥æ”¶</li><li>è‹¥åºå·åœ¨æ¥æ”¶çª—å£ä¹‹å¤–ï¼Œåˆ™ä¸¢å¼ƒè¿™ä¸ªï¼›</li></ul></li><li><p>æ¥æ”¶çª—å£å°ºå¯¸Wr=1ï¼Œåˆ™åªèƒ½é¡ºåºæ¥æ”¶ï¼›     â€“ GBN</p></li><li><p>æ¥æ”¶çª—å£å°ºå¯¸Wr&gt;1 ï¼Œåˆ™å¯ä»¥ä¹±åºæ¥æ”¶        â€“ SR</p><ul><li>ä½†æäº¤ç»™ä¸Šå±‚çš„ï¼Œè¦æŒ‰åºä¼ ç»™ä¸Šå±‚ï¼Œæ‰€ä»¥æ¥å—çª—å£ä¸æ˜¯æ”¶åˆ°ä¸€ä¸ªå°±å³ç§»ä¸€æ¬¡ï¼Œæœ‰å¯èƒ½ä¸ç§»åŠ¨ï¼Œæœ‰å¯èƒ½ä¸€æ¬¡ç§»åŠ¨å¤šä¸ªçª—å£</li></ul></li><li><p>ä¾‹å­ï¼šWrï¼1ï¼Œåœ¨0çš„ä½ç½®ï¼›åªæœ‰0å·å¯ä»¥æ¥æ”¶ï¼›å‘å‰æ»‘åŠ¨ä¸€ä¸ªï¼Œç½©åœ¨1çš„ä½ç½®ï¼Œå¦‚æœæ¥äº†ç¬¬2å·ï¼Œåˆ™ä¸¢å¼ƒï¼›</p><p><img src="/2021/04/16/jsjwl03/image-20210419101516246.png" alt="æ¥æ”¶çª—å£"></p></li><li><p>æ¥æ”¶çª—å£çš„æ»‘åŠ¨å’Œå‘é€ç¡®è®¤</p><ul><li><p>å‘é€ç¡®è®¤ï¼š</p><ul><li><p>æ¥æ”¶çª—å£å°ºå¯¸=1 ï¼› å‘é€è¿ç»­æ”¶åˆ°çš„æœ€å¤§çš„ç¡®è®¤ï¼ˆç´¯è®¡ç¡®è®¤ï¼‰</p></li><li><p>æ¥æ”¶çª—å£å°ºå¯¸&gt;1 ï¼› æ”¶åˆ°ï¼Œå‘é€é‚£ä¸ªçš„ç¡®è®¤ï¼ˆéç´¯è®¡ç¡®è®¤ï¼‰</p><ul><li>ä½åºå·çš„åˆ°æ¥ï¼Œæ¥æ”¶çª—å£æ»‘åŠ¨ï¼›</li><li>é«˜åºå·ä¹±åºåˆ°ï¼Œç¼“å­˜ä½†ä¸äº¤ä»˜ï¼ˆå› ä¸ºè¦å®ç°rdtä¸å…è®¸å¤±åºï¼‰ï¼Œä¸æ»‘åŠ¨</li></ul><p><img src="/2021/04/16/jsjwl03/image-20210419102556866.png" alt="éç´¯è®¡ç¡®è®¤çš„æ»‘åŠ¨"></p></li></ul></li></ul></li></ul></li><li><p>ä¸¤ä¸ªçª—å£äº’åŠ¨</p><ul><li>æ­£å¸¸æƒ…å†µä¸‹ä¸¤ä¸ªçª—å£äº’åŠ¨</li></ul><p><img src="/2021/04/16/jsjwl03/image-20210419102740204.png" alt="æ­£å¸¸æƒ…å†µä¸‹ä¸¤ä¸ªçª—å£çš„äº’åŠ¨"></p><ul><li><p>å¼‚å¸¸æƒ…å†µä¸‹GBNçš„ä¸¤çª—å£äº’åŠ¨</p><p><img src="/2021/04/16/jsjwl03/image-20210419102912491.png" alt="å¼‚å¸¸æƒ…å†µä¸‹GBNçš„ä¸¤çª—å£äº’åŠ¨"></p><blockquote><p>æ¥æ”¶æ–¹æ¥æ”¶åˆ°ä¸€ä¸ªä¹±åºçš„åï¼Œä¼šå°†è¿™ä¸ªä¸¢å¼ƒï¼Œå¹¶å‘é€æœ€æ–°ä¸€ä¸ªå·²è¢«ç¡®è®¤è¿‡çš„è€çš„ç¡®è®¤ç»™å‘é€æ–¹ã€‚</p><p>GBNä¸­å‘é€æ–¹åªæœ‰ä¸€ä¸ªè®¡æ—¶å™¨ï¼Œå³ä¸ºæœ€æ—©ç­‰å¾…ç¡®è®¤çš„è¿›è¡Œè®¡æ—¶ã€‚è¶…æ—¶æ—¶ï¼Œå°†ä¼šå‘é€åºå·å¤§äºç­‰äºè¿™ä¸ªçš„æ‰€æœ‰çš„ã€‚</p><p><font color="red">å‘é€æ–¹æ”¶åˆ°å·²è¢«ç¡®è®¤è¿‡çš„è€çš„ç¡®è®¤åï¼Œä¸ä¼šåšä»»ä½•åŠ¨ä½œï¼Œç›´åˆ°æœ€æ—©ç­‰å¾…ç¡®è®¤çš„è®¡æ—¶è¶…æ—¶è§¦å‘è¶…æ—¶é‡å‘æœºåˆ¶ï¼Œ</font>ç„¶åå°†å‘é€çª—å£ä¸­çš„å³æ‰€æœ‰çš„æœªç¡®è®¤è¿‡çš„ä¾æ¬¡é‡æ–°å‘é€ã€‚ï¼ˆå› ä¸ºè™½ç„¶å‘é€æ–¹å¯èƒ½æœ‰çš„ä¹‹å‰å‘é€è¿‡äº†ï¼Œä½†æ˜¯è¿™äº›è¢«æ¥æ”¶æ–¹æ¥æ”¶æ—¶å¯èƒ½è¿˜æ˜¯ä¹±åºçš„ã€‚ï¼‰</p></blockquote></li><li><p>å¼‚å¸¸æƒ…å†µä¸‹SRçš„ä¸¤çª—å£äº’åŠ¨</p><p><img src="/2021/04/16/jsjwl03/image-20210419102947500.png" alt="å¼‚å¸¸æƒ…å†µä¸‹SRçš„ä¸¤çª—å£äº’åŠ¨"></p><blockquote><p>æ¥æ”¶æ–¹æ”¶åˆ°ä¹±åºçš„ï¼ˆåªè¦å®ƒçš„åºå·åœ¨æ¥æ”¶çª—å£èŒƒå›´å†…ï¼‰ä»ä¼šæ¥æ”¶ï¼Œç„¶åå‘é€ç»™å‘é€æ–¹ç›¸åº”åºå·çš„ACKç¡®å®šã€‚å‘é€æ–¹æ”¶åˆ°è¿™ä¸ªç¡®è®¤å°±ä¼šå°†è¿™ä¸ªå¯¹åº”çš„è®¡æ—¶å™¨å…³é—­ã€‚</p><p>ä¾‹å¦‚å‘é€æ–¹å‘é€äº†1ï¼Œ2ï¼Œ3ä¸‰ä¸ªåºå·çš„ï¼Œä¼šå¯¹åº”å¯åŠ¨è¿™ä¸‰ä¸ªçš„è®¡æ—¶å™¨ï¼Œæ¥å—æ–¹å…ˆæ”¶åˆ°äº†1ï¼Œ3ï¼Œæ¥æ”¶æ–¹ä¼šæ¥æ”¶è¿™ä¸¤å¹¶å‘é€å¯¹åº”çš„ACKç»™å‘é€æ–¹ï¼Œä½†åªä¼šå°†1ä¼ ç»™ä¸Šå±‚ï¼Œè€Œä¸ä¼šä¼ 3ã€‚ç„¶åå‘é€æ–¹çš„å‘é€ç¼“å†²åŒºå’Œçª—å£ä¹Ÿåªä¼šç§»åŠ¨ä¸€ä¸ªå•ä½å°†1ç§»é™¤ï¼ˆå› ä¸º2è¿˜æ²¡æœ‰ç¡®å®šï¼‰ã€‚å¦‚æœç›´åˆ°è®¡æ—¶å™¨è¶…æ—¶ï¼Œæ¥æ”¶æ–¹è¿˜æœªæ”¶åˆ°2ï¼Œé‚£ä¹ˆå‘é€æ–¹å°†é‡æ–°å‘é€2ï¼Œç›´åˆ°æ¥æ”¶æ–¹æ”¶åˆ°ACK2ã€‚æ¥æ”¶æ–¹ä¼šå°†2ï¼Œ3é¡ºåºä¼ é€’ç»™ä¸Šå±‚å¹¶å‘é€ACK2ç»™å‘é€æ–¹ï¼Œå‘é€æ–¹æ‰ä¼šç»ˆæ­¢2çš„è®¡æ—¶å™¨å¹¶ä¸”å‘é€çª—å£æ‰ä¼šæ»‘åŠ¨åˆ°2ï¼Œ3ç¦»å¼€çª—å£çš„ä½ç½®ã€‚</p></blockquote></li></ul></li><li><p>GBNåè®®å’ŒSRåè®®çš„å¼‚åŒ</p><ul><li>ç›¸åŒä¹‹å¤„<ul><li>å‘é€çª—å£&gt;1ï¼Œä¸€æ¬¡èƒ½å¤Ÿå‘é€å¤šä¸ªæœªç»ç¡®è®¤çš„</li></ul></li><li>ä¸åŒä¹‹å¤„<ul><li>GBNçš„æ¥æ”¶çª—å£=1<ul><li>æ¥å—ç«¯åªèƒ½æŒ‰é¡ºåºæ¥æ”¶</li><li>å‘é€ç«¯ä»è¡¨ç°æ¥çœ‹ï¼Œä¸€æ—¦ä¸€ä¸ªæ²¡æœ‰å‘æˆåŠŸï¼Œå¦‚ï¼š0ã€1ã€2ã€3ã€4ï¼Œå¦‚æœ1æœªæˆåŠŸï¼Œ234å³ä½¿å‘é€å‡ºå»äº†ï¼Œä»è¦è¿”å›1é‡æ–°å¼€å§‹ä»1çš„å‘é€ï¼Œå³GB1ã€‚</li></ul></li><li>SRçš„æ¥æ”¶çª—å£&gt;1<ul><li>æ¥æ”¶ç«¯å¯ä»¥ä¹±åºæ¥æ”¶</li><li>å‘é€ç«¯å‘é€0ã€1ã€2ã€3ã€4ï¼Œå³ä½¿1æœªå‘é€æˆåŠŸè¶…æ—¶äº†ï¼Œ2ã€3ã€4å·²å‘é€å°±ä¸éœ€è¦é‡ä¼ ï¼Œåªéœ€è¦é€‰æ‹©1é‡æ–°å‘é€å³å¯</li></ul></li></ul></li></ul></li><li><p>æµæ°´çº¿åè®®ï¼šæ€»ç»“</p><ul><li>Go-back-N:<ul><li>å‘é€ç«¯æœ€å¤šåœ¨æµæ°´çº¿ä¸­æœ‰nä¸ªæœªç¡®è®¤çš„åˆ†ç»„</li><li>æ¥æ”¶ç«¯åªæ˜¯å‘é€ç´¯è®¡å‹ç¡®è®¤cumulative ack<ul><li>æ¥æ”¶ç«¯å¦‚æœå‘ç°gapï¼Œä¸ç¡®è®¤æ–°åˆ°æ¥çš„åˆ†ç»„</li></ul></li><li>å‘é€ç«¯æ‹¥æœ‰å¯¹æœ€è€çš„æœªç¡®è®¤åˆ†ç»„çš„å®šæ—¶å™¨<ul><li>åªéœ€è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨</li><li>å½“å®šæ—¶å™¨åˆ°æ—¶æ—¶ï¼Œé‡ä¼ æ‰€æœ‰æœªç¡®è®¤åˆ†ç»„</li></ul></li></ul></li><li>Selective Repeat:<ul><li>å‘é€ç«¯æœ€å¤šåœ¨æµæ°´çº¿ä¸­æœ‰nä¸ªæœªç¡®è®¤çš„åˆ†ç»„</li><li>æ¥æ”¶æ–¹å¯¹æ¯ä¸ªåˆ°æ¥çš„åˆ†ç»„å•ç‹¬ç¡®è®¤individual ackï¼ˆéç´¯è®¡ç¡®è®¤ï¼‰</li><li>å‘é€æ–¹ä¸ºæ¯ä¸ªæœªç¡®è®¤çš„åˆ†ç»„ä¿æŒä¸€ä¸ªå®šæ—¶å™¨<ul><li>å½“è¶…æ—¶å®šæ—¶å™¨åˆ°æ—¶ï¼Œåªæ˜¯é‡å‘åˆ°æ—¶çš„æœªç¡®è®¤åˆ†ç»„</li></ul></li></ul></li></ul></li></ul></li><li><p>GBN</p><ul><li><p>å‘é€æ–¹æ‰©å±•çš„FSM</p><p><img src="/2021/04/16/jsjwl03/image-20210419135257158.png" alt="GBNå‘é€æ–¹æ‰©å±•çš„FSM"></p><blockquote><p>å°†åŸºåºå·ï¼ˆbaseï¼‰ å®šä¹‰ä¸ºæœ€æ—©çš„æœªç¡®è®¤åˆ†ç»„çš„åºå·ï¼Œå°†ä¸‹ä¸€ä¸ªåºå·ï¼ˆnextseqnumï¼‰ å®šä¹‰ä¸ºæœ€å°çš„æœªä½¿ç”¨çš„åºå·ï¼ˆå³ä¸‹ä¸€ä¸ªå¾…å‘åˆ†ç»„çš„åºå·ã€‚ï¼‰</p></blockquote></li><li><p>æ¥æ”¶æ–¹æ‰©å±•çš„FSM</p><p><img src="/2021/04/16/jsjwl03/image-20210419135339216.png" alt="æ¥æ”¶æ–¹æ‰©å±•çš„FSM"></p><ul><li>åªå‘é€ACKï¼šå¯¹é¡ºåºæ¥æ”¶çš„æœ€é«˜åºå·çš„åˆ†ç»„<ul><li>å¯èƒ½ä¼šäº§ç”Ÿé‡å¤çš„ACK</li><li>åªéœ€è®°ä½expectedseqnumï¼›æ¥æ”¶çª—å£=1<ul><li>åªä¸€ä¸ªå˜é‡å°±å¯ä»¥è¡¨ç¤ºæ¥æ”¶çª—å£</li></ul></li></ul></li><li>å¯¹ä¹±åºçš„åˆ†ç»„<ul><li>ä¸¢å¼ƒï¼ˆä¸ç¼“å­˜ï¼‰-&gt;åœ¨æ¥æ”¶æ–¹ä¸è¢«ç¼“å­˜</li><li>å¯¹é¡ºåºæ¥æ”¶çš„æœ€é«˜åºå·çš„åˆ†ç»„è¿›è¡Œç¡®å®š-ç´¯è®¡ç¡®è®¤</li></ul></li></ul></li><li><p> è¿è¡Œä¸­çš„GBN<img src="/2021/04/16/jsjwl03/image-20210419140517502.png" alt="è¿è¡Œä¸­çš„GBN"></p></li></ul></li><li><p>é€‰æ‹©é‡ä¼ SR</p><ul><li><p>æ¥æ”¶æ–¹å¯¹æ¯ä¸ªæ­£ç¡®æ¥æ”¶çš„åˆ†ç»„ï¼Œåˆ†åˆ«å‘é€ACK(n)ï¼ˆéç´¯ç§¯ç¡®è®¤ï¼‰</p><ul><li>æ¥æ”¶çª—å£&gt;1ï¼Œå¯ä»¥ç¼“å­˜ä¹±åºçš„åˆ†ç»„</li><li>æœ€ç»ˆå°†åˆ†ç»„æŒ‰é¡ºåºäº¤ä»˜ç»™ä¸Šå±‚</li></ul></li><li><p>å‘é€æ–¹åªå¯¹é‚£äº›æ²¡æœ‰æ”¶åˆ°ACKçš„åˆ†ç»„è¿›è¡Œé‡å‘-é€‰æ‹©æ€§é‡å‘</p><ul><li>å‘é€æ–¹ä¸ºæ¯ä¸ªæœªç¡®è®¤çš„åˆ†ç»„è®¾å®šä¸€ä¸ªå®šæ—¶å™¨</li></ul></li><li><p>å‘é€çª—å£çš„æœ€å¤§å€¼ï¼ˆå‘é€ç¼“å†²åŒºï¼‰é™åˆ¶å‘é€æœªç¡®è®¤åˆ†ç»„çš„ä¸ªæ•°</p></li><li><p>å‘é€æ–¹</p><ul><li>ä»ä¸Šå±‚æ¥æ”¶æ•°æ®ï¼š<ul><li>å¦‚æœä¸‹ä¸€ä¸ªå¯ç”¨äºè¯¥åˆ†ç»„çš„åºå·å¯åœ¨å‘é€çª—å£ä¸­ï¼Œåˆ™å‘é€</li></ul></li><li>timeout(n):<ul><li>é‡æ–°å‘é€åˆ†ç»„nï¼Œé‡æ–°è®¾å®šè¿™ä¸ªåˆ†ç»„çš„å®šæ—¶å™¨</li></ul></li><li>ACK(n) in [sendbase,sendbase+N]:<ul><li>å°†åˆ†ç»„næ ‡è®°ä¸ºå·²æ¥æ”¶</li><li>å¦‚nä¸ºæœ€å°æœªç¡®è®¤çš„åˆ†ç»„åºå·ï¼Œå°†baseç§»åˆ°ä¸‹ä¸€ä¸ªæœªç¡®è®¤åºå·</li></ul></li></ul></li><li><p>æ¥æ”¶æ–¹</p><ul><li>åˆ†ç»„n [rcvbase, rcvbase+N-1]<ul><li>å‘é€ACK(n)</li><li>ä¹±åºï¼šç¼“å­˜</li><li>æœ‰åºï¼šè¯¥åˆ†ç»„åŠä»¥å‰ç¼“å­˜çš„åºå·è¿ç»­çš„åˆ†ç»„äº¤ä»˜ç»™ä¸Šå±‚ï¼Œç„¶åå°†çª—å£ç§»åˆ°ä¸‹ä¸€ä¸ªä»æœªè¢«æ¥æ”¶çš„åˆ†ç»„</li></ul></li><li>åˆ†ç»„n [rcvbase-N, rcvbase-1]<ul><li>ACK(n)</li></ul></li><li>å…¶å®ƒï¼š<ul><li>å¿½ç•¥è¯¥åˆ†ç»„</li></ul></li></ul></li><li><p>SRè¿è¡Œ</p><p><img src="/2021/04/16/jsjwl03/image-20210419142220547.png" alt="SRè¿è¡Œ"></p></li></ul></li><li><p>å¯¹æ¯”GBNå’ŒSR</p><table><thead><tr><th></th><th>GBN</th><th>SR</th></tr></thead><tbody><tr><td>ä¼˜ç‚¹</td><td>ç®€å•ï¼Œæ‰€éœ€èµ„æºå°‘ï¼ˆæ¥æ”¶æ–¹ä¸€ä¸ªç¼“å†²å•å…ƒï¼‰</td><td>å‡ºé”™æ—¶ï¼Œé‡ä¼ ä¸€ä¸ªä»£ä»·å°</td></tr><tr><td>ç¼ºç‚¹</td><td>ä¸€æ—¦å‡ºé”™ï¼Œå›é€€Næ­¥ä»£ä»·å¤§</td><td>å¤æ‚ï¼Œæ‰€éœ€è¦èµ„æºå¤šï¼ˆæ¥æ”¶æ–¹å¤šä¸ªç¼“å­˜å•å…ƒï¼‰</td></tr></tbody></table><ul><li>é€‚ç”¨èŒƒå›´<ul><li>å‡ºé”™ç‡ä½ï¼šæ¯”è¾ƒé€‚åˆGBNï¼Œå‡ºé”™éå¸¸ç½•è§ï¼Œæ²¡æœ‰å¿…è¦ç”¨å¤æ‚çš„SRï¼Œä¸ºç½•è§çš„äº‹ä»¶åšæ—¥å¸¸çš„å‡†å¤‡å’Œå¤æ‚å¤„ç†</li><li>é“¾è·¯å®¹é‡å¤§ï¼ˆå»¶è¿Ÿå¤§ã€å¸¦å®½å¤§ï¼‰ï¼šæ¯”è¾ƒé€‚åˆSRè€Œä¸æ˜¯GBNï¼Œä¸€ç‚¹å‡ºé”™ä»£ä»·å¤ªå¤§</li></ul></li></ul></li><li><p>çª—å£çš„æœ€å¤§å°ºå¯¸</p><ul><li><p>å¦‚æœç”¨nä¸ªbitæ¥æ ‡è¯†åºå·ï¼Œåˆ™GBNçš„æœ€å¤§å‘é€çª—å£ï¼š2<sup>n</sup>-1        SRçš„æœ€å¤§å‘é€çª—å£ï¼š2<sup>n-1</sup></p></li><li><p>ä¾‹å¦‚ï¼šn=2; åºåˆ—å·ï¼š0, 1, 2, 3</p></li><li><p>GBN =3        SR=2</p></li><li><p>SRçš„ä¾‹å­ï¼š</p></li><li><p>æ¥æ”¶æ–¹çœ‹ä¸åˆ°äºŒè€…çš„åŒºåˆ«ï¼å°†é‡å¤æ•°æ®è¯¯è®¤ä¸ºæ–°æ•°æ®(a)</p><p><img src="/2021/04/16/jsjwl03/image-20210419143134083.png" alt="çª—å£æœ€å¤§é•¿åº¦ç¤ºä¾‹"></p></li></ul></li></ul><h3 id="5-é¢å‘è¿æ¥çš„ä¼ è¾“TCP"><a href="#5-é¢å‘è¿æ¥çš„ä¼ è¾“TCP" class="headerlink" title="5 é¢å‘è¿æ¥çš„ä¼ è¾“TCP"></a>5 é¢å‘è¿æ¥çš„ä¼ è¾“TCP</h3><ul><li><p>TCPæ¦‚è¿° RFCsï¼š793  1122  1323  2018  2581</p><ul><li><p>ç‚¹å¯¹ç‚¹ï¼šä¸€ä¸ªå‘é€æ–¹ï¼Œä¸€ä¸ªæ¥æ”¶æ–¹</p></li><li><p>å‘ä¸Šå±‚æä¾›å¯é çš„ã€æŒ‰é¡ºåºçš„å­—èŠ‚æµï¼šæ²¡æœ‰æŠ¥æ–‡è¾¹ç•Œ</p></li><li><p>ç®¡é“åŒ–ï¼ˆæµæ°´çº¿ï¼‰ï¼šTCPæ‹¥å¡æ§åˆ¶å’Œæµé‡æ§åˆ¶è®¾ç½®çª—å£çš„å¤§å°</p></li><li><p>å‘é€å’Œæ¥æ”¶ç¼“å­˜</p><p><img src="/2021/04/16/jsjwl03/image-20210419143702496.png" alt="å‘é€å’Œæ¥æ”¶ç¼“å­˜"></p></li><li><p>å…¨åŒå·¥æ•°æ®ä¼ è¾“ï¼šåœ¨åŒä¸€è¿æ¥ä¸­æ•°æ®æµåŒå‘æµåŠ¨</p><ul><li><p>MSSï¼šæœ€å¤§æŠ¥æ–‡æ®µå¤§å°</p><blockquote><p>æ¯ä¸€ä¸ªç‰©ç†ç½‘ç»œéƒ½æœ‰è‡ªå·±çš„æœ€å¤§ä¼ è¾“å•å…ƒMTUï¼Œä¾‹å¦‚ä»¥å¤ªç½‘æ˜¯1500å­—èŠ‚ï¼Œä¸€æ¬¡ä¼ è¾“çš„å¸§çš„è½½è·éƒ¨åˆ†æœ€é•¿å°±æ˜¯1500å­—èŠ‚ã€‚</p><p>æ‰€ä»¥åº”ç”¨å±‚ä¼ ç»™ä¼ è¾“å±‚çš„æŠ¥æ–‡å¦‚æœæ¯”è¾ƒé•¿çš„è¯ï¼Œå°±éœ€è¦åˆ†æˆä¸€ä¸ªä¸ªMSSï¼ˆ1460å­—èŠ‚ï¼‰çš„å¤§å°æ•°æ®ã€‚ç„¶åå†åŠ ä¸ŠTCPçš„å¤´éƒ¨ï¼ˆ20å­—èŠ‚ï¼‰ï¼›ä¹‹ååˆ°äº†IPå±‚é¢ï¼ˆ20å­—èŠ‚ï¼‰ï¼Œå†åŠ ä¸ŠIPçš„å¤´éƒ¨ã€‚æ­£å¥½å¯ä»¥å°è£…åœ¨ä»¥å¤ªç½‘å¸§çš„è½½è·éƒ¨åˆ†ä¸­ï¼Œå°±æ˜¯1500å­—èŠ‚ã€‚</p><p>æœ€å¤§æŠ¥æ–‡æ®µé•¿åº¦ï¼ˆMSSï¼‰ä¸æœ€å¤§ä¼ è¾“å•å…ƒï¼ˆMaximum Transmission Unit, MTUï¼‰å‡æ˜¯åè®®ç”¨æ¥å®šä¹‰æœ€å¤§é•¿åº¦çš„ã€‚ä¸åŒçš„æ˜¯ï¼ŒMTUåº”ç”¨äºOSIæ¨¡å‹çš„ç¬¬äºŒå±‚æ•°æ®é“¾æ¥å±‚ï¼Œå¹¶æ— å…·ä½“é’ˆå¯¹çš„åè®®ã€‚MTUé™åˆ¶äº†æ•°æ®é“¾æ¥å±‚ä¸Šå¯ä»¥ä¼ è¾“çš„æ•°æ®åŒ…çš„å¤§å°ï¼Œä¹Ÿå› æ­¤é™åˆ¶äº†ä¸Šå±‚ï¼ˆç½‘ç»œå±‚ï¼‰çš„æ•°æ®åŒ…å¤§å°ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå·²çŸ¥æŸå±€åŸŸç½‘çš„MTUä¸º1500å­—èŠ‚ï¼Œåˆ™åœ¨ç½‘ç»œå±‚çš„å› ç‰¹ç½‘åè®®ï¼ˆInternet Protocol, IPï¼‰é‡Œï¼Œæœ€å¤§çš„æ•°æ®åŒ…å¤§å°ä¸º1500å­—èŠ‚ï¼ˆåŒ…å«IPåè®®å¤´ï¼‰ã€‚MSSé’ˆå¯¹çš„æ˜¯OSIæ¨¡å‹é‡Œç¬¬å››å±‚ä¼ è¾“å±‚çš„TCPåè®®ã€‚å› ä¸ºMSSåº”ç”¨çš„åè®®åœ¨æ•°æ®é“¾æ¥å±‚çš„ä¸Šå±‚ï¼ŒMSSä¼šå—åˆ°MTUçš„é™åˆ¶ã€‚ </p><p><img src="/2021/04/16/jsjwl03/d009b3de9c82d158ccbfd28051420ed8bc3eb135e4e3" alt="MSSä¸MTUçš„åŒºåˆ†"></p></blockquote></li></ul></li><li><p>é¢å‘è¿æ¥ï¼šåœ¨æ•°æ®äº¤æ¢ä¹‹å‰ï¼Œé€šè¿‡æ¡æ‰‹ï¼ˆäº¤æ¢æ§åˆ¶æŠ¥æ–‡ï¼‰åˆå§‹åŒ–å‘é€æ–¹å’Œæ¥æ”¶æ–¹çš„çŠ¶æ€</p></li><li><p>æœ‰æµé‡æ§åˆ¶ï¼šå‘é€æ–¹ä¸ä¼šæ·¹æ²¡æ¥æ”¶æ–¹</p></li><li><p>æœ‰æ‹¥å¡æ§åˆ¶</p></li></ul></li></ul><h4 id="5-1-æ®µç»“æ„"><a href="#5-1-æ®µç»“æ„" class="headerlink" title="5.1 æ®µç»“æ„"></a>5.1 æ®µç»“æ„</h4><p><img src="/2021/04/16/jsjwl03/image-20210419143940708.png" alt="TCPæŠ¥æ–‡æ®µç»“æ„"></p><ul><li><p>æºç«¯å£å·ï¼ˆ16æ¯”ç‰¹ï¼‰     ç›®çš„ç«¯å£å·ï¼ˆ16æ¯”ç‰¹ï¼‰</p></li><li><p>æ¥æ”¶çª—å£ï¼šæ¥æ”¶æ–¹èƒ½å¤Ÿæ¥æ”¶çš„å­—èŠ‚æ•°é‡  ç”¨äºæµé‡æ§åˆ¶</p></li><li><p>TCPåºå·ï¼šæŠ¥æ–‡æ®µæ•°æ®éƒ¨åˆ†çš„é¦–å­—èŠ‚çš„åœ¨æ•´ä¸ªæŠ¥æ–‡å­—èŠ‚æµçš„åç§»é‡</p><blockquote><p>ä¸RDTä¸­çš„åºå·ä¸åŒ</p></blockquote><blockquote><p>TCPåºå·ï¼šä¸€ä¸ªæŠ¥æ–‡ä»åº”ç”¨å±‚ä¼ é€’ç»™ä¼ è¾“å±‚ï¼Œå°†ä¼šæŒ‰ç…§MSSè¿›è¡Œåˆ’åˆ†æˆå¤šä¸ªMSSï¼Œè¿™äº›MSSå°±æ˜¯æ¯ä¸ªæŠ¥æ–‡æ®µçš„æ•°æ®éƒ¨åˆ†ï¼ˆbodyéƒ¨åˆ†ï¼‰ï¼Œæ¯ä¸ªMSSçš„ç¬¬ä¸€ä¸ªå­—èŠ‚çš„ç›¸å¯¹äºæ•´ä¸ªæŠ¥æ–‡å­—èŠ‚æµé¦–å­—èŠ‚çš„åç§»é‡ï¼ˆoffsetï¼‰å°±æ˜¯å®ƒè¿™ä¸ªæŠ¥æ–‡æ®µçš„åºå·ã€‚</p><p><img src="/2021/04/16/jsjwl03/image-20210419214811124.png" alt="TCPåºå·"></p><blockquote><p>è¿™é‡Œç¬¬ä¸€ä¸ªæŠ¥æ–‡æ®µçš„åºå·ä¸ä¸€å®šæ˜¯0ï¼Œæ˜¯ç”±TCPä¼ è¾“åŒæ–¹ç»è¿‡åå•†ä»¥åå†³å®šï¼Œå¾€å¾€æ˜¯å…¶ä»–æ•°ã€‚</p></blockquote></blockquote></li><li><p>TCPç¡®è®¤å·ï¼šæœŸæœ›ä»å¦ä¸€æ–¹æ”¶åˆ°çš„ä¸‹ä¸€ä¸ªå­—èŠ‚çš„åºå·</p><ul><li>ç´¯è®¡ç¡®è®¤  ç±»ä¼¼GBN</li></ul><p><img src="/2021/04/16/jsjwl03/image-20210419144502276.png" alt="TCPåºå·å’Œç¡®è®¤å·"></p><p><img src="/2021/04/16/jsjwl03/image-20210419144706945.png" alt="åºå·å’Œç¡®è®¤å·åœºæ™¯"></p><blockquote><p>â€˜Câ€™å ç”¨1ä¸ªå­—èŠ‚</p></blockquote><ul><li>é—®é¢˜ï¼šæ¥æ”¶æ–¹å¦‚ä½•å¤„ç†ä¹±åºçš„æŠ¥æ–‡æ®µï¼Ÿ-æ²¡æœ‰è§„å®šï¼Œå¯ä»¥è¿›è¡Œç¼“å­˜ï¼Œä¹Ÿå¯ä»¥æŠ›å¼ƒ</li></ul></li><li><p>å¤´éƒ¨åŒ…æ‹¬å›ºå®š20å­—èŠ‚çš„å›ºå®šå¤´éƒ¨å’Œå¯é€‰é¡¹</p></li><li><p>TCPå¾€è¿”å»¶æ—¶ï¼ˆRTTï¼‰å’Œè¶…æ—¶</p><ul><li><p>æ€æ ·è®¾ç½®TCPè¶…æ—¶ï¼Ÿ</p><ul><li>æ¯”RTTè¦é•¿<ul><li>ä½†RTTæ˜¯å˜åŒ–çš„</li></ul></li></ul></li><li><p>å¤ªçŸ­ï¼šå¤ªæ—©è¶…æ—¶ï¼Œä¼šå¯¼è‡´ä¸å¿…è¦çš„é‡ä¼ </p></li><li><p>å¤ªé•¿ï¼šå¯¹æŠ¥æ–‡æ®µä¸¢å¤±ååº”å¤ªæ…¢ï¼Œæ¶ˆæ</p><ul><li><p>ç”±äºTCPçš„RTTä¸ç½‘ç»œæƒ…å†µæœ‰å…³ï¼Œæ‰€ä»¥TCPè¶…æ—¶é‡‡ç”¨ä¸€ç§è‡ªé€‚åº”çš„ã€åŠ¨æ€çš„è®¡ç®—å‡ºçš„è¶…æ—¶æ—¶é—´</p><blockquote><p>å±€åŸŸç½‘ä¸­RTTè¾ƒä¸ºé›†ä¸­ï¼Œæ‰€ä»¥TCPå¯ä»¥æ˜¯ä¸€ä¸ªå›ºå®šçš„å€¼</p></blockquote></li></ul></li><li><p>æ€æ ·ä¼°è®¡RTTï¼Ÿ</p><ul><li>SampleRTTï¼šæµ‹é‡æŸä¸€ä¸ªæŠ¥æ–‡æ®µä»å‘å‡ºåˆ°æ”¶åˆ°ç¡®è®¤çš„æ—¶é—´</li><li>å¦‚æœæœ‰é‡ä¼ ï¼Œå¿½ç•¥æ­¤æ¬¡æµ‹é‡</li><li>SampleRTTä¼šå˜åŒ–ï¼Œå› æ­¤ä¼°è®¡çš„RTTåº”è¯¥æ¯”è¾ƒå¹³æ»‘</li><li>å¯¹å‡ ä¸ªæœ€è¿‘çš„æµ‹é‡å€¼æ±‚å¹³å‡ï¼Œè€Œä¸æ˜¯ä»…ç”¨å½“å‰çš„SampleRTTï¼ˆæ”¶åˆ°ç½‘ç»œç¯å¢ƒå½±å“å¤§ï¼‰</li></ul></li></ul><p><img src="/2021/04/16/jsjwl03/image-20210419145433496.png" alt="è¶…æ—¶æ—¶é—´è®¡ç®—"></p><blockquote><p>EstimatedRTTè¡¨ç¤ºRTTå‡å€¼ï¼Œååº”çš„æ˜¯ä¸€æ®µæ—¶é—´å†…çš„RTT<br>$$<br>å½“å‰EstimatedRTT = å‰ä¸€æ—¶åˆ»EstimatedRTT * (1-\alpha) + \alpha * å½“å‰æ ·æœ¬SampleRTT<br>$$</p></blockquote><ul><li>è®¾ç½®è¶…æ—¶<ul><li><p>EstimtedRTT + å®‰å…¨è¾¹ç•Œæ—¶é—´</p></li><li><p>EstimatedRTTå˜åŒ–å¤§(æ–¹å·®å¤§)â†’è¾ƒå¤§çš„å®‰å…¨è¾¹ç•Œæ—¶é—´ï¼ˆ4*â€˜æ–¹å·®â€™ï¼‰</p></li><li><p>SampleRTTä¼šåç¦»EstimatedRTTå¤šè¿œï¼ˆè¿‘ä¼¼æ–¹å·®ï¼‰ï¼š<br>$$<br>DevRTT = (1-\beta)<em>DevRTT+\beta</em>|SampleRTT-EstimatedRTT|<br>$$</p><p>$$<br>(æ¨èå€¼ï¼š\beta = 0.25)<br>$$</p></li></ul></li><li>è¶…æ—¶æ—¶é—´é—´éš”è®¾ç½®ä¸ºï¼š<img src="/2021/04/16/jsjwl03/image-20210419145624856.png" alt="è¶…æ—¶æ—¶é—´é—´éš”"></li></ul></li></ul><h4 id="5-2-å¯é æ•°æ®ä¼ è¾“"><a href="#5-2-å¯é æ•°æ®ä¼ è¾“" class="headerlink" title="5.2 å¯é æ•°æ®ä¼ è¾“"></a>5.2 å¯é æ•°æ®ä¼ è¾“</h4><ul><li><p>TCPåœ¨IPä¸å¯é æœåŠ¡çš„åŸºç¡€ä¸Šå»ºç«‹äº†RDT</p><ul><li>ç®¡é“åŒ–çš„æŠ¥æ–‡æ®µï¼Œæ›´æ¥è¿‘äºGBNä¸SRçš„æ··åˆä½“<ul><li>ç´¯è®¡ç¡®è®¤-ç±»ä¼¼GBN</li><li>å•ä¸ªé‡ä¼ å®šæ—¶å™¨-ç±»ä¼¼GBN</li><li>æ˜¯å¦æ¥æ”¶ä¹±åºæŠ¥æ–‡æ®µ-æ²¡æœ‰è§„å®š</li><li>é€šè¿‡ä»¥ä¸‹äº‹ä»¶å¯ä»¥è§¦å‘é‡ä¼ ï¼š<ul><li>è¶…æ—¶ï¼ˆåªé‡å‘é‚£ä¸ªæœ€æ—©çš„æœªç¡®å®šçš„æ®µ -SRï¼‰</li><li>é‡å¤çš„ç¡®è®¤ï¼ˆä¾‹å¦‚ï¼šæ”¶åˆ°ACK50ä¹‹ååˆæ”¶åˆ°äº†3ä¸ªACK50ï¼‰</li></ul></li></ul></li></ul></li><li><p>é¦–å…ˆçœ‹ä¸€ä¸‹ç®€åŒ–ç‰ˆçš„TCPå‘é€æ–¹</p><ul><li>å¿½ç•¥é‡å¤çš„ç¡®è®¤</li><li>å¿½ç•¥æµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶</li></ul></li><li><p>TCPå‘é€æ–¹ï¼ˆç®€åŒ–ç‰ˆï¼‰</p><p><img src="/2021/04/16/jsjwl03/image-20210420085437329.png" alt="TCPå‘é€æ–¹ï¼ˆç®€åŒ–ç‰ˆï¼‰"></p><blockquote><p>è¿™é‡Œå·¦ä¸Šåˆå§‹åŒ–ï¼ŒNextSeqNumå’ŒSendBaseæ˜¯ç”±åŒæ–¹åå•†ç¡®å®šè€Œä¸æ˜¯ä¸€ä¸ªå›ºå®šçš„å€¼ï¼ŒåŸå› ï¼šä¸ºäº†é¿å…è€çš„æ•°æ®ä¼ è¾“å¯¹æ–°æ•°æ®ä¼ è¾“çš„å½±å“</p></blockquote><blockquote><p>å³ä¸Šè§’è¡¨ç¤ºå‘é€æ–¹çš„å‰æ²¿å‘å‰ç§»åŠ¨ã€‚ä¸Šå±‚ä¼ è¾“æ•°æ®åï¼Œå…ˆæ ¹æ®NextSeqNumä¸ºåºå·å°è£…æŠ¥æ–‡æ®µï¼Œä¼ é€’æŠ¥æ–‡æ®µï¼ŒNextSeqNumåŠ ä¸Šä¼ è¾“çš„æ•°æ®å­—èŠ‚é•¿å°±æ˜¯æ–°çš„NextSeqNumã€‚ç„¶åå¦‚æœæ—¶é—´å®šæ—¶å™¨æ²¡æœ‰å¼€å§‹å°±å¼€å§‹è®¡æ—¶ã€‚</p></blockquote><blockquote><p>å®šæ—¶å™¨ä¸æœ€æ—©æœªç¡®è®¤çš„æŠ¥æ–‡æ®µå…³è”ã€‚å®šæ—¶å™¨è¶…æ—¶æ—¶ï¼Œåªä¼ è¾“æœ€è€çš„é‚£ä¸ªæ•°æ®æ®µï¼Œç„¶åé‡æ–°å¯åŠ¨å®šæ—¶å™¨</p></blockquote><blockquote><p>å·¦ä¸‹ï¼Œæ”¶åˆ°äº†ACKï¼Œå¦‚æœACKä¸­çš„åºå·yå¤§äºSendBaseï¼ŒSendBaseç§»åŠ¨åˆ°yè¿™ä¸ªä½ç½®ï¼Œå³å‘é€æ–¹åæ²¿å‘å‰ç§»åŠ¨ã€‚åŒæ—¶å¦‚æœçª—å£ä¸­è¿˜æœ‰æœªè¢«ç¡®è®¤çš„æŠ¥æ–‡æ®µï¼Œå®šæ—¶å™¨é‡æ–°å¼€å§‹è®¡æ—¶ï¼Œå¦åˆ™å®šæ—¶å™¨å…³é—­ã€‚</p></blockquote><p><img src="/2021/04/16/jsjwl03/image-20210420091332921.png" alt="TCPç®€åŒ–çš„å‘é€æ–¹"></p><p><img src="/2021/04/16/jsjwl03/image-20210420093051113.png" alt="TCPç®€åŒ–å‘é€æ–¹çš„è¿è¡Œ1"></p><p><img src="/2021/04/16/jsjwl03/image-20210420093120785.png" alt="TCPç®€åŒ–å‘é€æ–¹çš„è¿è¡Œ2"></p><ul><li>äº§ç”ŸTCP ACKçš„å»ºè®®    [RFC 1122ï¼ŒRFC 2581]</li></ul><table><thead><tr><th>æ¥æ”¶æ–¹çš„äº‹ä»¶</th><th>TCPæ¥æ”¶æ–¹åŠ¨ä½œ</th><th>ç›®çš„</th></tr></thead><tbody><tr><td>æ‰€æœŸæœ›åºå·çš„æŠ¥æ–‡æ®µæŒ‰åºåˆ°è¾¾ã€‚æ‰€æœ‰åœ¨æœŸæœ›åºå·ä¹‹å‰çš„æ•°æ®éƒ½å·²ç»è¢«ç¡®è®¤</td><td>å¯¹å‰ä¸€ä¸ªæŒ‰åºæŠ¥æ–‡æ®µçš„åˆ°è¾¾ä¸ç›´æ¥å‘ACKï¼Œè€Œæ˜¯ç­‰å¾…æœ€å¤š500msã€‚å¦‚æœä¸‹ä¸€ä¸ªæŠ¥æ–‡æ®µåœ¨è¿™ä¸ªæ—¶é—´é—´éš”å†…æ²¡æœ‰åˆ°è¾¾ï¼Œåˆ™å‘é€è¿™ä¸ªæ®µçš„ACKï¼Œå¦‚æœåˆ°äº†å‘æ–°æ¥çš„æ®µçš„ACKè¡¨ç¤ºå¤šä¸ªæ®µçš„æ¥æ”¶ã€‚</td><td>ä¸ºäº†æé«˜æ•ˆç‡ï¼Œä¸€ä¸ªACKå¯¹å¤šä¸ªæ®µè¡¨ç¤ºæ¥æ”¶ã€‚</td></tr><tr><td>æ¯”æœŸæœ›åºå·å¤§çš„æŠ¥æ–‡æ®µä¹±åºåˆ°è¾¾ã€‚æ£€æµ‹å‡ºæ•°æ®æµä¸­çš„é—´éš”ï¼ˆgapï¼‰ã€‚</td><td>ç«‹å³å‘é€æ¥æ”¶æ–¹æœŸå¾…çš„æ®µçš„ACKï¼Œè®©å‘é€æ–¹å°½å¿«ä¼ è¾“éœ€è¦çš„æ®µã€‚</td><td></td></tr><tr><td>æ¯”æœŸæœ›åºå·å¤§çš„æŠ¥æ–‡æ®µä¹±åºåˆ°è¾¾ä¹‹ååˆæ¥äº†èƒ½éƒ¨åˆ†æˆ–å®Œå…¨å¡«å……æ¥æ”¶æ•°æ®é—´éš”çš„æŠ¥æ–‡æ®µåˆ°è¾¾ã€‚</td><td>è‹¥è¯¥æŠ¥æ–‡æ®µèµ·å§‹äºé—´éš”ï¼ˆgapï¼‰çš„ä½ç«¯ï¼Œåˆ™ç«‹å³å‘é€ACKã€‚</td><td>å¯¹å·²è¢«æ¥æ”¶çš„æ®µå‘ACK</td></tr></tbody></table><ul><li><p>å¿«é€Ÿé‡ä¼ </p><ul><li><p>è¶…æ—¶å‘¨æœŸå¾€å¾€å¤ªé•¿ï¼šåœ¨é‡ä¼ ä¸¢å¤±æŠ¥æ–‡æ®µä¹‹å‰çš„å»¶æ—¶å¤ªé•¿</p></li><li><p>é€šè¿‡é‡å¤çš„ACKæ¥æ£€æµ‹æŠ¥æ–‡æ®µä¸¢å¤±</p><ul><li><p>å‘é€æ–¹é€šå¸¸è¿ç»­å‘é€å¤§é‡æŠ¥æ–‡æ®µ</p></li><li><p>å¦‚æœæŠ¥æ–‡æ®µä¸¢å¤±ï¼Œé€šå¸¸ä¼šå¼•èµ·å¤šä¸ªé‡å¤çš„ACK</p><p><img src="/2021/04/16/jsjwl03/image-20210420202315682.png" alt="ä¸‰ä¸ªé‡å¤ACK"></p></li></ul></li><li><p>å¦‚æœå‘é€æ–¹æ”¶åˆ°åŒä¸€æ•°æ®çš„3ä¸ªå†—ä½™ACKï¼Œé‡ä¼ æœ€å°åºå·çš„æ®µï¼š</p><ul><li><p>å¿«é€Ÿé‡ä¼ ï¼šåœ¨å®šæ—¶å™¨è¿‡æ—¶ä¹‹å‰é‡å‘æŠ¥æ–‡æ®µ</p></li><li><p>å®ƒå‡è®¾æœ€å°åºå·çš„æœªè¢«ç¡®è®¤æ®µçš„æ•°æ®ä¸¢å¤±äº†</p><ul><li><p>ç¬¬ä¸€ä¸ªACKæ˜¯æ­£å¸¸çš„ï¼›</p></li><li><p>æ”¶åˆ°ç¬¬äºŒä¸ªè¯¥æ®µçš„ACKï¼Œè¡¨ç¤ºæ¥æ”¶æ–¹æ”¶åˆ°ä¸€ä¸ªè¯¥æ®µåçš„ä¹±åºæ®µï¼›</p></li><li><p>æ”¶åˆ°ç¬¬3ï¼Œ4ä¸ªè¯¥æ®µçš„ackï¼Œè¡¨ç¤ºæ¥æ”¶æ–¹æ”¶åˆ°è¯¥æ®µä¹‹åçš„2ä¸ªï¼Œ3ä¸ªä¹±åºæ®µï¼Œå¯èƒ½æ€§éå¸¸å¤§æ®µä¸¢å¤±äº†</p><p><img src="/2021/04/16/jsjwl03/image-20210420203027955.png" alt="TCPå¿«é€Ÿé‡ä¼ "></p><p><img src="/2021/04/16/jsjwl03/image-20210420203103596.png" alt="å¿«é€Ÿé‡ä¼ ç®—æ³•"></p></li></ul></li></ul></li></ul></li></ul></li></ul><h4 id="5-3-æµé‡æ§åˆ¶"><a href="#5-3-æµé‡æ§åˆ¶" class="headerlink" title="5.3 æµé‡æ§åˆ¶"></a>5.3 æµé‡æ§åˆ¶</h4><p><img src="/2021/04/16/jsjwl03/image-20210420203636707.png" alt="æµé‡æ§åˆ¶"></p><ul><li><p>æå¸¦æŠ€æœ¯ï¼ˆPiggybackingï¼‰ï¼šAå‘é€ç»™Bçš„ACKå’ŒAæ¥æ”¶ç¼“å†²åŒºçš„å¤§å°éƒ½æå¸¦åœ¨Aå‘ç»™Bçš„TCPæŠ¥æ–‡æ®µä¸­ï¼Œå³Aå‘Bå‘æ•°æ®çš„åŒæ—¶å¯¹Bå‘é€è¿‡æ¥çš„æ•°æ®è¿›è¡Œç¡®è®¤ACKå¹¶å‘ŠçŸ¥å¯¹æ–¹è‡ªå·±æ¥æ”¶ç¼“å†²åŒºçš„å‰©ä½™å¤§å°ã€‚</p></li><li><p>æ¥æ”¶æ–¹åœ¨å…¶å‘å‘é€æ–¹çš„TCPæ®µå¤´éƒ¨çš„rwndå­—æ®µâ€œé€šå‘Šâ€å…¶ç©ºé—²bufferå¤§å°</p><ul><li>RcvBufferå¤§å°é€šè¿‡socketé€‰é¡¹è®¾ç½®(å…¸å‹é»˜è®¤å¤§å°ä¸º4096 å­—<br>èŠ‚)</li><li>å¾ˆå¤šæ“ä½œç³»ç»Ÿè‡ªåŠ¨è°ƒæ•´RcvBuffer</li></ul></li><li><p>å‘é€æ–¹é™åˆ¶æœªç¡®è®¤(â€œinflightâ€)å­—èŠ‚çš„ä¸ªæ•°â‰¤æ¥æ”¶æ–¹å‘é€è¿‡æ¥çš„rwnd å€¼</p></li><li><p>ä¿è¯æ¥æ”¶æ–¹ä¸ä¼šè¢«æ·¹æ²¡</p><p><img src="/2021/04/16/jsjwl03/image-20210420204620799.png" alt="æ¥æ”¶æ–¹buffer"></p></li></ul><p><img src="/2021/04/16/jsjwl03/image-20210420204658667.png" alt="æ¥æ”¶çª—å£"></p><h4 id="5-4-è¿æ¥ç®¡ç†"><a href="#5-4-è¿æ¥ç®¡ç†" class="headerlink" title="5.4 è¿æ¥ç®¡ç†"></a>5.4 è¿æ¥ç®¡ç†</h4><h5 id="å»ºç«‹è¿æ¥"><a href="#å»ºç«‹è¿æ¥" class="headerlink" title="å»ºç«‹è¿æ¥"></a>å»ºç«‹è¿æ¥</h5><ul><li><p>åœ¨æ­£å¼äº¤æ¢æ•°æ®ä¹‹å‰ï¼Œå‘é€æ–¹å’Œæ¥æ”¶æ–¹æ¡æ‰‹å»ºç«‹é€šä¿¡å…³ç³»:</p><ul><li><p>åŒæ„å»ºç«‹è¿æ¥ï¼ˆæ¯ä¸€æ–¹éƒ½çŸ¥é“å¯¹æ–¹æ„¿æ„å»ºç«‹è¿æ¥ï¼‰</p></li><li><p>åŒæ„è¿æ¥å‚æ•°ï¼Œå‚æ•°ç½®ä½</p><blockquote><p>ç‰¹åˆ«æ˜¯æŠ¥æ–‡æ®µåˆå§‹åºå·çš„è®¾å®šï¼Œä»¥åŠåŒæ–¹rcvBufferçš„å¤§å°</p></blockquote></li></ul><p><img src="/2021/04/16/jsjwl03/image-20210420205541533.png" alt="è¿æ¥å»ºç«‹äº¤æ¢çš„æ•°æ®"></p></li><li><p>ä¸¤æ¬¡è¿æ¥è¿›è¡Œå»ºç«‹è¿æ¥å¯è¡Œå—ï¼Ÿ</p><p><img src="/2021/04/16/jsjwl03/image-20210420210008611.png" alt="ä¸¤æ¬¡è¿æ¥è¿›è¡Œå»ºç«‹è¿æ¥å¯è¡Œå—ï¼Ÿ"></p><p><img src="/2021/04/16/jsjwl03/image-20210420210037664.png" alt="ä¸¤æ¬¡è¿æ¥å»ºç«‹ä¸å¯è¡Œ"></p></li><li><p>ä¸‰æ¬¡æ¡æ‰‹</p><p><img src="/2021/04/16/jsjwl03/image-20210420210317096.png" alt="ä¸‰æ¬¡æ¡æ‰‹"></p><p><img src="/2021/04/16/jsjwl03/image-20210420213346432.png" alt="ä¸‰æ¬¡æ¡æ‰‹è§£å†³åŠè¿æ¥å’Œæ¥æ”¶è€æ•°æ®é—®é¢˜"></p><blockquote><p>æ¥æ”¶è€æ•°æ®çš„è§£å†³æ–¹æ¡ˆçš„å‰æï¼šå»ºç«‹çš„è¿æ¥åŒæ–¹åºå·seqæ¯æ¬¡ç”±åŒæ–¹åå®šä¸”ä¸´è¿‘çš„è¿æ¥ä¸ç›¸åŒ</p></blockquote></li></ul><p><img src="/2021/04/16/jsjwl03/image-20210420213428313.png" alt="ä¸‰æ¬¡æ¡æ‰‹FSM"></p><h5 id="å…³é—­è¿æ¥"><a href="#å…³é—­è¿æ¥" class="headerlink" title="å…³é—­è¿æ¥"></a>å…³é—­è¿æ¥</h5><ul><li>å®¢æˆ·ç«¯ï¼ŒæœåŠ¡å™¨åˆ†åˆ«å…³é—­å®ƒè‡ªå·±è¿™ä¸€ä¾§çš„è¿æ¥</li><li>å‘é€FIN bit = 1çš„TCPæ®µ</li><li>ä¸€æ—¦æ¥æ”¶åˆ°FINï¼Œç”¨ACKå›åº”</li><li>æ¥åˆ°FINæ®µï¼ŒACKå¯ä»¥å’Œå®ƒè‡ªå·±å‘å‡ºçš„FINæ®µä¸€èµ·å‘é€</li><li>å¯ä»¥å¤„ç†åŒæ—¶çš„FINäº¤æ¢</li></ul><p><img src="/2021/04/16/jsjwl03/image-20210420214604099.png" alt="TCPå…³é—­è¿æ¥"></p><h3 id="6-æ‹¥å¡æ§åˆ¶åŸç†"><a href="#6-æ‹¥å¡æ§åˆ¶åŸç†" class="headerlink" title="6 æ‹¥å¡æ§åˆ¶åŸç†"></a>6 æ‹¥å¡æ§åˆ¶åŸç†</h3><ul><li><p>æ‹¥å¡ï¼š</p><ul><li>éæ­£å¼çš„å®šä¹‰: â€œå¤ªå¤šçš„æ•°æ®éœ€è¦ç½‘ç»œä¼ è¾“ï¼Œè¶…è¿‡äº†ç½‘ç»œçš„å¤„ç†èƒ½åŠ›â€</li><li> ä¸æµé‡æ§åˆ¶ä¸åŒ</li></ul></li><li><p>æ‹¥å¡çš„è¡¨ç°ï¼š</p><ul><li> åˆ†ç»„ä¸¢å¤±(è·¯ç”±å™¨ç¼“å†²åŒºæº¢å‡º)</li><li> åˆ†ç»„ç»å†æ¯”è¾ƒé•¿çš„å»¶è¿Ÿ(åœ¨è·¯ç”±å™¨çš„é˜Ÿåˆ—ä¸­æ’é˜Ÿ)</li></ul></li><li><p>æ‹¥å¡çš„åŸå› ï¼š</p><p><img src="/2021/04/16/jsjwl03/image-20210421090224814.png" alt="åœºæ™¯1"></p><p><img src="/2021/04/16/jsjwl03/image-20210421090537037.png" alt="åœºæ™¯2"></p><p><img src="/2021/04/16/jsjwl03/image-20210421090857894.png" alt="åœºæ™¯2-1"></p><p><img src="/2021/04/16/jsjwl03/image-20210421090947944.png" alt="åœºæ™¯2-2"></p><blockquote><p>ä¸¢å¤±åæ‰é‡å‘ï¼Œå¯¼è‡´å…¥<sup>â€˜</sup><sub>in</sub>ï¼å…¥<sub>out</sub></p></blockquote><blockquote><p><img src="/2021/04/16/jsjwl03/image-20210421092459240.png" alt="åœºæ™¯2-ç°å®æƒ…å†µ"></p></blockquote><blockquote><p>è¾“å‡ºæ¯”è¾“å‡ºå°‘çš„åŸå› ï¼š</p><ol><li>å…¥<sup>â€˜</sup><sub>in</sub>è¶Šæ¥è¿‘ R/2ï¼Œæ®µä¸¢å¤±çš„è¶Šæ¥è¶Šå¤šï¼Œéœ€è¦é‡å‘çš„è¶Šå¤šï¼Œæœ‰æ•ˆçš„å‘é€è¶Šå°‘ã€‚</li><li>ç½‘ç»œæ‹¥å¡å¯¼è‡´ä¸€äº›æ®µæ²¡æœ‰ä¸¢å¤±ï¼Œä½†æ˜¯è¶…æ—¶äº†ï¼Œå‘é€æ–¹é‡å‘äº†è¿™äº›æ²¡å¿…è¦é‡ä¼ çš„é‡å¤åˆ†ç»„ã€‚</li></ol></blockquote><p><img src="/2021/04/16/jsjwl03/image-20210421093234808.png" alt="åœºæ™¯2-ç°å®æƒ…å†µåˆ†æ"></p><p><img src="/2021/04/16/jsjwl03/image-20210421095325872.png" alt="åœºæ™¯3"></p><blockquote><p>ä¸Šé¢ï¼Œè“çº¿å’Œçº¢çº¿ç«äº‰ï¼Œå› ä¸ºè“è‰²å·²ç»è¢«è·¯ç”±å™¨è¿‡æ»¤äº†ä¸€æ¬¡ï¼Œç›¸å¯¹å°ä¸€äº›ï¼Œè“çº¿çš„æ®µè¢«æŠ›å¼ƒ</p><p>å³è¾¹ï¼Œçº¢çº¿å’Œç»¿çº¿ç«äº‰ï¼Œå› ä¸ºçº¢è‰²å·²ç»è¢«è·¯ç”±å™¨è¿‡æ»¤äº†ä¸€æ¬¡ï¼Œç›¸å¯¹å°ä¸€äº›ï¼Œçº¢çº¿çš„æ®µè¢«æŠ›å¼ƒ</p></blockquote><p><img src="/2021/04/16/jsjwl03/image-20210421095505428.png" alt="åœºæ™¯3åˆ†æ"></p><blockquote><p>å…¥<sup>â€˜</sup><sub>in</sub>è¶Šå¤§å…¥<sub>out</sub>ï¼Œæœ€åå¯¼è‡´æ­»é”ç°è±¡</p></blockquote></li><li><p>æ‹¥å¡æ§åˆ¶æ–¹æ³•ï¼š</p><ul><li>ç«¯åˆ°ç«¯æ‹¥å¡æ§åˆ¶ï¼š<ul><li>æ²¡æœ‰æ¥è‡ªç½‘ç»œçš„æ˜¾å¼åé¦ˆ</li><li>ç«¯ç³»ç»Ÿæ ¹æ®å»¶è¿Ÿå’Œä¸¢å¤±äº‹ä»¶æ¨æ–­æ˜¯å¦æœ‰æ‹¥å¡</li><li>TCPé‡‡ç”¨çš„æ–¹æ³•</li></ul></li><li>ç½‘ç»œè¾…åŠ©çš„æ‹¥å¡æ§åˆ¶ï¼š<ul><li>è·¯ç”±å™¨æä¾›ç»™ç«¯ç³»ç»Ÿä»¥åé¦ˆä¿¡æ¯<ul><li>å•ä¸ªbitç½®ä½ï¼Œæ˜¾ç¤ºæœ‰æ‹¥å¡(SNAï¼ŒDECbitï¼ŒTCP/IP ECNï¼ŒATM)</li><li>æ˜¾å¼æä¾›å‘é€ç«¯å¯ä»¥é‡‡ç”¨çš„é€Ÿç‡</li></ul></li></ul></li></ul></li><li><p>ç½‘ç»œè¾…åŠ©çš„æ‹¥å¡æ§åˆ¶æ¡ˆä¾‹å­¦ä¹ ï¼šATM ABR æ‹¥å¡æ§åˆ¶</p><ul><li><p>ABR: available bit rateï¼š</p><ul><li>â€œå¼¹æ€§æœåŠ¡â€</li><li>å¦‚æœå‘é€ç«¯çš„è·¯å¾„â€œè½»è½½â€ï¼Œå‘é€æ–¹ä½¿ç”¨å¯ç”¨å¸¦å®½</li><li>å¦‚æœå‘é€æ–¹çš„è·¯å¾„æ‹¥å¡äº†ï¼Œå‘é€æ–¹é™åˆ¶å…¶å‘é€çš„é€Ÿåº¦åˆ°ä¸€ä¸ªæœ€å°ä¿éšœé€Ÿç‡ä¸Š</li></ul></li><li><p>RM (èµ„æºç®¡ç†) ä¿¡å…ƒï¼š</p><ul><li><p>ç”±å‘é€ç«¯å‘é€,åœ¨æ•°æ®ä¿¡å…ƒä¸­é—´éš”æ’å…¥</p></li><li><p>RMä¿¡å…ƒä¸­çš„æ¯”ç‰¹è¢«äº¤æ¢æœºè®¾ç½®(â€œç½‘ç»œè¾…åŠ©â€)</p><ul><li><p>NI bit: no increase in rate (è½»å¾®æ‹¥å¡)é€Ÿç‡ä¸è¦å¢åŠ äº†</p></li><li><p>CI bit: congestion indication æ‹¥å¡æŒ‡ç¤º</p><blockquote><p>è·¯ç”±å™¨ã€äº¤æ¢æœºä¼šæ ¹æ®ç½‘ç»œæƒ…å†µå°†RMä¸­çš„NIå’ŒCIä½ç½®1æˆ–0</p></blockquote></li></ul></li></ul></li></ul></li><li><p>å‘é€ç«¯å‘é€çš„RMä¿¡å…ƒè¢«æ¥æ”¶ç«¯è¿”å›</p><p>  <img src="/2021/04/16/jsjwl03/image-20210421100325517.png" alt="ATM ABRæ‹¥å¡æ§åˆ¶"></p><ul><li>åœ¨RMä¿¡å…ƒä¸­è¿˜æœ‰2ä¸ªå­—èŠ‚çš„ER (explicit rate)å­—æ®µ<ul><li>ERè®°å½•çš„æ˜¯äº¤æ¢æœºã€è·¯ç”±å™¨æ”¯æŒçš„æœ€å°çš„é€Ÿç‡ï¼Œæ‹¥å¡çš„äº¤æ¢æœºã€è·¯ç”±å™¨ä¼šå°†ERé™ä½</li><li>å‘é€ç«¯é€šè¿‡ERè·çŸ¥è·¯å¾„ä¸Šæ‰€æ”¯æŒçš„æ˜¯æœ€ä½é€Ÿç‡</li></ul></li><li>æ•°æ®ä¿¡å…ƒä¸­çš„EFCI bitï¼šè¢«æ‹¥å¡çš„äº¤æ¢æœºè®¾ç½®æˆ1<ul><li>å¦‚æœåœ¨ç®¡ç†ä¿¡å…ƒRMå‰é¢çš„æ•°æ®ä¿¡å…ƒEFCIè¢«è®¾ç½®æˆäº†1, æ¥æ”¶ç«¯åœ¨è¿”å›çš„RMä¿¡å…ƒä¸­è®¾ç½®CI bit</li></ul></li></ul></li></ul><h3 id="7-TCPæ‹¥å¡æ§åˆ¶"><a href="#7-TCPæ‹¥å¡æ§åˆ¶" class="headerlink" title="7 TCPæ‹¥å¡æ§åˆ¶"></a>7 TCPæ‹¥å¡æ§åˆ¶</h3><ul><li><p>TCPæ‹¥å¡æ§åˆ¶æœºåˆ¶ï¼šç«¯åˆ°ç«¯çš„æ‹¥å¡æ§åˆ¶æœºåˆ¶</p><ul><li>è·¯ç”±å™¨ä¸å‘ä¸»æœºæœ‰å…³æ‹¥å¡çš„åé¦ˆä¿¡æ¯<ul><li>è·¯ç”±å™¨çš„è´Ÿæ‹…è¾ƒè½»</li><li>ç¬¦åˆç½‘ç»œæ ¸å¿ƒç®€å•çš„TCP/IPæ¶æ„åŸåˆ™</li></ul></li><li>ç«¯ç³»ç»Ÿæ ¹æ®è‡ªèº«å¾—åˆ°çš„ä¿¡æ¯ï¼Œåˆ¤æ–­æ˜¯å¦å‘ç”Ÿæ‹¥å¡ï¼Œä»è€Œé‡‡å–åŠ¨ä½œ</li></ul></li><li><p>æ‹¥å¡æ§åˆ¶çš„å‡ ä¸ªé—®é¢˜</p><ul><li>å¦‚ä½•æ£€æµ‹æ‹¥å¡<ul><li>è½»å¾®æ‹¥å¡</li><li>æ‹¥å¡</li></ul></li><li>æ§åˆ¶ç­–ç•¥<ul><li>åœ¨æ‹¥å¡å‘é€æ—¶å¦‚ä½•åŠ¨ä½œï¼Œé™ä½é€Ÿç‡<ul><li>è½»å¾®æ‹¥å¡ï¼Œå¦‚ä½•é™ä½</li><li>æ‹¥å¡æ—¶ï¼Œå¦‚ä½•é™ä½</li></ul></li><li>åœ¨æ‹¥å¡ç¼“è§£æ—¶å¦‚ä½•åŠ¨ä½œï¼Œå¢åŠ é€Ÿç‡</li></ul></li></ul></li><li><p>å‘é€ç«¯å¦‚ä½•æ¢æµ‹åˆ°æ‹¥å¡ï¼Ÿ</p><ul><li>æŸä¸ªæ®µè¶…æ—¶äº†ï¼ˆä¸¢å¤±äº‹ä»¶ï¼‰ï¼šæ‹¥å¡<ul><li>è¶…æ—¶æ—¶é—´åˆ°ï¼ŒæŸä¸ªæ®µçš„ç¡®è®¤æ²¡æœ‰æ¥</li><li>åŸå› 1ï¼šç½‘ç»œæ‹¥å¡ï¼ˆæŸä¸ªè·¯ç”±å™¨ç¼“å†²åŒºæ²¡ç©ºé—´äº†ï¼Œè¢«ä¸¢å¼ƒï¼‰æ¦‚ç‡å¤§</li><li>åŸå› 2ï¼šå‡ºé”™è¢«ä¸¢å¼ƒäº†ï¼ˆå„çº§é”™è¯¯ï¼Œæ²¡æœ‰é€šè¿‡æ ¡éªŒï¼Œè¢«ä¸¢å¼ƒï¼‰æ¦‚ç‡å°</li><li>ä¸€æ—¦è¶…æ—¶ï¼Œå°±è®¤ä¸ºæ‹¥å¡äº†ï¼Œæœ‰ä¸€å®šè¯¯åˆ¤ï¼Œä½†æ˜¯æ€»ä½“æ§åˆ¶æ–¹å‘æ˜¯å¯¹çš„</li></ul></li><li>æœ‰å…³æŸä¸ªæ®µçš„3æ¬¡é‡å¤ACKï¼šè½»å¾®æ‹¥å¡<ul><li>æ®µçš„ç¬¬1ä¸ªackï¼Œæ­£å¸¸ï¼Œç¡®è®¤ç»¿æ®µï¼ŒæœŸå¾…çº¢æ®µ</li><li>æ®µçš„ç¬¬2ä¸ªé‡å¤ackï¼Œæ„å‘³ç€çº¢æ®µçš„åä¸€æ®µæ”¶åˆ°äº†ï¼Œè“æ®µä¹±åºåˆ°è¾¾</li><li>æ®µçš„ç¬¬2ã€3ã€4ä¸ªacké‡å¤ï¼Œæ„å‘³ç€çº¢æ®µçš„åç¬¬2ã€3ã€4ä¸ªæ®µæ”¶åˆ°äº†ï¼Œæ©™æ®µä¹±åºåˆ°è¾¾ï¼ŒåŒæ—¶çº¢æ®µä¸¢å¤±çš„å¯èƒ½æ€§å¾ˆå¤§ï¼ˆåé¢3ä¸ªæ®µéƒ½åˆ°äº†ï¼Œçº¢æ®µéƒ½æ²¡åˆ°ï¼‰</li><li>ç½‘ç»œè¿™æ—¶è¿˜èƒ½å¤Ÿè¿›è¡Œä¸€å®šç¨‹åº¦çš„ä¼ è¾“ï¼Œæ‹¥å¡ä½†æƒ…å†µè¦æ¯”ç¬¬ä¸€ç§å¥½</li></ul></li></ul></li><li><p>å¦‚ä½•æ§åˆ¶å‘é€ç«¯å‘é€çš„é€Ÿç‡ï¼Ÿ</p><ul><li><p>ç»´æŒä¸€ä¸ªæ‹¥å¡çª—å£çš„å€¼ï¼šCongWin</p></li><li><p>å‘é€ç«¯é™åˆ¶å·²å‘é€ä½†æ˜¯æœªç¡®è®¤çš„æ•°æ®é‡ï¼ˆçš„ä¸Šé™ï¼‰:<br>LastByteSent-LastByteAcked â‰¤ CongWin</p></li><li><p>ä»è€Œç²—ç•¥åœ°æ§åˆ¶å‘é€æ–¹çš„å¾€ç½‘ç»œä¸­æ³¨å…¥æ•°æ®çš„é€Ÿç‡rate</p><p><img src="/2021/04/16/jsjwl03/image-20210421101313128.png" alt="æ‹¥å¡çª—å£"></p></li><li><p>CongWinæ˜¯åŠ¨æ€çš„ï¼Œæ˜¯æ„ŸçŸ¥åˆ°çš„ç½‘ç»œæ‹¥å¡ç¨‹åº¦çš„å‡½æ•°</p><ul><li>è¶…æ—¶æˆ–è€…3ä¸ªé‡å¤ackï¼ŒCongWinâ†“<ul><li>è¶…æ—¶æ—¶ï¼šCongWiné™ä¸º1MSSï¼Œè¿›å…¥SSé˜¶æ®µç„¶åå†å€å¢åˆ°CongWin/2ï¼ˆæ¯ä¸ªRTTï¼‰ï¼Œä»è€Œè¿›å…¥CAé˜¶æ®µ</li><li>3ä¸ªé‡å¤ack ï¼šCongWiné™ä¸ºCongWin/2ï¼ŒCAé˜¶æ®µ</li></ul></li><li>å¦åˆ™ï¼ˆæ­£å¸¸æ”¶åˆ°Ackï¼Œæ²¡æœ‰å‘é€ä»¥ä¸Šæƒ…å†µï¼‰ï¼šCongWinè·ƒè·ƒæ¬²è¯•â†‘<ul><li>SSé˜¶æ®µï¼šåŠ å€å¢åŠ (æ¯ä¸ªRTT)</li><li>CAé˜¶æ®µï¼šçº¿æ€§å¢åŠ (æ¯ä¸ªRTT)</li></ul></li></ul></li></ul></li><li><p>TCPæ‹¥å¡æ§åˆ¶å’Œæµé‡æ§åˆ¶çš„è”åˆåŠ¨ä½œï¼Œè”åˆæ§åˆ¶çš„æ–¹æ³•ï¼š</p><ul><li>å‘é€ç«¯æ§åˆ¶å‘é€ä½†æ˜¯æœªç¡®è®¤çš„é‡åŒæ—¶ä¹Ÿä¸èƒ½å¤Ÿè¶…è¿‡æ¥æ”¶çª—å£ï¼Œæ»¡è¶³æµé‡æ§åˆ¶è¦æ±‚<ul><li>å‘é€çª—å£SendWin=min{æ‹¥å¡çª—å£CongWin, å¯¹æ–¹æ¥æ”¶çª—å£RecvWin}</li><li>åŒæ—¶æ»¡è¶³æ‹¥å¡æ§åˆ¶å’Œæµé‡æ§åˆ¶è¦æ±‚</li></ul></li></ul></li><li><p>TCPæ‹¥å¡æ§åˆ¶ç­–ç•¥</p><ul><li><p>æ…¢å¯åŠ¨</p><ul><li>è¿æ¥åˆšå»ºç«‹, CongWin = 1MSS<ul><li>å¦‚: MSS = 1460bytes &amp;RTT = 200 msecï¼Œåˆ™åˆå§‹é€Ÿç‡= 58.4kbps</li></ul></li><li>å¯ç”¨å¸¦å®½å¯èƒ½&gt;&gt;MSS/RTT<ul><li>åº”è¯¥å°½å¿«åŠ é€Ÿï¼Œåˆ°è¾¾å¸Œæœ›çš„é€Ÿç‡</li></ul></li><li>å½“è¿æ¥å¼€å§‹æ—¶ï¼ŒæŒ‡æ•°æ€§å¢åŠ å‘é€é€Ÿç‡ï¼Œç›´åˆ°å‘ç”Ÿä¸¢<br>å¤±çš„äº‹ä»¶<ul><li>å¯åŠ¨åˆå€¼å¾ˆä½</li><li>ä½†æ˜¯é€Ÿåº¦å¾ˆå¿«</li></ul></li><li>å½“è¿æ¥å¼€å§‹æ—¶ï¼ŒæŒ‡æ•°æ€§å¢åŠ ï¼ˆæ¯ä¸ªRTTï¼‰å‘é€é€Ÿç‡<br>ç›´åˆ°å‘ç”Ÿä¸¢å¤±äº‹ä»¶<ul><li>æ¯ä¸€ä¸ªRTTï¼Œ CongWinåŠ å€</li><li>æ¯æ”¶åˆ°ä¸€ä¸ªACKæ—¶ï¼ŒCongWinåŠ 1ï¼ˆä¸CongWinåŠ å€æ¦‚å¿µä¸€è‡´ï¼‰</li><li>æ…¢å¯åŠ¨é˜¶æ®µï¼šåªè¦ä¸è¶…æ—¶æˆ–3ä¸ªé‡å¤ackï¼Œä¸€ä¸ªRTTï¼Œ<br>CongWinåŠ å€</li></ul></li><li>æ€»ç»“: åˆå§‹é€Ÿç‡å¾ˆæ…¢ï¼Œä½†æ˜¯åŠ é€Ÿå´æ˜¯æŒ‡æ•°æ€§çš„<ul><li>æŒ‡æ•°å¢åŠ ï¼ŒSSæ—¶é—´å¾ˆçŸ­ï¼Œé•¿æœŸæ¥çœ‹å¯ä»¥å¿½ç•¥</li></ul></li></ul><p><img src="/2021/04/16/jsjwl03/image-20210421102444017.png" alt="TCPæ…¢å¯åŠ¨"></p><p>æ”¹è¿›</p><ul><li>Qï¼šä»€ä¹ˆæ—¶å€™åº”è¯¥å°†æŒ‡æ•°æ€§å¢é•¿å˜æˆçº¿æ€§ï¼Ÿ</li><li>Aï¼šåœ¨è¶…æ—¶ä¹‹å‰ï¼Œå½“CongWinå˜æˆä¸Šæ¬¡å‘ç”Ÿè¶…æ—¶çš„çª—å£çš„ä¸€åŠ</li><li>å®ç°ï¼š<ul><li>å˜é‡ï¼šThreshold</li><li>å‡ºç°ä¸¢å¤±ï¼ŒThresholdè®¾ç½®æˆCongWinçš„1/2</li></ul></li></ul></li><li><p>AIMDï¼šçº¿æ€§å¢åŠ ã€ä¹˜æ€§å‡å°‘</p><ul><li>ä¹˜æ€§å‡ï¼š<br>ä¸¢å¤±äº‹ä»¶åå°†CongWiné™ä¸º1ï¼Œå°†CongWin/2ä½œä¸ºé˜ˆå€¼ï¼Œè¿›å…¥æ…¢å¯åŠ¨é˜¶æ®µï¼ˆå€å¢ç›´åˆ°CongWin/2ï¼‰</li><li>åŠ æ€§å¢ï¼š<br>å½“CongWin&gt;é˜ˆå€¼æ—¶ï¼Œä¸€ä¸ªRTTå¦‚æ²¡æœ‰å‘ç”Ÿä¸¢å¤±äº‹ä»¶ï¼Œå°†CongWinåŠ 1MSSï¼šæ¢æµ‹</li></ul><p><img src="/2021/04/16/jsjwl03/image-20210421102659652.png" alt="AIMD"></p><ul><li><p>å½“æ”¶åˆ°3ä¸ªé‡å¤çš„ACKsï¼š</p><ul><li><p>CongWin å‡åŠ</p></li><li><p>çª—å£ï¼ˆç¼“å†²åŒºå¤§å°ï¼‰ä¹‹åçº¿æ€§å¢é•¿</p><blockquote><p>3ä¸ªé‡å¤çš„ACKè¡¨ç¤ºç½‘ç»œè¿˜æœ‰ä¸€å®šçš„æ®µä¼ è¾“èƒ½åŠ›ï¼Œè¶…æ—¶ä¹‹å‰çš„3ä¸ªé‡å¤çš„ACKè¡¨ç¤ºâ€œè­¦æŠ¥â€</p></blockquote></li></ul></li><li><p>å½“è¶…æ—¶äº‹ä»¶å‘ç”Ÿæ—¶ï¼š</p><ul><li>CongWinè¢«è®¾ç½®æˆ1MSSï¼Œè¿›å…¥SSé˜¶æ®µ</li><li>ä¹‹åçª—å£æŒ‡æ•°å¢é•¿</li><li>å¢é•¿åˆ°ä¸€ä¸ªé˜ˆå€¼ï¼ˆä¸Šæ¬¡å‘ç”Ÿæ‹¥å¡çš„çª—å£çš„ä¸€åŠï¼‰æ—¶ï¼Œå†çº¿æ€§å¢åŠ </li></ul></li></ul></li></ul></li><li><p>æ€»ç»“ï¼šTCPæ‹¥å¡æ§åˆ¶</p><ul><li>å½“CongWinï¼œThreshold, å‘é€ç«¯å¤„äºæ…¢å¯åŠ¨é˜¶æ®µï¼ˆslow-startï¼‰, çª—å£æŒ‡æ•°æ€§å¢é•¿ã€‚</li><li>å½“CongWinï¼Threshold, å‘é€ç«¯å¤„äºæ‹¥å¡é¿å…é˜¶æ®µï¼ˆcongestion-avoidanceï¼‰, çª—å£çº¿æ€§å¢é•¿ã€‚</li><li>å½“æ”¶åˆ°ä¸‰ä¸ªé‡å¤çš„ACKs (triple duplicate ACK)ï¼ŒThresholdè®¾ç½®æˆCongWin/2ï¼Œ**<font color="red">CongWin=Threshold+3ï¼Ÿï¼Ÿï¼Ÿ</font>**ã€‚</li><li>å½“è¶…æ—¶äº‹ä»¶å‘ç”Ÿæ—¶timeoutï¼ŒThreshold=CongWin/2ï¼ŒCongWin=1 MSSï¼Œè¿›å…¥SSé˜¶æ®µã€‚</li></ul><table><thead><tr><th>äº‹ä»¶</th><th>çŠ¶æ€</th><th>TCPå‘é€ç«¯è¡Œä¸º</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>ä»¥å‰æ²¡æœ‰æ”¶åˆ°ACKçš„dataè¢«ACKed</td><td>æ…¢å¯åŠ¨(SS)</td><td>CongWin = CongWin + MSSIf (CongWin &gt; Threshold)çŠ¶æ€å˜æˆâ€œCAâ€</td><td>æ¯ä¸€ä¸ªRTT CongWin åŠ å€</td></tr><tr><td>ä»¥å‰æ²¡æœ‰æ”¶åˆ°ACKçš„dataè¢«ACKed</td><td>æ‹¥å¡é¿å…(CA)</td><td>CongWin = CongWin+MSS *(MSS/CongWin)</td><td>åŠ æ€§å¢åŠ , æ¯ä¸€ä¸ªRTTå¯¹CongWin åŠ ä¸€ä¸ª1 MSS</td></tr><tr><td>é€šè¿‡æ”¶åˆ°3ä¸ªé‡å¤çš„ACKï¼Œå‘ç°ä¸¢å¤±çš„äº‹ä»¶</td><td>SS or CA</td><td>Threshold = CongWin/2,CongWin = Threshold+3,çŠ¶æ€å˜æˆâ€œCAâ€</td><td>å¿«é€Ÿé‡ä¼ , å®ç°ä¹˜æ€§çš„å‡.CongWin æ²¡æœ‰å˜æˆ1MSS.</td></tr><tr><td>è¶…æ—¶</td><td>SS or CA</td><td>Threshold = CongWin/2,CongWin = 1 MSS,çŠ¶æ€å˜æˆâ€œSSâ€</td><td>è¿›å…¥slow start</td></tr><tr><td>é‡å¤çš„ACK</td><td>SS or CA</td><td>å¯¹è¢«ACKed çš„segmentï¼Œ å¢åŠ é‡å¤ACKçš„è®¡æ•°</td><td>CongWin and Thresholdä¸å˜</td></tr></tbody></table><p><img src="/2021/04/16/jsjwl03/image-20210421104036896.png" alt="TCPæ‹¥å¡æ§åˆ¶ FSM"></p></li><li><p>TCPååé‡</p><ul><li><p>TCPçš„å¹³å‡ååé‡æ˜¯å¤šå°‘ï¼Œä½¿ç”¨çª—å£windowå°ºå¯¸Wå’ŒRTTæ¥æè¿°ï¼Ÿ</p><ul><li>å¿½ç•¥æ…¢å¯åŠ¨é˜¶æ®µï¼Œå‡è®¾å‘é€ç«¯æ€»æœ‰æ•°æ®ä¼ è¾“</li></ul></li><li><p>Wï¼šå‘ç”Ÿä¸¢å¤±äº‹ä»¶æ—¶çš„çª—å£å°ºå¯¸ï¼ˆå•ä½ï¼šå­—èŠ‚ï¼‰</p><ul><li>å¹³å‡çª—å£å°ºå¯¸ï¼ˆ#in-flightå­—èŠ‚ï¼‰ï¼š3/4W</li><li>å¹³å‡ååé‡ï¼šRTTæ—¶é—´åå3/4W</li></ul><p><img src="/2021/04/16/jsjwl03/image-20210421104344393.png" alt="TCPååé‡"></p><p><img src="/2021/04/16/jsjwl03/image-20210421104410539.png" alt="TCPæœªæ¥"></p></li></ul></li><li><p>TCPå…¬å¹³æ€§</p><p>å…¬å¹³æ€§ç›®æ ‡: å¦‚æœKä¸ªTCPä¼šè¯åˆ†äº«ä¸€ä¸ªé“¾è·¯å¸¦å®½ä¸ºRçš„ç“¶é¢ˆï¼Œæ¯ä¸€ä¸ªä¼šè¯çš„æœ‰æ•ˆå¸¦å®½ä¸ºR/K</p><p><img src="/2021/04/16/jsjwl03/image-20210421104457692.png" alt="TCPå…¬å¹³æ€§"></p><ul><li><p>ä¸ºä»€ä¹ˆTCPæ˜¯å…¬å¹³çš„ï¼Ÿ</p><ul><li><p>2ä¸ªç«äº‰çš„TCPä¼šè¯ï¼š</p><ul><li>åŠ æ€§å¢åŠ ï¼Œæ–œç‡ä¸º1, ååé‡å¢åŠ </li></ul></li><li><p>ä¹˜æ€§å‡ï¼Œååé‡æ¯”ä¾‹å‡å°‘</p><blockquote><p>æœ€ç»ˆæ•ˆæœï¼šå¯¹äºåŒä¸€å¸¦å®½Rï¼Œç«äº‰çš„nä¸ªä¼šè¯å‡åˆ†ï¼Œå„å ç”¨R/n</p></blockquote><p><img src="/2021/04/16/jsjwl03/image-20210421104625576.png" alt="TCPä¸ºä»€ä¹ˆæ˜¯å…¬å¹³çš„"></p></li></ul></li><li><p>å…¬å¹³æ€§å’ŒUDP</p><ul><li>å¤šåª’ä½“åº”ç”¨é€šå¸¸ä¸æ˜¯ç”¨TCP<ul><li>åº”ç”¨å‘é€çš„æ•°æ®é€Ÿç‡å¸Œæœ›ä¸å—æ‹¥å¡æ§åˆ¶çš„èŠ‚åˆ¶</li></ul></li><li>ä½¿ç”¨UDPï¼š<ul><li>éŸ³è§†é¢‘åº”ç”¨æ³µå‡ºæ•°æ®çš„é€Ÿç‡æ˜¯æ’å®šçš„, å¿½ç•¥æ•°æ®çš„ä¸¢å¤±</li></ul></li><li>ç ”ç©¶é¢†åŸŸ: TCP å‹å¥½æ€§</li></ul></li><li><p>å…¬å¹³æ€§å’Œå¹¶è¡ŒTCPè¿æ¥</p><ul><li>2ä¸ªä¸»æœºé—´å¯ä»¥æ‰“å¼€å¤šä¸ªå¹¶è¡Œçš„TCPè¿æ¥</li><li>å ç”¨å¸¦å®½ä¸ä¼šè¯ä¸ªæ•°æœ‰å…³ï¼šä¾‹å¦‚: å¸¦å®½ä¸ºRçš„é“¾è·¯æ”¯æŒäº†9ä¸ªè¿æ¥;<ul><li>å¦‚æœæ–°çš„åº”ç”¨è¦æ±‚å†å»º1ä¸ªTCPè¿æ¥,è·å¾—å¸¦å®½R/10</li><li>å¦‚æœæ–°çš„åº”ç”¨è¦æ±‚å†å»º11ä¸ªTCPè¿æ¥,è·å¾—å¸¦å®½11R/20</li></ul></li></ul></li></ul></li><li><p>Explicit Congestion Notification (ECN)æ˜¾ç¤ºæ‹¥å¡é€šå‘Š</p><ul><li><p>ç½‘ç»œè¾…åŠ©æ‹¥å¡æ§åˆ¶ï¼š</p></li><li><p>TOSå­—æ®µä¸­2ä¸ªbitè¢«ç½‘ç»œè·¯ç”±å™¨æ ‡è®°ï¼Œç”¨äºæŒ‡ç¤ºæ˜¯å¦å‘ç”Ÿæ‹¥å¡</p></li><li><p>æ‹¥å¡æŒ‡ç¤ºè¢«ä¼ é€åˆ°æ¥æ”¶ä¸»æœº</p></li><li><p>åœ¨æ¥æ”¶æ–¹-åˆ°å‘é€æ–¹çš„ACKä¸­ï¼Œæ¥æ”¶æ–¹(åœ¨IPæ•°æ®æŠ¥ä¸­çœ‹åˆ°äº†æ‹¥å¡æŒ‡ç¤ºï¼‰è®¾ç½®ECE bitï¼ŒæŒ‡ç¤ºå‘é€æ–¹å‘ç”Ÿäº†æ‹¥å¡</p><p><img src="/2021/04/16/jsjwl03/image-20210421105009143.png" alt="ECN"></p></li></ul></li></ul><h3 id="8-æ€»ç»“"><a href="#8-æ€»ç»“" class="headerlink" title="8 æ€»ç»“"></a>8 æ€»ç»“</h3><ul><li>ä¼ è¾“å±‚æä¾›çš„æœåŠ¡<ul><li>åº”ç”¨è¿›ç¨‹é—´çš„é€»è¾‘é€šä¿¡<ul><li>Vs ç½‘ç»œå±‚æä¾›çš„æ˜¯ä¸»æœºåˆ°ä¸»æœºçš„é€šä¿¡æœåŠ¡</li></ul></li><li>äº’è”ç½‘ä¸Šä¼ è¾“å±‚åè®®ï¼šUDP TCP<ul><li>ç‰¹æ€§</li></ul></li></ul></li><li>å¤šè·¯å¤ç”¨å’Œè§£å¤ç”¨<ul><li>ç«¯å£ï¼šä¼ è¾“å±‚çš„SAP</li><li>æ— è¿æ¥çš„å¤šè·¯å¤ç”¨å’Œè§£å¤ç”¨</li><li>é¢å‘è¿æ¥çš„å¤šè·¯å¤ç”¨å’Œè§£å¤ç”¨</li></ul></li><li>å®ä¾‹1ï¼šæ— è¿æ¥ä¼ è¾“å±‚åè®®UDP<ul><li>å¤šè·¯å¤ç”¨è§£å¤ç”¨</li><li>UDPæŠ¥æ–‡æ ¼å¼</li><li>æ£€é”™æœºåˆ¶ï¼šæ ¡éªŒå’Œ</li></ul></li><li>å¯é æ•°æ®ä¼ è¾“åŸç†<ul><li>é—®é¢˜æè¿°</li><li>åœæ­¢ç­‰å¾…åè®®ï¼š<ul><li>Rdt1.0 rdt2.0,2.1 ,2.2 Rdt 3.0</li></ul></li><li>æµæ°´çº¿åè®®<ul><li>GBN</li><li>SR</li></ul></li></ul></li><li>å®ä¾‹2ï¼šé¢å‘è¿æ¥çš„ä¼ è¾“å±‚åè®®-TCP<ul><li>æ¦‚è¿°ï¼šTCPç‰¹æ€§</li><li>æŠ¥æ–‡æ®µæ ¼å¼<ul><li>åºå·ï¼Œè¶…æ—¶æœºåˆ¶åŠæ—¶é—´</li></ul></li><li>TCPå¯é ä¼ è¾“æœºåˆ¶</li><li>é‡ä¼ ï¼Œå¿«é€Ÿé‡ä¼ </li><li>æµé‡æ§åˆ¶</li><li>è¿æ¥ç®¡ç†<ul><li>ä¸‰æ¬¡æ¡æ‰‹</li><li>å¯¹ç§°è¿æ¥é‡Šæ”¾</li></ul></li></ul></li><li>æ‹¥å¡æ§åˆ¶åŸç†<ul><li>ç½‘ç»œè¾…åŠ©çš„æ‹¥å¡æ§åˆ¶</li><li>ç«¯åˆ°ç«¯çš„æ‹¥å¡æ§åˆ¶</li></ul></li><li>TCPçš„æ‹¥å¡æ§åˆ¶<ul><li>AIMD</li><li>æ…¢å¯åŠ¨</li><li>è¶…æ—¶ä¹‹åçš„ä¿å®ˆç­–ç•¥</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¡ç®—æœºç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®åº“ç³»ç»Ÿ-åŸºç¡€å­¦ä¹ è·¯çº¿</title>
      <link href="2021/04/16/sjk/"/>
      <url>2021/04/16/sjk/</url>
      
        <content type="html"><![CDATA[<h2 id="æ•°æ®åº“ç³»ç»Ÿ"><a href="#æ•°æ®åº“ç³»ç»Ÿ" class="headerlink" title="æ•°æ®åº“ç³»ç»Ÿ"></a>æ•°æ®åº“ç³»ç»Ÿ</h2><h3 id="æ¨èä¹¦ç±"><a href="#æ¨èä¹¦ç±" class="headerlink" title="æ¨èä¹¦ç±"></a>æ¨èä¹¦ç±</h3><ul><li>ã€ŠMySQLå¿…çŸ¥å¿…ä¼šã€‹ - Ben forta </li><li>ã€Šé«˜æ€§èƒ½MySQLï¼ˆç¬¬3ç‰ˆï¼‰ã€‹ - Baron Schwartz </li></ul><h3 id="æ¨èè§†é¢‘"><a href="#æ¨èè§†é¢‘" class="headerlink" title="æ¨èè§†é¢‘"></a>æ¨èè§†é¢‘</h3><ul><li><a href="http://db.lcs.mit.edu/6.830/index.php">éº»çœç†å·¥å­¦é™¢ MIT 6.830</a></li><li><a href="http://www.icourse163.org/course/HIT-1001516002">å“ˆå°”æ»¨å·¥ä¸šå¤§å­¦ æ•°æ®åº“ç³»ç»Ÿ</a></li></ul><span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ç³»ç»Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®åº“ç³»ç»Ÿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡-åŸºç¡€å­¦ä¹ è·¯çº¿</title>
      <link href="2021/04/16/gl/"/>
      <url>2021/04/16/gl/</url>
      
        <content type="html"><![CDATA[<h2 id="æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡"><a href="#æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡" class="headerlink" title="æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡"></a>æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡</h2><h3 id="æ¨èä¹¦ç±"><a href="#æ¨èä¹¦ç±" class="headerlink" title="æ¨èä¹¦ç±"></a>æ¨èä¹¦ç±</h3><ul><li><p>ã€ŠProbability and Statisticsã€‹ -Morris H.Degroot</p></li><li><p>ã€Šæ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡ã€‹ -é™ˆå¸Œå­º</p></li></ul><h3 id="æ¨èè§†é¢‘"><a href="#æ¨èè§†é¢‘" class="headerlink" title="æ¨èè§†é¢‘"></a>æ¨èè§†é¢‘</h3><ul><li><a href="https://www.bilibili.com/video/BV1Zy4y1J7vM?p=2">æ¦‚ç‡æ•°å­¦åŸºç¡€ - å°æ¹¾å¤§å­¦å¶ä¸™æˆ</a></li><li><a href="https://www.bilibili.com/video/BV1ot411y7mU?from=search&seid=5596277735640438059">ã€Šæ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡ã€‹æ•™å­¦è§†é¢‘å…¨é›†ï¼ˆå®‹æµ©ï¼‰</a></li></ul><span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°å­¦ </tag>
            
            <tag> æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ“ä½œç³»ç»Ÿ-åŸºç¡€å­¦ä¹ è·¯çº¿</title>
      <link href="2021/04/16/os/"/>
      <url>2021/04/16/os/</url>
      
        <content type="html"><![CDATA[<h2 id="æ“ä½œç³»ç»Ÿ"><a href="#æ“ä½œç³»ç»Ÿ" class="headerlink" title="æ“ä½œç³»ç»Ÿ"></a>æ“ä½œç³»ç»Ÿ</h2><h3 id="æ¨èä¹¦ç±"><a href="#æ¨èä¹¦ç±" class="headerlink" title="æ¨èä¹¦ç±"></a>æ¨èä¹¦ç±</h3><ul><li>ã€Šç°ä»£æ“ä½œç³»ç»Ÿã€‹ - Andrew S. Tanenbaum</li><li>ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹</li><li>ã€Šæ“ä½œç³»ç»Ÿå¯¼è®ºã€‹- Remziï¼ŒH. </li></ul><h3 id="æ¨èè§†é¢‘"><a href="#æ¨èè§†é¢‘" class="headerlink" title="æ¨èè§†é¢‘"></a>æ¨èè§†é¢‘</h3><ul><li><a href="https://www.bilibili.com/video/BV1d4411v7u7?from=search&seid=9067503727200252128">æ“ä½œç³»ç»Ÿï¼ˆå“ˆå·¥å¤§ææ²»å†›è€å¸ˆï¼‰32è®²</a></li><li><a href="https://www.lanqiao.cn/courses/115">æ“ä½œç³»ç»Ÿï¼ˆå“ˆå·¥å¤§ææ²»å†›è€å¸ˆï¼‰32è®² -é…å¥—å®éªŒè¯¾</a></li><li><a href="https://www.bilibili.com/video/BV1iW411d7hd?from=search&seid=13353650717207742800d?from=search&seid=13353650717207742800">ã€ç²¾æ ¡ä¸­è‹±å­—å¹•ã€‘2015 CMU 15-213 CSAPP æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ</a></li></ul><h3 id="å…¶ä»–èµ„æ–™"><a href="#å…¶ä»–èµ„æ–™" class="headerlink" title="å…¶ä»–èµ„æ–™"></a>å…¶ä»–èµ„æ–™</h3><ul><li><a href="https://github.com/Exely/CSAPP-Labs">CSAPP-Labs</a></li></ul><span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> æ“ä½œç³»ç»Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ“ä½œç³»ç»Ÿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‹±è¯­å•è¯</title>
      <link href="2021/04/12/English01/"/>
      <url>2021/04/12/English01/</url>
      
        <content type="html"><![CDATA[<blockquote><ul><li>ä¸»è¦å‚è€ƒï¼š<ul><li><a href="https://www.bilibili.com/video/BV12E411B7A5/?spm_id_from=333.788.recommend_more_video.0">æœ±ä¼Ÿè€ƒç ”è‹±è¯­-æ‹è¯åºåˆ—ä¸€ï¼šé¢˜æº7000è¯</a></li></ul></li></ul></blockquote><h2 id="Unit-One"><a href="#Unit-One" class="headerlink" title="Unit One"></a>Unit One</h2><h3 id="state"><a href="#state" class="headerlink" title="state"></a>state</h3><ol><li>v. å£°ç§°ï¼Œå®£ç§°</li><li>n. æ”¿åºœ  å›½å®¶  <strong>å·</strong> ï¼›<strong>çŠ¶å†µï¼Œæƒ…å†µ</strong></li><li>adj. å›½å®¶çš„ å›½æœ‰çš„</li></ol><span id="more"></span><blockquote><p>ä¾‹å¥  He stated that â€œall hell will break loose, politically and morally, all over the world. â€œ</p><p>hell åœ°ç‹±</p><p>break loose æ¾å¼€</p><p>politically æ”¿æ²»åœ°</p><p>morally  é“å¾·åœ°</p></blockquote><blockquote><p>è€ƒç‚¹  to seek permission from state regulators</p><p>permission  n.å…è®¸   permit  v.å…è®¸</p><p>a state of mind  æ€æƒ³çŠ¶å†µ    a state of affairs  äº‹æƒ…çŠ¶å†µ</p></blockquote><p>æ´¾ç”Ÿï¼šstatement   n.  è¯„è®ºï¼Œå®£ç§°ã€å£°æ˜</p><ul><li><p>æ‹“å±•è¯æ±‡ï¼š</p><p>understate   v. è½»ææ·¡å†™åœ°è¡¨è¿°ï¼›æ·¡åŒ–ï¼ˆæŸäº‹çš„ä¸¥é‡æ€§ï¼‰</p><p>overstate v. å¤¸å¤§ï¼Œå¤¸å¼ ï¼ˆ=exaggerateï¼‰</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> English </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python</title>
      <link href="2021/04/12/python01/"/>
      <url>2021/04/12/python01/</url>
      
        <content type="html"><![CDATA[<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><ul><li>pythonæ˜¯ä¸€é—¨å®Œå…¨å¼€æºçš„é«˜çº§ç¼–ç¨‹è¯­è¨€ï¼Œæ‹¥æœ‰ä¼˜é›…çš„è¯­æ³•å’Œä¸°å¯Œçš„ç¬¬ä¸‰æ–¹åº“ã€‚</li><li>ç¼–ç¨‹è¯­è¨€ï¼Œæ˜¯ä¸€ç§ç”¨äºç¼–å†™è®¡ç®—æœºç¨‹åºçš„è¯­è¨€ï¼Œç”¨äºæ§åˆ¶è®¡ç®—æœºçš„è¡Œä¸ºã€‚</li><li>æŒ‰ç…§è¯­è¨€åœ¨æ‰§è¡Œä¹‹å‰æ˜¯å¦éœ€è¦ç¼–è¯‘åŒºåˆ†ï¼Œå¯ä»¥å°†ç¼–ç¨‹è¯­è¨€åˆ†ä¸ºéœ€è¦ç¼–è¯‘çš„ç¼–è¯‘å‹è¯­è¨€å’Œä¸éœ€è¦ç¼–è¯‘çš„è§£é‡Šå‹è¯­è¨€ã€‚</li></ul><p><img src="/2021/04/12/python01/image-20210413224609458.png" alt="ç¼–ç¨‹è¯­è¨€"></p><blockquote><p> è§£é‡Šå‹è¯­è¨€è¿è¡Œè¦æ¯”ç¼–è¯‘å‹è¯­è¨€æ…¢ã€‚</p></blockquote><span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> ç¼–ç¨‹è¯­è¨€ </tag>
            
            <tag> äººå·¥æ™ºèƒ½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ“ä½œç³»ç»Ÿç»ªè®º</title>
      <link href="2021/04/12/os01/"/>
      <url>2021/04/12/os01/</url>
      
        <content type="html"><![CDATA[<h2 id="æ“ä½œç³»ç»Ÿç»ªè®º"><a href="#æ“ä½œç³»ç»Ÿç»ªè®º" class="headerlink" title="æ“ä½œç³»ç»Ÿç»ªè®º"></a>æ“ä½œç³»ç»Ÿç»ªè®º</h2><blockquote><ul><li>ä¸»è¦å‚è€ƒä¹¦ç±ï¼š<ul><li>ã€Šæ“ä½œç³»ç»Ÿå¯¼è®ºã€‹ï¼ˆRemzi H. Arpaci-Dusseauã€Andrea C. Arpaci-Dusseau)</li><li>ã€Šæ“ä½œç³»ç»Ÿæ¦‚å¿µã€‹ï¼ˆAbraham Silberschatzã€Peter Bear  Galvinã€Greg  Gagneï¼‰</li></ul></li><li>ä¸»è¦å‚è€ƒè§†é¢‘ï¼š<ul><li><a href="https://www.bilibili.com/video/BV1d4411v7u7?from=search&seid=9067503727200252128">æ“ä½œç³»ç»Ÿï¼ˆå“ˆå·¥å¤§ææ²»å†›è€å¸ˆï¼‰32è®²ï¼ˆå…¨ï¼‰è¶…æ¸…</a></li></ul></li></ul></blockquote><span id="more"></span><h3 id="1-æ“ä½œç³»ç»Ÿä»‹ç»"><a href="#1-æ“ä½œç³»ç»Ÿä»‹ç»" class="headerlink" title="1 æ“ä½œç³»ç»Ÿä»‹ç»"></a>1 æ“ä½œç³»ç»Ÿä»‹ç»</h3><ul><li><p>ç¨‹åºè¿è¡Œæ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p><p>ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„ç¨‹åºä¼šåšä¸€ä»¶éå¸¸ç®€å•çš„äº‹ï¼šæ‰§è¡ŒæŒ‡ä»¤ã€‚</p><p>å¤„ç†å™¨ä»å†…å­˜ä¸­è·å–ï¼ˆfetchï¼‰ä¸€æ¡æŒ‡ä»¤ï¼Œå¯¹å…¶è¿›è¡Œè§£ç ï¼ˆdecodeï¼‰ï¼ˆå¼„æ¸…æ¥šè¿™æ˜¯å“ªä¸€æ¡æŒ‡ä»¤ï¼‰ï¼Œç„¶åæ‰§è¡Œ</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ“ä½œç³»ç»Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ“ä½œç³»ç»Ÿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºç½‘ç»œ-åº”ç”¨å±‚</title>
      <link href="2021/04/10/jsjwl02/"/>
      <url>2021/04/10/jsjwl02/</url>
      
        <content type="html"><![CDATA[<h2 id="è®¡ç®—æœºç½‘ç»œ-åº”ç”¨å±‚"><a href="#è®¡ç®—æœºç½‘ç»œ-åº”ç”¨å±‚" class="headerlink" title="è®¡ç®—æœºç½‘ç»œ-åº”ç”¨å±‚"></a>è®¡ç®—æœºç½‘ç»œ-åº”ç”¨å±‚</h2><ul><li><p>å­¦ä¹ ç›®æ ‡ï¼š</p><ul><li><p>ç½‘ç»œåº”ç”¨çš„åŸç†ï¼šç½‘ç»œåº”ç”¨åè®®çš„æ¦‚å¿µå’Œå®ç°æ–¹é¢</p><ul><li>ç½‘ç»œåº”ç”¨çš„ä½“ç³»ç»“æ„ï¼š<ul><li>å®¢æˆ·-æœåŠ¡å™¨æ¨¡å¼     å¯¹ç­‰æ¨¡å¼ï¼ˆpeer-to-peerï¼‰     æ··åˆç»“æ„</li></ul></li><li>ç½‘ç»œåº”ç”¨çš„æœåŠ¡éœ€æ±‚ï¼š<ul><li>å¯é æ€§     å¸¦å®½     æ—¶å»¶</li></ul></li></ul><span id="more"></span></li><li><p>ä¼ è¾“å±‚æä¾›çš„æœåŠ¡æ¨¡å‹</p><ul><li>TCPã€UDP å¦‚ä½•ä¸ºåº”ç”¨å±‚æä¾›çš„æ”¯æŒï¼Ÿ</li></ul></li><li><p>å†…å®¹åˆ†å‘ç½‘ç»œ</p></li><li><p>ç½‘ç»œåº”ç”¨çš„å®ä¾‹ï¼šäº’è”ç½‘æµè¡Œçš„åº”ç”¨å±‚åè®®</p><ul><li>webåº”ç”¨â€“HTTPåè®®</li><li>æ–‡ä»¶ä¼ è¾“åº”ç”¨â€“FTPåè®®</li><li>emailåº”ç”¨â€“SMTPã€POP3ã€IMAPåè®®</li><li>å®ç°ç½‘ç»œæ ¸å¿ƒåº”ç”¨åŠŸèƒ½çš„DNS</li></ul></li><li><p>ç¼–ç¨‹ï¼šå¦‚ä½•å¼€å‘ç½‘ç»œåº”ç”¨ç¨‹åºï¼Ÿ</p><ul><li>Socket API</li></ul></li></ul></li></ul><p><img src="/2021/04/10/jsjwl02/20190324183705231.png" alt="åº”ç”¨å±‚çŸ¥è¯†ç‚¹æ¡†å›¾"></p><h3 id="1-ç½‘ç»œåº”ç”¨ä½“ç³»ç»“æ„"><a href="#1-ç½‘ç»œåº”ç”¨ä½“ç³»ç»“æ„" class="headerlink" title="1 ç½‘ç»œåº”ç”¨ä½“ç³»ç»“æ„"></a>1 ç½‘ç»œåº”ç”¨ä½“ç³»ç»“æ„</h3><p>â€‹    ç½‘ç»œåº”ç”¨åœ¨ä¸åŒçš„ç«¯ç³»ç»Ÿä¸Šè¿è¡Œã€‚ç½‘ç»œåº”ç”¨é€šè¿‡ç½‘ç»œåŸºç¡€è®¾æ–½æä¾›çš„æœåŠ¡ï¼Œåº”ç”¨è¿›ç¨‹å½¼æ­¤ä¹‹é—´é€šä¿¡ã€‚ä¾‹å¦‚webåº”ç”¨ï¼ŒwebæœåŠ¡å™¨è½¯ä»¶å’Œæµè§ˆå™¨è½¯ä»¶é€šä¿¡ã€‚</p><p>â€‹    åœ¨ç½‘ç»œæ ¸å¿ƒä¸­æ²¡æœ‰åº”ç”¨å±‚è½¯ä»¶ï¼Œç½‘ç»œæ ¸å¿ƒä¸­æ²¡æœ‰åº”ç”¨å±‚åŠŸèƒ½ï¼Œç½‘ç»œåº”ç”¨åªåœ¨ç«¯ç³»ç»Ÿä¸Šå­˜åœ¨ï¼Œæ›´æ–¹ä¾¿ç½‘ç»œåº”ç”¨çš„å¼€å‘å’Œéƒ¨ç½²ã€‚</p><p><img src="/2021/04/10/jsjwl02/image-20210410165338821.png" alt="ç½‘ç»œåº”ç”¨å¼€å‘å’Œéƒ¨ç½²"></p><h4 id="1-1-å®¢æˆ·æœº-æœåŠ¡å™¨ç»“æ„ï¼ˆClient-Serverï¼ŒC-Sï¼‰"><a href="#1-1-å®¢æˆ·æœº-æœåŠ¡å™¨ç»“æ„ï¼ˆClient-Serverï¼ŒC-Sï¼‰" class="headerlink" title="1.1 å®¢æˆ·æœº/æœåŠ¡å™¨ç»“æ„ï¼ˆClient-Serverï¼ŒC/Sï¼‰"></a>1.1 å®¢æˆ·æœº/æœåŠ¡å™¨ç»“æ„ï¼ˆClient-Serverï¼ŒC/Sï¼‰</h4><p><img src="/2021/04/10/jsjwl02/image-20210410165429573.png" alt="C/S"></p><ul><li><p>æœåŠ¡å™¨</p><ul><li>ä¸€ç›´è¿è¡Œ</li><li>æ°¸ä¹…æ€§è®¿é—®åœ°å€/åŸŸå</li><li>åˆ©ç”¨å¤§é‡æœåŠ¡å™¨å®ç°å¯æ‹“å±•æ€§ï¼ŒæœåŠ¡å™¨åœºï¼Œæ•°æ®ä¸­å¿ƒè¿›è¡Œæ‰©å±•</li></ul></li><li><p>å®¢æˆ·æœº</p><ul><li>ä¸»åŠ¨ä¸æœåŠ¡å™¨é€šä¿¡ï¼Œä½¿ç”¨æœåŠ¡å™¨æä¾›çš„æœåŠ¡</li><li>é—´æ¥æ€§æ¥å…¥ç½‘ç»œ</li><li>å¯èƒ½æ˜¯åŠ¨æ€IPåœ°å€</li><li>ä¸ä¼šä¸å…¶ä»–å®¢æˆ·æœºç›´æ¥é€šä¿¡</li></ul></li><li><p>ç¼ºç‚¹ï¼š</p><ul><li>å¯æ‹“å±•æ€§å·®ï¼ŒæœåŠ¡å™¨æœ‰é™çš„æœåŠ¡èƒ½åŠ›ï¼Œé“¾è·¯å¸¦å®½é™åˆ¶ï¼›</li></ul><p><img src="/2021/04/10/jsjwl02/image-20210401180447699.png" alt="C/Sæ‹“å±•æ€§å·®"></p><ul><li>å¯é æ€§å·®ï¼Œä¾èµ–äºæœåŠ¡å™¨</li></ul></li></ul><blockquote><p>é€šå¸¸ï¼Œå¦‚æœä»…æœ‰ä¸€å°æœåŠ¡å™¨å¤„ç†æ‰€æœ‰çš„è¯·æ±‚ï¼Œé‚£ä¹ˆæœåŠ¡å™¨ç³»ç»Ÿå°†å¾ˆå¿«å˜å¾—ä¸å ªé‡è´Ÿï¼Œä¸ºæ­¤ï¼Œé…å¤‡å¤§é‡ä¸»æœºçš„æ•°æ®ä¸­å¿ƒå¸¸è¢«ç”¨äºåˆ›å»ºå¼ºå¤§çš„è™šæ‹Ÿçš„æœåŠ¡å™¨ï¼Œä¸€ä¸ªæ•°æ®ä¸­å¿ƒå¯ä»¥æœ‰æ•°åä¸‡å°æœåŠ¡å™¨ï¼Œå®ƒä»¬éœ€è¦ä¾›ç”µå’Œç»´æŠ¤ï¼ŒåŒæ—¶æœåŠ¡æä¾›å•†è¿˜éœ€è¦æ”¯ä»˜ä¸æ–­å‡ºç°çš„äº’è”å’Œå¸¦å®½è´¹ç”¨ï¼Œä»¥åŠå‘é€å’Œæ¥æ”¶åˆ°è¾¾/æ¥è‡ªæ•°æ®ä¸­å¿ƒçš„æ•°æ®ã€‚</p></blockquote><ul><li>åº”ç”¨ä¾‹å­ï¼šWebã€FTPã€Telnetå’Œç”µå­é‚®ä»¶</li></ul><h4 id="1-2-P2Pç»“æ„"><a href="#1-2-P2Pç»“æ„" class="headerlink" title="1.2 P2Pç»“æ„"></a>1.2 P2Pç»“æ„</h4><p><img src="/2021/04/10/jsjwl02/image-20210410165453140.png" alt="P2P"></p><ul><li><p>ï¼ˆå‡ ä¹ï¼‰æ— æ°¸è¿œåœ¨çº¿çš„æœåŠ¡å™¨</p></li><li><p>ä»»æ„ç«¯ç³»ç»Ÿ/èŠ‚ç‚¹ä¹‹é—´å¯ä»¥ç›´æ¥é€šè®¯</p></li><li><p>æ¯ä¸€èŠ‚ç‚¹æ—¢æ˜¯å®¢æˆ·ç«¯åˆæ˜¯æœåŠ¡å™¨</p><ul><li>è‡ªæ‰©å±•æ€§-æ–°peerèŠ‚ç‚¹å¸¦æ¥æ–°çš„æœåŠ¡èƒ½åŠ›ï¼Œå½“ç„¶ä¹Ÿå¸¦æ¥æ–°çš„æœåŠ¡è¯·æ±‚</li></ul><blockquote><p>æ¯”å¦‚åœ¨æ–‡ä»¶å…±äº«åº”ç”¨ä¸­ï¼Œå¯¹ç­‰æ–¹å¯èƒ½é€šè¿‡å‘æ–‡ä»¶çš„åŸå§‹æ‹¥æœ‰è€…å‘å‡ºè¯·æ±‚è€Œäº§ç”Ÿå·¥ä½œé‡ï¼Œä½†æ˜¯å¯¹ç­‰æ–¹ä¹Ÿæœ‰å¯èƒ½é€šè¿‡ä¸ºå…¶ä»–å¯¹ç­‰æ–¹ä¼ é€æ–‡ä»¶è€Œä¸ºåŸå§‹æ‹¥æœ‰è€…åˆ†æ‹…å‹åŠ›ã€‚</p></blockquote></li><li><p>èŠ‚ç‚¹é—´æ¥æ€§æ¥å…¥ç½‘ç»œä¸”å¯èƒ½æ”¹å˜IPåœ°å€</p></li><li><p>ä¼˜ç‚¹ï¼šé«˜åº¦å¯æ‹“å±•æ€§</p></li><li><p>ç¼ºç‚¹ï¼š</p><ul><li>ISPå‹å¥½ã€‚å¤§å¤šæ•°ä½å®…ISPå—åˆ¶äºéå¯¹ç§°å¸¦å®½åº”ç”¨ï¼Œä¹Ÿå°±æ˜¯ä¸‹è½½æ¯”ä¸Šä¼ è¦å¤šå¾—å¤šã€‚ä½†æ˜¯P2Pè§†é¢‘å’Œæ–‡ä»¶åˆ†å‘åº”ç”¨æ”¹å˜äº†ä»æœåŠ¡å™¨åˆ°ä½å®…ISPçš„ä¸Šä¼ æµé‡ï¼Œå› è€Œç»™ISPå¸¦æ¥å‹åŠ›ï¼›</li><li>å®‰å…¨æ€§ã€‚å› ä¸ºå…¶é«˜åº¦çš„åˆ†å¸ƒå’Œå¼€æ”¾å¼ï¼ŒP2Påº”ç”¨ä¹Ÿå¯èƒ½ç»™å®‰å…¨å¸¦æ¥æŒ‘æˆ˜ï¼›</li><li>æ¿€åŠ±ã€‚å¦‚ä½•è¯´æœç”¨æˆ·èµ„æºå‘åº”ç”¨æä¾›å¸¦å®½ã€å­˜å‚¨å’Œè®¡ç®—èµ„æºï¼Ÿè¿™æ˜¯ä¸€ä¸ªé—®é¢˜ï¼›</li></ul></li><li><p>åº”ç”¨ä¾‹å­ï¼šç›®å‰ï¼Œæµé‡å¯†é›†å‹åº”ç”¨éƒ½æ˜¯P2Pä½“ç³»ç»“æ„çš„ã€‚è¿™äº›åº”ç”¨åŒ…æ‹¬æ–‡ä»¶å…±äº«ï¼ˆä¾‹å¦‚BitTorrentï¼‰ã€ååŠ©ä¸‹è½½ï¼ˆä¾‹å¦‚è¿…é›·ï¼‰ã€å› ç‰¹ç½‘ç”µè¯ï¼ˆä¾‹å¦‚Skypeï¼‰å’ŒIPTV(ä¾‹å¦‚è¿…é›·çœ‹çœ‹)ã€‚</p></li></ul><h4 id="1-3-æ··åˆç»“æ„"><a href="#1-3-æ··åˆç»“æ„" class="headerlink" title="1.3 æ··åˆç»“æ„"></a>1.3 æ··åˆç»“æ„</h4><ul><li><p>Napster</p><ul><li><p>æ–‡ä»¶ä¼ è¾“ä½¿ç”¨P2Pç»“æ„</p><ul><li>ä»»æ„PeerèŠ‚ç‚¹ä¹‹é—´</li></ul></li><li><p>æ–‡ä»¶çš„æœç´¢é‡‡ç”¨C/Sç»“æ„â€“é›†ä¸­å¼</p><ul><li>æ¯ä¸ªç»“ç‚¹å‘ä¸­å¤®æœåŠ¡å™¨ç™»è®°è‡ªå·±çš„èµ„æºä¿¡æ¯</li><li>æ¯ä¸ªç»“ç‚¹å‘ä¸­å¤®æœåŠ¡å™¨æäº¤æŸ¥è¯¢è¯·æ±‚ï¼ŒæŸ¥æ‰¾ç›¸åº”èµ„æº</li></ul><p><img src="/2021/04/10/jsjwl02/image-20210331234531220.png" alt="Napster"></p></li></ul></li><li><p>ä¾‹ï¼šå³æ—¶é€šä¿¡</p><ul><li>åœ¨çº¿æ£€æµ‹ï¼šé›†ä¸­<ul><li>å½“ç”¨æˆ·ä¸Šçº¿æ—¶ï¼Œå‘ä¸­å¿ƒæœåŠ¡å™¨æ³¨å†Œå…¶IPåœ°å€</li><li>ç”¨æˆ·ä¸ä¸­å¿ƒæœåŠ¡å™¨è”ç³»ï¼Œä»¥æ‰¾åˆ°å…¶åœ¨çº¿å¥½å‹çš„ä½ç½®</li></ul></li><li>ä¸¤ä¸ªç”¨æˆ·ä¹‹é—´èŠå¤©ï¼šP2P</li></ul></li></ul><h3 id="2-ç½‘ç»œåº”ç”¨çš„è¿›ç¨‹é—´é€šä¿¡"><a href="#2-ç½‘ç»œåº”ç”¨çš„è¿›ç¨‹é—´é€šä¿¡" class="headerlink" title="2 ç½‘ç»œåº”ç”¨çš„è¿›ç¨‹é—´é€šä¿¡"></a>2 ç½‘ç»œåº”ç”¨çš„è¿›ç¨‹é—´é€šä¿¡</h3><p>åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œå®é™…è¿›è¡Œé€šä¿¡çš„æ˜¯è¿›ç¨‹è€Œä¸æ˜¯åº”ç”¨ç¨‹åºã€‚<br>å½“è¿›ç¨‹è¿è¡Œåœ¨åŒä¸€ä¸ªç«¯ç³»ç»Ÿä¸Šæ—¶ï¼Œå®ƒä»¬ä½¿ç”¨è¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ç›¸äº’é€šä¿¡ï¼›è€Œè¿›ç¨‹é—´é€šä¿¡çš„è§„åˆ™æ˜¯ç”±ç«¯ç³»ç»Ÿä¸Šçš„æ“ä½œç³»ç»Ÿç¡®å®šçš„ã€‚<br>å½“è¿›ç¨‹è¿è¡Œåœ¨ä¸åŒçš„ç«¯ç³»ç»Ÿä¸Šæ—¶ï¼Œå®ƒä»¬é€šè¿‡è·¨è¶Šè®¡ç®—æœºç½‘ç»œçš„æŠ¥æ–‡ç›¸äº’é€šä¿¡ï¼›å‘é€è¿›ç¨‹äº§ç”ŸæŠ¥æ–‡å¹¶ä¸”å‘ç½‘ç»œä¸­å‘é€ï¼Œæ¥æ”¶è¿›ç¨‹æ¥æ”¶æŠ¥æ–‡å¹¶å¯¹æ­¤ä½œå‡ºå“åº”ï¼ˆä¸å“åº”ä¹Ÿæ˜¯ä¸€ç§å“åº”ï¼‰ã€‚</p><h4 id="2-1-è¿›ç¨‹é—´é€šä¿¡åŸºæœ¬æ¦‚å¿µ"><a href="#2-1-è¿›ç¨‹é—´é€šä¿¡åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="2.1 è¿›ç¨‹é—´é€šä¿¡åŸºæœ¬æ¦‚å¿µ"></a>2.1 è¿›ç¨‹é—´é€šä¿¡åŸºæœ¬æ¦‚å¿µ</h4><ul><li><p>ç½‘ç»œåº”ç”¨çš„åŸºç¡€ï¼šè¿›ç¨‹é—´é€šä¿¡</p></li><li><p>è¿›ç¨‹ï¼šä¸»æœºä¸Šè¿è¡Œçš„ç¨‹åº</p></li><li><p>åŒä¸€ä¸»æœºä¸Šè¿è¡Œçš„è¿›ç¨‹ä¹‹é—´å¦‚ä½•é€šä¿¡ï¼Ÿ</p><ul><li>è¿›ç¨‹é—´é€šä¿¡æ§åˆ¶ï¼ˆç”±æ“ä½œç³»ç»Ÿæä¾›ï¼‰</li></ul></li><li><p>ä¸åŒä¸»æœºä¸Šè¿è¡Œçš„è¿›ç¨‹é—´å¦‚ä½•é€šä¿¡ï¼Ÿ</p><ul><li><p>æŒ‰ç…§ç½‘ç»œåº”ç”¨åè®®è¿›è¡Œæ¶ˆæ¯äº¤æ¢ï¼ˆä¾‹å¦‚æŠ¥æ–‡äº¤æ¢ï¼‰</p><ul><li>å€ŸåŠ©ä¼ è¾“å±‚æä¾›çš„æœåŠ¡</li></ul></li><li><p>åŒæ—¶ä½¿ç”¨OSæä¾›çš„é€šä¿¡æœåŠ¡</p></li></ul></li><li><p>å®¢æˆ·æœºè¿›ç¨‹/æœåŠ¡å™¨è¿›ç¨‹</p><ul><li>å®¢æˆ·æœºè¿›ç¨‹ï¼šå‘èµ·é€šä¿¡çš„è¿›ç¨‹</li><li>æœåŠ¡å™¨è¿›ç¨‹ï¼šç­‰å¾…é€šä¿¡è¯·æ±‚çš„è¿›ç¨‹</li></ul><blockquote><p> åœ¨P2Pæ¶æ„çš„åº”ç”¨ä¸­ä¹Ÿå­˜åœ¨å®¢æˆ·æœºè¿›ç¨‹ã€æœåŠ¡å™¨è¿›ç¨‹è¿™æ ·è¿›ç¨‹å…³ç³»ã€‚åœ¨æŸäº›P2Påº”ç”¨ä¸­ï¼Œä¸€ä¸ªè¿›ç¨‹å¯èƒ½æ—¢æ˜¯å®¢æˆ·ä¹Ÿæ˜¯æœåŠ¡å™¨ï¼Œå› ä¸ºåœ¨ä¸€ä¸ªæ–‡ä»¶å…±äº«åº”ç”¨ä¸­ï¼Œä¸€ä¸ªè¿›ç¨‹çš„ç¡®æ—¢èƒ½è¯·æ±‚æ–‡ä»¶ä¹Ÿèƒ½å‘é€æ–‡ä»¶ã€‚æ‰€ä»¥ä»è¿›ç¨‹æ‰€æ‰®æ¼”çš„è§’è‰²æ¥åŒºåˆ†æ˜¯å®¢æˆ·è¿›ç¨‹è¿˜æ˜¯æœåŠ¡å™¨è¿›ç¨‹ä¸å¤Ÿç²¾ç¡®ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»å‘èµ·é€šä¿¡çš„é¡ºåºæ¥å®šä¹‰å®ƒä»¬ï¼š<strong>åœ¨ç»™å®šçš„ä¸€å¯¹è¿›ç¨‹ä¹‹é—´ï¼Œé¦–å…ˆå‘èµ·é€šä¿¡çš„è¿›ç¨‹è¢«æ ‡è®°ä¸ºå®¢æˆ·è¿›ç¨‹ï¼Œåœ¨ä¼šè¯å¼€å§‹æ—¶ç­‰å¾…è”ç³»çš„è¿›ç¨‹è¢«ç§°ä¸ºæœåŠ¡å™¨è¿›ç¨‹ã€‚</strong></p></blockquote></li></ul><h4 id="2-2-åˆ†å¸ƒå¼è¿›ç¨‹é—´é€šä¿¡å®ç°æœºåˆ¶"><a href="#2-2-åˆ†å¸ƒå¼è¿›ç¨‹é—´é€šä¿¡å®ç°æœºåˆ¶" class="headerlink" title="2.2 åˆ†å¸ƒå¼è¿›ç¨‹é—´é€šä¿¡å®ç°æœºåˆ¶"></a>2.2 åˆ†å¸ƒå¼è¿›ç¨‹é—´é€šä¿¡å®ç°æœºåˆ¶</h4><p><img src="/2021/04/10/jsjwl02/image-20210410172627902.png" alt="åˆ†å¸ƒå¼è¿›ç¨‹é—´é€šä¿¡"></p><ul><li><p>åˆ†å¸ƒå¼è¿›ç¨‹é—´é€šä¿¡éœ€è¦è§£å†³çš„é—®é¢˜ï¼š</p><ul><li><p>é—®é¢˜1ï¼šè¿›ç¨‹æ ‡ç¤ºå’Œå¯»å€é—®é¢˜ï¼ˆæœåŠ¡ç”¨æˆ·ï¼‰ </p><ul><li>å¯¹è¿›ç¨‹è¿›è¡Œç¼–å€ï¼šè¿›ç¨‹ä¸ºäº†æ¥æ”¶æŠ¥æ–‡ï¼Œå¿…é¡»æœ‰ä¸€ä¸ªæ ‡è¯†ï¼Œå³SAPï¼ˆå‘é€ä¹Ÿéœ€è¦æ ‡è¯†ï¼‰<ul><li>ä¸»æœºï¼šå”¯ä¸€çš„32ä½IPåœ°å€<ul><li>ä»…ä»…æœ‰IPåœ°å€ä¸èƒ½å¤Ÿå”¯ä¸€æ ‡è¯†ä¸€ä¸ªè¿›ç¨‹ï¼šåœ¨ä¸€å°ç«¯ç³»ç»Ÿä¸Šæœ‰å¾ˆå¤šè¿›ç¨‹åœ¨è¿è¡Œ</li></ul></li><li>ç«¯å£å·ï¼ˆPort Numbersï¼‰ï¼ˆ16bitï¼‰ï¼šç¡®å®šæ˜¯å“ªä¸€ä¸ªè¿›ç¨‹</li><li>æ‰€é‡‡ç”¨çš„ä¼ è¾“å±‚åè®®ï¼šTCP or UDP<ul><li>å¸¸è§ç«¯å£å·ä¾‹å­ï¼š<ul><li>HTTPï¼šTCP 80</li><li>Mailï¼šTCP 25</li><li>FTPï¼šTCP 2</li></ul></li></ul></li></ul></li><li>ä¸€ä¸ªè¿›ç¨‹ï¼šç”¨IP+portæ ‡ç¤º ç«¯èŠ‚ç‚¹(end-point)</li><li>æœ¬è´¨ä¸Šï¼Œä¸€å¯¹ä¸»æœºè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ç”±2ä¸ªç«¯ç»“ç‚¹æ„æˆ</li></ul></li><li><p>é—®é¢˜2ï¼šä¼ è¾“å±‚-åº”ç”¨å±‚æä¾›æœåŠ¡æ˜¯å¦‚ä½•ï¼ˆæœåŠ¡ï¼‰ </p><ul><li>ä¼ è¾“å±‚æä¾›çš„æœåŠ¡-åº”ç”¨å±‚ä¸ä¼ è¾“å±‚å±‚é—´æ¥å£å¿…é¡»è¦ä¼ é€’çš„ä¿¡æ¯ï¼š<ul><li>è¦ä¼ è¾“çš„æŠ¥æ–‡ï¼ˆå¯¹æœ¬å±‚æ¥è¯´ï¼šSDUï¼‰</li><li>è°ä¼ çš„ï¼šå¯¹æ–¹çš„åº”ç”¨è¿›ç¨‹çš„æ ‡ç¤ºï¼šIP+TCPï¼ˆUDPï¼‰ç«¯å£å·</li><li>ä¼ ç»™è°ï¼šå¯¹æ–¹çš„åº”ç”¨è¿›ç¨‹çš„æ ‡ç¤ºï¼šå¯¹æ–¹çš„IP+TCPï¼ˆUDPï¼‰ç«¯å£å·</li></ul></li><li>ä¼ è¾“å±‚å®ä½“ï¼ˆTCPæˆ–è€…UDPå®ä½“ï¼‰æ ¹æ®åº”ç”¨å±‚ä¼ è¾“çš„ä¿¡æ¯è¿›è¡ŒTCPæŠ¥æ–‡æ®µï¼ˆæˆ–è€…UDPæŠ¥æ–‡æ®µï¼‰çš„å°è£…<ul><li>æºç«¯å£å·ï¼Œç›®æ ‡ç«¯å£å·ç­‰å°è£…ä¸ºæŠ¥æ–‡æ®µå¤´éƒ¨ï¼Œæ•°æ®ç­‰å°è£…åˆ°æŠ¥æ–‡æ®µè´Ÿè½½</li><li>å¹¶å°†IPåœ°å€ï¼ˆæºIPï¼Œç›®æ ‡IPï¼‰å¾€ä¸‹äº¤ç»™IPå®ä½“ï¼Œç”¨äºå°è£…IPæ•°æ®æŠ¥</li></ul></li></ul><p>â€‹    å¦‚æœæ¯æ¬¡ä¸¤ä¸ªä¸»æœºçš„ä¸¤ä¸ªç‰¹å®šåº”ç”¨ç¨‹åºä¸€æ®µæ—¶é—´å†…å¤šæ¬¡è¿›è¡Œä¿¡æ¯ä¼ é€’æˆ–è€…è¿›è¡Œä¿¡æ¯ä¼ é€’æ¯”è¾ƒé¢‘ç¹ï¼Œæ¯æ¬¡ä¼ é€’ä¿¡æ¯éƒ½éœ€è¦ä¼ é€’è‡ªå·±çš„å’Œå¯¹æ–¹çš„IP+ç«¯å£å·ï¼Œéƒ½æºå¸¦å¦‚æ­¤å¤šä¿¡æ¯ï¼Œå¤ªç¹çæ˜“é”™ï¼Œä¸ä¾¿äºç®¡ç†ã€‚</p><p>â€‹    æ‰€ä»¥åœ¨åº”ç”¨å±‚å’Œä¼ è¾“å±‚ä¹‹é—´å¼•å…¥äº†Socketï¼Œç”¨ä¸€ä¸ªæœ¬åœ°ä»£å·æ¥æ ‡è¯†é€šä¿¡çš„åŒæ–¹ï¼ˆTCPï¼‰æˆ–è€…å•æ–¹ï¼ˆUDPï¼‰ã€‚å°±åƒæ˜¯OSæ‰“å¼€æ–‡ä»¶è¿”å›çš„å¥æŸ„ä¸€æ ·ï¼Œå¯¹å¥æŸ„çš„æ“ä½œï¼Œå°±æ˜¯å¯¹æ–‡ä»¶çš„æ“ä½œï¼Œè€Œä¸ç”¨å†ä½¿ç”¨è¿™ä¸ªæ–‡ä»¶çš„ç›®å½•åã€æ–‡ä»¶åã€‚</p><ul><li><p><strong>TCP socketï¼š</strong></p><p>TCPæœåŠ¡ï¼Œä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡éœ€è¦é€šä¿¡ä¹‹å‰å°±å»ºç«‹è¿æ¥<font color="#A9A9A9">(ä¸¤ä¸ªè¿›ç¨‹é€šä¿¡ä¼šæŒç»­ä¸€ç«¯æ—¶é—´ï¼Œé€šä¿¡å…³ç³»ç¨³å®š)</font>ã€‚å¯ä»¥ç”¨ä¸€ä¸ªæ•´æ•°å³Socketï¼ˆç±»ä¼¼å¥æŸ„ï¼‰æ¥åœ¨æœ¬åœ°å¯¹ä¸¤ä¸ªåº”ç”¨å®ä½“ä¹‹é—´çš„é€šä¿¡å…³ç³»è¿›è¡Œæ ‡ç¤ºã€‚è¿™æ ·ä¸¤ä¸ªåº”ç”¨å®ä½“ä¹‹é—´é€šä¿¡æ—¶ï¼Œç©¿è¿‡å±‚é—´æ¥å£çš„ä¿¡æ¯å°±åªéœ€è¦åŒ…å«æ‰€éœ€ä¼ é€’çš„æ¶ˆæ¯æ•°æ®ã€‚</p><p>å¯¹äºä½¿ç”¨é¢å‘è¿æ¥æœåŠ¡ï¼ˆTCPï¼‰çš„åº”ç”¨è€Œè¨€ï¼ŒTCP socketæ˜¯4å…ƒç»„çš„ä¸€ä¸ªå…·æœ‰<strong>æœ¬åœ°æ„ä¹‰</strong><font color="#A9A9A9">(åªæœ‰æœ¬åœ°çš„åº”ç”¨å±‚å’Œä¼ è¾“å±‚çŸ¥é“)</font>çš„æ ‡ç¤ºã€‚4å…ƒç»„ï¼šæºIPï¼Œæºç«¯å£ï¼Œç›®æ ‡IPï¼Œç›®æ ‡ç«¯å£</p><blockquote><p>TCP socketå”¯ä¸€çš„æŒ‡å®šäº†ä¸€ä¸ªä¼šè¯ï¼ˆä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´çš„ä¼šè¯å…³ç³»ï¼‰</p><p>åº”ç”¨ä½¿ç”¨è¿™ä¸ªæ ‡ç¤ºä¸è¿œç¨‹çš„åº”ç”¨è¿›ç¨‹è¿›è¡Œé€šä¿¡ï¼Œä¸å¿…åœ¨æ¯ä¸ªæŠ¥æ–‡çš„å‘é€éƒ½æŒ‡å®šè¿™4å…ƒç»„ã€‚</p><p>ç®€å•ï¼Œä¾¿äºç®¡ç†ï¼›åŒæ—¶å‡å°‘ç©¿è¿‡å±‚é—´çš„æ•°æ®</p></blockquote></li></ul><p><img src="/2021/04/10/jsjwl02/image-20210411094526831.png" alt="TCP socket"></p><ul><li><strong>UDP socketï¼š</strong></li></ul><p>UDPæœåŠ¡ï¼Œä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ä¹‹å‰æ— éœ€å»ºç«‹è¿æ¥<font color="#A9A9A9">ï¼ˆæ¯ä¸ªæŠ¥æ–‡éƒ½æ˜¯ç‹¬ç«‹ä¼ è¾“çš„ï¼Œå‰åæŠ¥æ–‡å¯èƒ½ç»™ä¸åŒçš„åˆ†å¸ƒå¼è¿›ç¨‹ï¼‰</font>ã€‚å› æ­¤åªèƒ½ç”¨ä¸€ä¸ªæ•´æ•°è¡¨ç¤ºæœ¬åº”ç”¨å®ä½“çš„æ ‡ç¤ºã€‚</p><p>UDP socketæ˜¯2å…ƒç»„ï¼ˆæºIPï¼Œæºç«¯å£ï¼‰çš„ä¸€ä¸ªå…·æœ‰æœ¬åœ°æ„ä¹‰çš„æ ‡ç¤ºã€‚UDPå¥—æ¥å­—æŒ‡å®šäº†åº”ç”¨æ‰€åœ¨çš„ä¸€ä¸ªç«¯ç»“ç‚¹ï¼ˆend-pointï¼‰ã€‚</p><p>åœ¨å‘é€æ•°æ®æŠ¥æ—¶ï¼Œé‡‡ç”¨åˆ›å»ºå¥½çš„æœ¬åœ°å¥—æ¥å­—ï¼ˆæ ‡ç¤ºIDï¼‰ï¼Œå°±ä¸å¿…å†å‘é€æ¯ä¸ªæŠ¥æ–‡ä¸­è‡ªå·±çš„ipå’Œportã€‚ä½†æ˜¯ä¼ è¾“æŠ¥æ–‡æ—¶ï¼Œå¿…é¡»æä¾›ç›®çš„IPå’Œç›®çš„ç«¯å£å·ã€‚æ¥å—æŠ¥æ–‡çš„æ—¶å€™ï¼Œä¼ è¾“å±‚åŒæ ·éœ€è¦ä¸Šä¼ å¯¹æ–¹çš„IPå’Œç«¯å£å·ã€‚</p><p><img src="/2021/04/10/jsjwl02/image-20210411100319390.png" alt="UDP socket"></p><ul><li><p>å¥—æ¥å­—ï¼ˆSocketï¼‰</p><ul><li>è¿›ç¨‹å‘å¥—æ¥å­—å‘é€æŠ¥æ–‡æˆ–è€…ä»å¥—æ¥å­—æ¥å—æŠ¥æ–‡</li></ul><p><img src="/2021/04/10/jsjwl02/image-20210411100617644.png" alt="å¥—æ¥å­—"></p></li><li><p>ä¼ è¾“å±‚-åº”ç”¨å±‚æä¾›æœåŠ¡çš„ï¼š</p><p>ä½ç½®ï¼šå±‚é—´ç•Œé¢çš„SAP ï¼ˆTCP/IP ï¼šsocketï¼‰ </p><p>å½¢å¼ï¼šåº”ç”¨ç¨‹åºæ¥å£API ï¼ˆTCP/IP ï¼šsocket APIï¼‰</p></li></ul></li><li><p>é—®é¢˜3ï¼šå¦‚ä½•ä½¿ç”¨ä¼ è¾“å±‚æä¾›çš„æœåŠ¡ï¼Œå®ç°åº”ç”¨è¿›ç¨‹ä¹‹é—´çš„æŠ¥æ–‡äº¤æ¢ï¼Œå®ç°åº”ç”¨ï¼ˆç”¨æˆ·ä½¿ç”¨æœåŠ¡ï¼‰</p><ul><li><p>å®šä¹‰åº”ç”¨å±‚åè®®ï¼Œåè®®å®šä¹‰äº†è¿è¡Œåœ¨ä¸åŒç«¯ç³»ç»Ÿä¸Šçš„åº”ç”¨è¿›ç¨‹å¦‚ä½•ç›¸äº’äº¤æ¢æŠ¥æ–‡</p><ul><li>äº¤æ¢æŠ¥æ–‡ç±»å‹ï¼šè¯·æ±‚å’Œåº”ç­”æŠ¥æ–‡</li><li>å„ç§æŠ¥æ–‡ç±»å‹çš„è¯­æ³•ï¼šæŠ¥æ–‡ä¸­çš„å„å­—æ®µåŠå…¶æè¿°</li><li>å­—æ®µçš„è¯­ä¹‰ï¼šå³å­—æ®µå–å€¼çš„å«ä¹‰</li><li>è¿›ç¨‹ä½•æ—¶ã€å¦‚ä½•å‘é€æŠ¥æ–‡åŠå¯¹æŠ¥æ–‡è¿›è¡Œå“åº”çš„è§„åˆ™</li></ul><blockquote><p>åº”ç”¨åè®®ä»…æ˜¯åº”ç”¨çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ã€‚ä¾‹å¦‚ï¼šwebåº”ç”¨åŒ…å«äº†HTTPåè®®ï¼Œwebå®¢æˆ·ç«¯ï¼ŒwebæœåŠ¡å™¨ï¼ŒHTMLç­‰</p></blockquote><blockquote><p>å®ä½“ï¼šä»…ä»…å’Œç½‘ç»œäº¤äº’æœ‰å…³çš„ã€éµå®ˆåè®®çš„ä¸”æ˜¯è¿è¡Œä¸­çš„è½¯ä»¶æ¨¡å—å’Œç¡¬ä»¶æ¨¡å—è¢«ç§°ä¸ºå®ä½“ã€‚</p></blockquote><blockquote><p>å…¬å¼€åè®®ï¼š</p><p>â€‹    ç”±RFCæ–‡æ¡£å®šä¹‰</p><p>â€‹    å…è®¸äº’æ“ä½œ</p><p>â€‹    å¦‚HTTPï¼ŒSMTP</p><p>ä¸“ç”¨ï¼ˆç§æœ‰ï¼‰åè®®ï¼š</p><p>â€‹    åè®®ä¸å…¬å¼€ï¼Œå¦‚ï¼šSkype</p></blockquote></li><li><p>ç¼–åˆ¶ç¨‹åºï¼Œä½¿ç”¨OSæä¾›çš„API ï¼Œè°ƒç”¨ç½‘ç»œåŸºç¡€è®¾æ–½æä¾›é€šä¿¡æœåŠ¡ä¼ æŠ¥æ–‡ï¼Œè§£ææŠ¥æ–‡ï¼Œå®ç°åº”ç”¨æ—¶åºç­‰ï¼›</p><ul><li>ä¼ è¾“åŸºç¡€è®¾æ–½å‘è¿›ç¨‹æä¾›API<ul><li>ä¼ è¾“åè®®çš„é€‰æ‹©</li><li>å‚æ•°çš„è®¾ç½®<h3 id="3-Internetä¼ è¾“å±‚æœåŠ¡æ¨¡å‹"><a href="#3-Internetä¼ è¾“å±‚æœåŠ¡æ¨¡å‹" class="headerlink" title="3 Internetä¼ è¾“å±‚æœåŠ¡æ¨¡å‹"></a>3 Internetä¼ è¾“å±‚æœåŠ¡æ¨¡å‹</h3></li></ul></li></ul></li></ul></li></ul></li><li><p>é—®é¢˜4ï¼šåº”ç”¨éœ€è¦ä¼ è¾“å±‚æä¾›ä»€ä¹ˆæ ·çš„æœåŠ¡ï¼Ÿå¦‚ä½•æè¿°ä¼ è¾“å±‚çš„æœåŠ¡ï¼Ÿ</p><h4 id="3-1-æè¿°ä¼ è¾“å±‚æŒ‡æ ‡"><a href="#3-1-æè¿°ä¼ è¾“å±‚æŒ‡æ ‡" class="headerlink" title="3.1 æè¿°ä¼ è¾“å±‚æŒ‡æ ‡"></a>3.1 æè¿°ä¼ è¾“å±‚æŒ‡æ ‡</h4><ul><li>æ•°æ®ä¸¢å¤±ç‡<ul><li>æœ‰äº›åº”ç”¨ï¼ˆå¦‚éŸ³é¢‘ï¼‰èƒ½å®¹å¿ä¸€å®šæ¯”ä¾‹ä»¥ä¸‹çš„æ•°æ®ä¸¢å¤±</li><li>æœ‰äº›åº”ç”¨åˆ™è¦æ±‚100%çš„å¯é æ•°æ®ä¼ è¾“ï¼ˆå¦‚æ–‡ä»¶ï¼‰</li></ul></li><li>å»¶è¿Ÿ<ul><li>ä¸€äº›åº”ç”¨å‡ºäºæœ‰æ•ˆæ€§çš„è€ƒè™‘ï¼Œå¯¹æ•°æ®ä¼ è¾“æœ‰ä¸¥æ ¼çš„æ—¶é—´é™åˆ¶<ul><li>Internetç”µè¯ã€äº¤äº’å¼æ¸¸æˆ</li></ul></li></ul></li><li>åå<ul><li>ä¸€äº›åº”ç”¨ï¼ˆå¦‚å¤šåª’ä½“ï¼‰å¿…é¡»éœ€è¦æœ€å°é™åº¦çš„ååï¼Œä»è€Œä½¿å¾—åº”ç”¨èƒ½å¤Ÿæœ‰æ•ˆè¿è½¬</li></ul></li><li>ä¸€äº›åº”ç”¨èƒ½å……åˆ†åˆ©ç”¨å¯ä¾›ä½¿ç”¨çš„ååï¼ˆå¼¹æ€§åº”ç”¨ï¼‰</li><li>å®‰å…¨æ€§</li><li>æœºå¯†æ€§   å®Œæ•´æ€§   å¯è®¤è¯æ€§ï¼ˆé‰´åˆ«ï¼‰</li></ul><p><img src="/2021/04/10/jsjwl02/image-20210411102836028.png" alt="å¸¸è§åº”ç”¨å¯¹ä¼ è¾“æœåŠ¡çš„è¦æ±‚"></p><h4 id="3-2-Internetä¼ è¾“å±‚æä¾›ä»€ä¹ˆæ ·çš„æœåŠ¡ï¼Ÿ"><a href="#3-2-Internetä¼ è¾“å±‚æä¾›ä»€ä¹ˆæ ·çš„æœåŠ¡ï¼Ÿ" class="headerlink" title="3.2 Internetä¼ è¾“å±‚æä¾›ä»€ä¹ˆæ ·çš„æœåŠ¡ï¼Ÿ"></a>3.2 Internetä¼ è¾“å±‚æä¾›ä»€ä¹ˆæ ·çš„æœåŠ¡ï¼Ÿ</h4><ul><li>TCPæœåŠ¡ï¼š<ul><li>å¯é çš„ä¼ è¾“æœåŠ¡</li><li>æµé‡æ§åˆ¶ï¼šå‘é€æ–¹ä¸ä¼šæ·¹æ²¡æ¥æ”¶æ–¹</li><li>æ‹¥å¡æ§åˆ¶ï¼šå½“ç½‘ç»œå‡ºç°æ‹¥å¡æ—¶ï¼Œèƒ½æŠ‘åˆ¶å‘é€æ–¹</li><li>ä¸èƒ½æä¾›çš„æœåŠ¡ï¼šæ—¶é—´ä¿è¯ã€æœ€å°ååä¿è¯å’Œå®‰å…¨ä¿è¯</li><li>é¢å‘è¿æ¥ï¼šè¦æ±‚é€šä¿¡å‰åœ¨å®¢æˆ·ç«¯è¿›ç¨‹å’ŒæœåŠ¡å™¨è¿›ç¨‹ä¹‹é—´å»ºç«‹è¿æ¥ã€‚ï¼ˆä»…åœ¨ç«¯ç³»ç»Ÿå®ç°è¿æ¥ï¼Œè€Œä¸å¯¹ç½‘ç»œæ ¸å¿ƒæä¾›æœåŠ¡å’Œç»´æŠ¤ï¼‰</li></ul></li><li>UDPæœåŠ¡<ul><li>ä¸å¯é æ•°æ®ä¼ è¾“</li><li><strong>ä¸</strong>æä¾›çš„æœåŠ¡ï¼šå¯é ï¼Œæµé‡æ§åˆ¶ï¼Œæ‹¥å¡æ§åˆ¶ï¼Œæ—¶é—´ï¼Œå¸¦å®½ä¿éšœï¼Œå»ºç«‹è¿æ¥</li><li>ä¸ºä»€ä¹ˆè¦æœ‰UDPï¼Ÿï¼ˆUDPå­˜åœ¨çš„å¿…è¦æ€§ï¼‰<ul><li>èƒ½å¤ŸåŒºåˆ†ä¸åŒçš„è¿›ç¨‹ï¼Œè€ŒIPæœåŠ¡ä¸èƒ½</li><li>åœ¨IPæä¾›çš„ä¸»æœºåˆ°ä¸»æœºç«¯åˆ°ç«¯åŠŸèƒ½çš„åŸºç¡€ä¸Šï¼ŒåŒºåˆ†äº†ä¸»æœºçš„åº”ç”¨è¿›ç¨‹</li><li>æ— éœ€å»ºç«‹è¿æ¥ï¼Œçœå»äº†å»ºç«‹è¿æ¥æ—¶é—´ï¼Œé€‚åˆäº‹åŠ¡æ€§çš„åº”ç”¨</li><li>ä¸åšå¯é æ€§çš„å·¥ä½œï¼Œä¾‹å¦‚æ£€é”™é‡å‘ï¼Œé€‚åˆé‚£äº›å¯¹å®æ—¶ æ€§è¦æ±‚æ¯”è¾ƒé«˜è€Œå¯¹æ­£ç¡®æ€§è¦æ±‚ä¸é«˜çš„åº”ç”¨<ul><li> å› ä¸ºä¸ºäº†å®ç°å¯é æ€§ï¼ˆå‡†ç¡®æ€§ã€ä¿åºç­‰ï¼‰ï¼Œå¿…é¡»ä»˜å‡ºæ—¶é—´ä»£ä»·ï¼ˆæ£€é”™é‡å‘ç­‰ï¼‰</li></ul></li><li>æ²¡æœ‰æ‹¥å¡æ§åˆ¶å’Œæµé‡æ§åˆ¶ï¼Œåº”ç”¨èƒ½å¤ŸæŒ‰ç…§è®¾å®šçš„é€Ÿåº¦å‘é€æ•°æ® <ul><li>è€Œåœ¨TCPä¸Šé¢çš„åº”ç”¨ï¼Œåº”ç”¨å‘é€æ•°æ®çš„é€Ÿåº¦å’Œä¸»æœºå‘ç½‘ç»œå‘é€çš„å®é™…é€Ÿåº¦æ˜¯ä¸ä¸€è‡´çš„ï¼Œå› ä¸ºæœ‰æµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶</li></ul></li></ul></li></ul><img src="/2021/04/10/jsjwl02/image-20210411103950494.png" alt="Internetåº”ç”¨åŠå…¶åº”ç”¨å±‚åè®®å’Œä¼ è¾“åè®®"></li><li>å®‰å…¨TCP<blockquote><p>TCPå’ŒUDPéƒ½æ²¡æœ‰åŠ å¯†ï¼Œæ˜æ–‡é€šè¿‡äº’è”ç½‘ä¼ è¾“ä¿¡æ¯ï¼Œç”šè‡³å¯†ç ï¼Œå®‰å…¨æ€§å¾ˆä½</p></blockquote><ul><li>SSL<pre><code>åœ¨TCPä¹‹ä¸Šå®ç°ï¼Œæä¾›åŠ å¯†çš„TCPè¿æ¥ã€‚ä¿è¯ç§å¯†æ€§ã€‚æ•°æ®å®Œæ•´æ€§ä»¥åŠç«¯åˆ°ç«¯çš„é‰´åˆ«ã€‚SSLåœ¨åº”ç”¨å±‚ä¸­ï¼šåº”ç”¨é‡‡ç”¨SSLåº“å½¢å¼ä¸åº”ç”¨ä¸€èµ·è¿è¡Œï¼Œç„¶åSSLåº“ä½¿ç”¨TCPé€šä¿¡SSL socket APIï¼šåº”ç”¨é€šè¿‡APIå°†æ˜æ–‡äº¤ç»™socketï¼ŒSSLå°†å…¶åŠ å¯†ååœ¨äº’è”ç½‘ä¼ è¾“</code></pre><blockquote><p>ä¾‹å¦‚httpsï¼ŒHTTPåè®®è¿è¡Œåœ¨SSLä¹‹ä¸Šï¼ŒSSLè¿è¡Œåœ¨TCPåè®®ä¹‹ä¸Šï¼Œå®ç°äº†webåº”ç”¨çš„å®‰å…¨å¯é ä¼ è¾“ã€‚</p></blockquote></li></ul><img src="/2021/04/10/jsjwl02/image-20210411132650541.png" alt="è¿›ç¨‹ã€SSLä¸TCPå…³ç³»"></li></ul></li></ul><h3 id="4-ç‰¹å®šç½‘ç»œåº”ç”¨ä»¥åŠåè®®"><a href="#4-ç‰¹å®šç½‘ç»œåº”ç”¨ä»¥åŠåè®®" class="headerlink" title="4 ç‰¹å®šç½‘ç»œåº”ç”¨ä»¥åŠåè®®"></a>4 ç‰¹å®šç½‘ç»œåº”ç”¨ä»¥åŠåè®®</h3><h4 id="4-1-Webä¸HTTP"><a href="#4-1-Webä¸HTTP" class="headerlink" title="4.1 Webä¸HTTP"></a>4.1 Webä¸HTTP</h4><ul><li><p>ä¸€äº›æœ¯è¯­ï¼š</p><ul><li>webé¡µï¼šç”±ä¸€äº›å¯¹è±¡ç»„æˆ</li></ul><blockquote><p>webé¡µå«æœ‰ä¸€ä¸ªåŸºæœ¬çš„HTMLæ–‡ä»¶ï¼Œè¯¥åŸºæœ¬HTMLæ–‡ä»¶æœ¬èº«å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­è¿˜åŒ…å«å…¶ä»–å¯¹è±¡çš„å¼•ç”¨ï¼ˆä»¥é“¾æ¥URLçš„å½¢å¼ï¼‰</p></blockquote><ul><li><p>å¯¹è±¡å¯ä»¥æ˜¯HTMLæ–‡ä»¶ã€JPEGå›¾åƒã€Javaå°ç¨‹åºã€å£°éŸ³å‰ªè¾‘æ–‡ä»¶ç­‰</p></li><li><p>é€šè¿‡URLå¯¹æ¯ä¸ªå¯¹è±¡è¿›è¡Œå¼•ç”¨</p><ul><li><p>æ¯ä¸ªå¯¹è±¡éƒ½æœ‰å”¯ä¸€çš„URLè¿›è¡Œæ ‡è¯†</p></li><li><p>è®¿é—®åè®®ï¼šç”¨æˆ·åã€å£ä»¤å­—ã€ç«¯å£ç­‰</p></li><li><p>URLæ ¼å¼ï¼š<img src="/2021/04/10/jsjwl02/image-20210411112003845.png" alt="URLæ ¼å¼"></p><ul><li><p>åè®®åï¼šä»¥ä»€ä¹ˆåè®®æ¥è®¿é—®å¯¹è±¡ï¼ˆHTTP/FTPç­‰ï¼‰</p></li><li><p>ç”¨æˆ·:å£ä»¤ï¼šè®¿é—®å¯¹è±¡ç”¨ä»€ä¹ˆç”¨æˆ·:å£ä»¤è®¿é—®</p><blockquote><p>æœ‰çš„ç½‘ç«™æ”¯æŒåŒ¿åè®¿é—®ï¼Œæ— éœ€æä¾›ç”¨æˆ·:å£ä»¤</p></blockquote></li><li><p>ç«¯å£ï¼šå¦‚æœæœªæŒ‡å®šç«¯å£ï¼Œä¼šé‡‡ç”¨åè®®çš„é»˜è®¤ç«¯å£å·ï¼ˆå¦‚HTTPçš„é»˜è®¤ç«¯å£80ï¼‰</p></li></ul></li></ul></li></ul></li></ul><h5 id="4-1-1-HTTPæ¦‚å†µ"><a href="#4-1-1-HTTPæ¦‚å†µ" class="headerlink" title="4.1.1 HTTPæ¦‚å†µ"></a>4.1.1 HTTPæ¦‚å†µ</h5><ul><li><p>HTTP ï¼šè¶…æ–‡æœ¬ä¼ è¾“åè®®</p><ul><li>Webçš„åº”ç”¨å±‚åè®®</li><li>å®¢æˆ·/æœåŠ¡å™¨æ¨¡å¼<ul><li>å®¢æˆ·ï¼šè¯·æ±‚ã€æ¥å—å’Œæ˜¾ç¤ºWebå¯¹è±¡çš„æµè§ˆå™¨</li><li>æœåŠ¡å™¨ï¼šå¯¹è¯·æ±‚è¿›è¡Œå“åº”ï¼Œå‘é€å¯¹è±¡çš„WebæœåŠ¡å™¨</li></ul></li></ul><p><img src="/2021/04/10/jsjwl02/image-20210411131620123.png" alt="HTTPåè®®"></p><ul><li><p>HTTP 1.0 ï¼šRFC 1945</p><p>HTTP 1.1 ï¼šRFC 2068</p></li><li><p>ä½¿ç”¨TCP</p><ol><li>å®¢æˆ·å‘èµ·ä¸€ä¸ªä¸æœåŠ¡å™¨çš„TCPè¿æ¥ï¼ˆå»ºç«‹socketï¼‰ï¼Œç«¯å£å·ä¸º80</li><li>æœåŠ¡å™¨æ¥å—å®¢æˆ·çš„TCPè¿æ¥</li><li>åœ¨æµè§ˆå™¨ï¼ˆHTTPå®¢æˆ·ç«¯ï¼‰ä¸WebæœåŠ¡å™¨ï¼ˆHTTPæœåŠ¡å™¨serverï¼‰äº¤æ¢HTTPæŠ¥æ–‡ï¼ˆåº”ç”¨å±‚åè®®æŠ¥æ–‡ï¼‰</li><li>TCPè¿æ¥å…³é—­</li></ol><p><img src="/2021/04/10/jsjwl02/image-20210411134148359.png" alt="HTTPå»ºç«‹è¿æ¥ç¤ºæ„å›¾"></p></li><li><p>HTTPæ˜¯æ— çŠ¶æ€çš„</p><ul><li>æœåŠ¡å™¨å¹¶ä¸ç»´æŠ¤å…³äºå®¢æˆ·çš„ä»»ä½•ä¿¡æ¯ï¼Œå³äº¤æ¢è¿‡HTTPæŠ¥æ–‡ä»¥åå°±æ–­å¼€TCPè¿æ¥ï¼Œä¸ä¼šå­˜å‚¨å®¢æˆ·ä¿¡æ¯ï¼Œå®¢æˆ·ä¹‹åå¯¹æŠ¥æ–‡æ›´æ”¹ä¸æœåŠ¡å™¨æ— å…³</li><li>ä¼˜ç‚¹ï¼šç®€å•ï¼›æ— çŠ¶æ€çš„æœåŠ¡å™¨èƒ½å¤Ÿæ”¯æŒæ›´å¤šçš„å®¢æˆ·ç«¯</li></ul><blockquote><p>ç»´æŠ¤çŠ¶æ€çš„åè®®å¾ˆå¤æ‚ï¼</p><ul><li>å¿…é¡»ç»´æŠ¤å†å²ä¿¡æ¯ï¼ˆçŠ¶æ€ï¼‰</li><li>å¦‚æœæœåŠ¡å™¨/å®¢æˆ·ç«¯æ­»æœºï¼Œå®ƒä»¬çš„çŠ¶æ€ä¿¡æ¯å¯èƒ½ä¸ä¸€è‡´ï¼Œè€Œå¿…é¡»ç»´æŠ¤æˆä¿¡æ¯ä¸€è‡´çš„</li></ul></blockquote></li></ul></li></ul><h5 id="4-1-2-HTTPè¿æ¥"><a href="#4-1-2-HTTPè¿æ¥" class="headerlink" title="4.1.2 HTTPè¿æ¥"></a>4.1.2 HTTPè¿æ¥</h5><ul><li><p>éæŒä¹…HTTP</p><ul><li>æ¯ä¸ªTCPè¿æ¥åœ¨æœåŠ¡å™¨æœ€å¤šå‘é€ä¸€ä¸ªå¯¹è±¡åå°±ä¼šå…³é—­ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªTCPåªä¼ é€ä¸€ä¸ªè¯·æ±‚æŠ¥æ–‡å’Œå“åº”æŠ¥æ–‡</li><li>ä¸‹è½½å¤šä¸ªå¯¹è±¡éœ€è¦å¤šä¸ªTCPè¿æ¥</li><li>HTTP/1.0ä½¿ç”¨éæŒä¹…è¿æ¥</li></ul><p>å‡è®¾ç”¨æˆ·è¾“å…¥URL:<a href="http://www.someschool.edu/someDept/home.index">www.someSchool.edu/someDept/home.index</a>  (å‡è®¾è¿™ä¸ªwebä¸­åŒ…å«æ–‡æœ¬å’Œ10ä¸ªjpegå›¾åƒçš„å¼•ç”¨)</p><p><img src="/2021/04/10/jsjwl02/image-20210411140316400.png" alt="éæŒä¹…HTTP"></p><ul><li><p>å“åº”æ—¶é—´æ¨¡å‹</p><ul><li>å¾€è¿”æ—¶é—´RTTï¼ˆround-trip-timeï¼‰</li></ul><p>ä¸€ä¸ªå°çš„åˆ†ç»„ä»å®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨ï¼Œå†å›åˆ°å®¢æˆ·ç«¯çš„æ—¶é—´ï¼ˆRTTåŒ…æ‹¬åˆ†ç»„çš„ä¼ æ’­æ—¶å»¶ã€æ’é˜Ÿæ—¶å»¶ã€å¤„ç†æ—¶å»¶ï¼ˆå› ä¸ºæ˜¯çŸ­åˆ†ç»„ï¼Œæ‰€ä»¥å…¶ä¼ è¾“æ—¶å»¶å¯ä¸è®¡ï¼‰ï¼‰</p><ul><li>å“åº”æ—¶é—´ï¼š<ul><li>ä¸€ä¸ªRTTç”¨æ¥å‘èµ·TCPè¿æ¥</li><li>ä¸€ä¸ªRTTç”¨æ¥HTTPè¯·æ±‚å¹¶ç­‰å¾…HTTPå“åº”</li><li>æ–‡ä»¶ä¼ è¾“æ—¶é—´</li><li>å…±2RTT+ä¼ è¾“æ—¶é—´</li></ul></li></ul></li></ul><p><img src="/2021/04/10/jsjwl02/image-20210411140846744.png" alt="å“åº”æ—¶é—´æ¨¡å‹"></p><ul><li>éæŒä¹…HTTPçš„ç¼ºç‚¹ï¼š<ul><li>æ¯ä¸ªå¯¹è±¡ä¼ è¾“è¦2ä¸ªRTT+ä¼ è¾“æ—¶é—´</li><li>æ“ä½œç³»ç»Ÿå¿…é¡»ä¸ºæ¯ä¸ªTCPè¿æ¥åˆ†é…èµ„æº</li><li>ä½†æµè§ˆå™¨é€šå¸¸æ‰“å¼€å¹¶è¡ŒTCPè¿æ¥ï¼Œä»¥è·å–å¼•ç”¨å¯¹è±¡</li></ul></li></ul></li><li><p>æŒä¹…HTTP</p><ul><li>æœåŠ¡å™¨åœ¨å‘é€å“åº”åï¼Œä»ä¿æŒTCPè¿æ¥ï¼›åœ¨ç›¸åŒå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„åç»­è¯·æ±‚å’Œå“åº”æŠ¥æ–‡é€šè¿‡ç›¸åŒçš„è¿æ¥è¿›è¡Œä¼ é€</li><li>å¤šä¸ªå¯¹è±¡å¯ä»¥åœ¨ä¸€ä¸ªï¼ˆåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„ï¼‰TCPè¿æ¥ä¸Šä¼ è¾“</li><li>HTTP/1.1é»˜è®¤ä½¿ç”¨æŒä¹…è¿æ¥</li><li>æŒä¹…HTTPåˆ†ä¸ºéæµæ°´æ–¹å¼çš„æŒä¹…HTTPå’Œæµæ°´æ–¹å¼çš„æŒä¹…HTTP<ul><li>éæµæ°´æ–¹å¼ï¼ˆno-pipelineï¼‰çš„æŒä¹…HTTP<ul><li>å®¢æˆ·ç«¯åªèƒ½åœ¨æ”¶åˆ°å‰ä¸€ä¸ªå“åº”åæ‰èƒ½å‘å‡ºæ–°çš„è¯·æ±‚</li><li>æ¯ä¸ªå¼•ç”¨å¯¹è±¡èŠ±è´¹ä¸€ä¸ªRTT</li></ul></li><li>æµæ°´æ–¹å¼ï¼ˆpipelineï¼‰çš„æŒä¹…HTTPã€<ul><li>HTTP/1.1çš„é»˜è®¤æ–¹å¼</li><li>å®¢æˆ·ç«¯é‡åˆ°ä¸€ä¸ªå¼•ç”¨å¯¹è±¡å°±ç«‹å³äº§ç”Ÿä¸€ä¸ªè¯·æ±‚</li><li>æ‰€ä»¥å¼•ç”¨ï¼ˆå°ï¼‰å¯¹è±¡åªèŠ±è´¹ä¸€ä¸ªRTTæ˜¯å¯èƒ½çš„</li></ul></li></ul></li></ul></li></ul><h5 id="4-1-3-HTTPæŠ¥æ–‡æ ¼å¼ï¼šè¯·æ±‚æŠ¥æ–‡å’Œå“åº”æŠ¥æ–‡"><a href="#4-1-3-HTTPæŠ¥æ–‡æ ¼å¼ï¼šè¯·æ±‚æŠ¥æ–‡å’Œå“åº”æŠ¥æ–‡" class="headerlink" title="4.1.3 HTTPæŠ¥æ–‡æ ¼å¼ï¼šè¯·æ±‚æŠ¥æ–‡å’Œå“åº”æŠ¥æ–‡"></a>4.1.3 HTTPæŠ¥æ–‡æ ¼å¼ï¼šè¯·æ±‚æŠ¥æ–‡å’Œå“åº”æŠ¥æ–‡</h5><ul><li><p>ä¸¤ç§ç±»å‹çš„HTTPæŠ¥æ–‡ï¼šè¯·æ±‚ã€å“åº”</p></li><li><p>HTTPè¯·æ±‚æŠ¥æ–‡ï¼š</p><ul><li><p>ASCII    -å…·æœ‰å¯è¯»æ€§</p><p><img src="/2021/04/10/jsjwl02/image-20210411143216745.png" alt="HTTPè¯·æ±‚æŠ¥æ–‡"></p><ul><li><p>ä¸€ä¸ªè¯·æ±‚æŠ¥æ–‡å…·æœ‰è‡³å°‘ä¸€è¡Œçš„å†…å®¹ã€‚è¯·æ±‚æŠ¥æ–‡çš„ç¬¬ä¸€è¡Œç§°ä¸ºè¯·æ±‚è¡Œï¼Œå…¶åç»§çš„å„è¡Œè¢«ç§°ä¸ºé¦–éƒ¨è¡Œã€‚</p></li><li><p>è¯·æ±‚è¡ŒåŒ…å«ä¸‰ä¸ªå†…å®¹ï¼šæ–¹æ³•å­—æ®µã€URLå­—æ®µã€HTTPç‰ˆæœ¬ï¼›å…¶ä¸­æ–¹æ³•å­—æ®µå¯ä¸ºï¼šGETã€POSTã€PUTã€DELETEã€HEADç­‰ã€‚URLå­—æ®µé‡Œå¯ä»¥ä¼ é€’è¯·æ±‚å¯¹è±¡çš„æ ‡å¿—ã€‚</p></li><li><p>é¦–éƒ¨è¡ŒåŒ…å«æ˜¯å¦åœ¨å‘é€å®Œå“åº”æŠ¥æ–‡åå…³é—­TCPè¿æ¥çš„Connectionã€è¯·æ±‚çš„ä¸»æœºåœ°å€ï¼ˆè¯¥å¤´éƒ¨ä¿¡æ¯è¢«Webé«˜é€Ÿç¼“å­˜æ‰€è¦æ±‚ï¼‰Hostã€å®¢æˆ·ç«¯ç”¨æˆ·ä»£ç†ï¼ˆæµè§ˆå™¨ï¼‰ç‰ˆæœ¬User-agentã€å¯æ¥å—çš„è¯­è¨€Accept-languageç­‰å¤´éƒ¨ä¿¡æ¯ï¼›</p></li><li><p>åœ¨é¦–éƒ¨è¡Œä¹‹åä¸€ä¸ªç©ºè¡Œï¼Œä¹‹åä¾¿æ˜¯è¯·æ±‚çš„â€œå®ä½“ä½“â€ã€‚</p><blockquote><p>è¯¥å®ä½“ä½“å¯ä»¥åœ¨POSTæ–¹æ³•é‡Œä¼ é€’Formè¡¨å•å†…å®¹æˆ–è€…ä¼ é€’å…¶å®ƒä¸€äº›äºŒè¿›åˆ¶æµæ•°æ®ç­‰ã€‚</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¡¨å•ä¹Ÿä¸ä¸€å®šå¿…é¡»ä½¿ç”¨POSTæ–¹æ³•ã€‚</p><ul><li>æ–¹æ³•ç±»å‹ï¼š</li></ul><p>HTTP/1.0 : GETã€POSTã€HEAD</p><p>HTTP/1.1 : GETã€POSTã€HEADã€PUTã€DELETE</p><p>getï¼Œå®ä½“ä¸»ä½“ä¸ºç©ºï¼Œä¸Šè½½å†…å®¹ä¼šæ˜¾ç¤ºåœ¨URLçš„å‚æ•°ä¸­ã€‚æœåŠ¡å™¨å°†ä¼šç”¨ä¸€ä¸ªHTTPå“åº”æŠ¥æ–‡è¿›è¡Œå“åº”ï¼ŒæŠ¥æ–‡ä¸­åŒ…å«è¯·æ±‚çš„å¯¹è±¡ã€‚</p><p>Headç±»ä¼¼äºgetæ–¹æ³•ï¼ŒæœåŠ¡å™¨å°†ä¼šç”¨ä¸€ä¸ªHTTPæŠ¥æ–‡è¿›è¡Œå“åº”ï¼Œä½†æ˜¯ä¸è¿”å›è¯·æ±‚å¯¹è±¡ï¼Œç»å¸¸ç”¨ä½œè°ƒè¯•è·Ÿè¸ªã€‚</p><p>putæ–¹æ³•å…è®¸ç”¨æˆ·ä¸Šä¼ å¯¹è±¡åˆ°URLæŒ‡å®šçš„WebæœåŠ¡å™¨ä¸ŠæŒ‡å®šçš„è·¯å¾„ã€‚</p><p>Deleteæ–¹æ³•å…è®¸ç”¨æˆ·æˆ–åº”ç”¨ç¨‹åºåˆ é™¤URLæŒ‡å®šçš„WebæœåŠ¡å™¨ä¸Šçš„å¯¹è±¡ã€‚</p></blockquote></li></ul></li></ul><p><img src="/2021/04/10/jsjwl02/image-20210411144156506.png" alt="è¯·æ±‚æŠ¥æ–‡æ ¼å¼"></p><ul><li>HTTPè¯·æ±‚æŠ¥æ–‡ä¹Ÿå¯å‘æœåŠ¡å™¨æäº¤å†…å®¹ï¼Œæäº¤è¡¨å•è¾“å…¥æœ‰å¦‚ä¸‹ä¸¤ç§æ–¹å¼ï¼š<ul><li>Postæ–¹å¼<ul><li>ç½‘é¡µé€šå¸¸åŒ…æ‹¬è¡¨å•è¾“å…¥</li><li>æäº¤çš„å†…å®¹åŒ…å«åœ¨å®ä½“ä½“ï¼ˆentity bodyï¼‰ä¸­ï¼Œç„¶åè¢«æäº¤åˆ°æœåŠ¡å™¨</li></ul></li><li>URLæ–¹å¼<ul><li>æ–¹æ³•ï¼šGET</li><li>è¡¨å•è¾“å…¥é€šè¿‡è¯·æ±‚è¡Œçš„URLå­—æ®µä¸Šè½½</li><li>ä¾‹å¦‚ï¼š<a href="http://www.baidu.com/s?wd=xx+yy+zzz&amp;cl=3%E9%80%9A%E8%BF%87URL%E4%B8%AD%E7%9A%84">http://www.baidu.com/s?wd=xx+yy+zzz&amp;cl=3é€šè¿‡URLä¸­çš„</a> å‚æ•°ï¼šwdï¼Œcl å‚æ•°å€¼ï¼šXX+YY+zzzï¼Œ3 å½¢å¼ä¿¡æ¯</li></ul></li></ul></li></ul></li><li><p>HTTPå“åº”æŠ¥æ–‡</p><ul><li><p>ASCII    -å…·æœ‰å¯è¯»æ€§</p><p><img src="/2021/04/10/jsjwl02/image-20210411145603153.png" alt="HTTPå“åº”æŠ¥æ–‡"></p><ul><li><p>å“åº”æŠ¥æ–‡æ€»ä½“ä¸Šä¹Ÿåˆ†ä¸‰ä¸ªéƒ¨åˆ†ï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯çŠ¶æ€è¡Œï¼ŒåŒ…å«HTTPç‰ˆæœ¬ã€çŠ¶æ€ä»¥åŠçŠ¶æ€ä¿¡æ¯ç­‰å†…å®¹ï¼›ç¬¬äºŒéƒ¨åˆ†æ˜¯é¦–éƒ¨è¡Œï¼ŒåŒ…å«å‘é€æ—¥æœŸã€æœåŠ¡å™¨ç±»å‹ã€ä¸Šä¸€æ¬¡ä¿®æ”¹è¯·æ±‚èµ„æºçš„æ—¶é—´ã€å†…å®¹çš„é•¿åº¦å’Œå†…å®¹çš„ç±»å‹ç­‰å†…å®¹ã€‚ç¬¬ä¸‰éƒ¨åˆ†æ˜¯å®ä½“ä¸»ä½“ã€‚å®ä½“ä¸»ä½“åŒ…å«è¯·æ±‚å¯¹è±¡æœ¬èº«ã€‚</p></li><li><p>é¦–éƒ¨è¡Œä¸­çš„å†…å®¹çš„é•¿åº¦æ˜¯ç”¨äºæè¿°HTTPæ¶ˆæ¯å®ä½“çš„ä¼ è¾“é•¿åº¦ï¼Œä¸ºäº†è®©åº”ç”¨å±‚åŒºåˆ†æŠ¥æ–‡çš„è¾¹ç•Œ</p><blockquote><p>å› ä¸ºTCPå‘ä¸Šå±‚åº”ç”¨å±‚ä¼ é€’çš„æ˜¯å­—èŠ‚æµï¼Œæ˜¯ä¸åŒºåˆ†è¾¹ç•Œçš„ï¼Œå› æ­¤åº”ç”¨å±‚è¦é€šè¿‡Content-Lengthæ¥ç»´æŠ¤æŠ¥æ–‡çš„ç•Œé™</p></blockquote></li><li><p>é¦–éƒ¨è¡Œçš„Dateæ˜¯ä»æ–‡ä»¶ç³»ç»Ÿä¸­æ£€ç´¢åˆ°è¯¥å¯¹è±¡ï¼Œæ’å…¥åˆ°å“åº”æŠ¥æ–‡ï¼Œå¹¶å‘é€è¯¥å“åº”æŠ¥æ–‡çš„æ—¶é—´ã€‚</p></li><li><p>HTTPå“åº”çŠ¶æ€ç ï¼šä½äºæœåŠ¡å™¨â†’å®¢æˆ·ç«¯çš„å“åº”æŠ¥æ–‡ä¸­çš„é¦–è¡Œ</p></li></ul><blockquote><p>ä¸€äº›çŠ¶æ€ç çš„ä¾‹å­ï¼š</p><p>200 OK </p><p>&emsp;è¯·æ±‚æˆåŠŸï¼Œè¯·æ±‚å¯¹è±¡åŒ…å«åœ¨å“åº”æŠ¥æ–‡çš„åç»­éƒ¨åˆ† </p><p>301 Moved Permanently </p><p>&emsp;è¯·æ±‚çš„å¯¹è±¡å·²ç»è¢«æ°¸ä¹…è½¬ç§»äº†ï¼›æ–°çš„URLåœ¨å“åº”æŠ¥æ–‡çš„Location: é¦–éƒ¨è¡Œä¸­æŒ‡å®š</p><p>&emsp;å®¢æˆ·ç«¯è½¯ä»¶è‡ªåŠ¨ç”¨æ–°çš„URLå»è·å–å¯¹è±¡ </p><p>400 Bad Request </p><p>&emsp;ä¸€ä¸ªé€šç”¨çš„å·®é”™ä»£ç ï¼Œè¡¨ç¤ºè¯¥è¯·æ±‚ä¸èƒ½è¢«æœåŠ¡å™¨è§£è¯» </p><p>404 Not Found</p><p>&emsp;è¯·æ±‚çš„æ–‡æ¡£åœ¨è¯¥æœåŠ¡ä¸Šæ²¡æœ‰æ‰¾åˆ° </p><p>505 HTTP Version Not Supported</p></blockquote></li></ul></li></ul><h5 id="4-1-4-ç”¨æˆ·ä¸æœåŠ¡å™¨çš„äº¤äº’ï¼šCookie"><a href="#4-1-4-ç”¨æˆ·ä¸æœåŠ¡å™¨çš„äº¤äº’ï¼šCookie" class="headerlink" title="4.1.4 ç”¨æˆ·ä¸æœåŠ¡å™¨çš„äº¤äº’ï¼šCookie"></a>4.1.4 ç”¨æˆ·ä¸æœåŠ¡å™¨çš„äº¤äº’ï¼šCookie</h5><ul><li><p>HTTPæ˜¯æ— çŠ¶æ€åè®®ï¼Œä½†æ˜¯Webç«™ç‚¹ä¸ºäº†è¯†åˆ«ç”¨æˆ·èº«ä»½æˆ–è€…é™åˆ¶ç”¨æˆ·è®¿é—®çš„æ—¶é—´æˆ–è€…å°†ç”¨æˆ·è®¿é—®çš„å†…å®¹åŒç”¨æˆ·èº«ä»½ç›¸å…³è”ï¼ŒWebç«™ç‚¹å¯ä»¥ä½¿ç”¨CookieæŠ€æœ¯å®ç°ç”¨æˆ·ä¿¡æ¯å­˜å‚¨ã€‚</p></li><li><p>CookieæŠ€æœ¯åŒ…å«4ä¸ªç»„æˆéƒ¨åˆ†</p><ol><li>HTTPå“åº”æŠ¥æ–‡é‡Œå¢åŠ ä¸€ä¸ªå…³äºCookieçš„é¦–éƒ¨è¡Œï¼›</li><li>HTTPè¯·æ±‚æŠ¥æ–‡é‡Œå¢åŠ ä¸€ä¸ªå…³äºCookieçš„é¦–éƒ¨è¡Œï¼›</li><li>ç”¨æˆ·ç«¯ç³»ç»Ÿä¸­ä¿ç•™ä¸€ä¸ªCookieæ–‡ä»¶ï¼Œç”±ç”¨æˆ·çš„æµè§ˆå™¨ç»´æŠ¤å’Œç®¡ç†ï¼›</li><li>åœ¨Webç«™ç‚¹åç«¯æ•°æ®åº“å»ºç«‹Cookieå’Œç”¨æˆ·èº«ä»½çš„å…³è”ï¼›</li></ol><p><img src="/2021/04/10/jsjwl02/image-20210411161744290.png" alt="Cookies:ç»´æŠ¤çŠ¶æ€"></p><blockquote><p>ç”¨æˆ·é¦–æ¬¡è®¿é—®webæœåŠ¡å™¨æ—¶ï¼ŒHTTPè¯·æ±‚æŠ¥æ–‡ä¸­æ— Cookieï¼Œåœ¨è®¿é—®æ—¶ï¼ŒæœåŠ¡å™¨ä¼šä¸ºç”¨æˆ·å»ºç«‹Cookieï¼Œç„¶åå“åº”æŠ¥æ–‡ä¸­é¦–éƒ¨è¡Œä¼šæœ‰Cookieæ ‡ç¤ºå†…å®¹ï¼Œç”¨æˆ·æ”¶åˆ°å“åº”æŠ¥æ–‡åï¼Œç”¨æˆ·æµè§ˆå™¨ä¼šå°†cookieä¿å­˜åœ¨æœ¬åœ°cookiesæ–‡ä»¶ä¸­ï¼Œç„¶åä¹‹åç”¨æˆ·å†æ¬¡HTTPè¯·æ±‚æŠ¥æ–‡éƒ½ä¼šæºå¸¦æœ‰cookieã€‚</p></blockquote></li><li><p>Cookiesèƒ½å¸¦æ¥åŠŸèƒ½ï¼š</p><ul><li>ç”¨æˆ·éªŒè¯</li><li>è´­ç‰©è½¦</li><li>æ¨è</li><li>ç”¨æˆ·çŠ¶æ€ï¼ˆWeb e-mailï¼‰ç­‰</li></ul></li><li><p>å¦‚ä½•ç»´æŠ¤çŠ¶æ€ï¼š</p><ul><li>åè®®ç«¯èŠ‚ç‚¹ï¼šåœ¨å¤šä¸ªäº‹ç‰©ä¸Šï¼Œå‘é€ç«¯å’Œæ¥æ”¶ç«¯ç»´æŒçŠ¶æ€</li><li>cookiesï¼šHTTPæŠ¥æ–‡æºå¸¦çŠ¶æ€ä¿¡æ¯</li></ul></li><li><p>Cookiesçš„éšç§æ³„éœ²é—®é¢˜ï¼š</p><ul><li>Cookieså…è®¸ç«™ç‚¹çŸ¥é“è®¸å¤šå…³äºç”¨æˆ·çš„ä¿¡æ¯ï¼Œç«™ç‚¹å¯èƒ½å°†å®ƒçŸ¥é“çš„ä¸œè¥¿å–ç»™ç¬¬ä¸‰æ–¹</li><li>ä½¿ç”¨é‡å®šå‘å’Œcookieçš„æœç´¢å¼•æ“è¿˜èƒ½çŸ¥é“ç”¨æˆ·æ›´å¤šçš„ä¿¡æ¯<ul><li>å¦‚é€šè¿‡æŸä¸ªç”¨æˆ·åœ¨å¤§é‡ç«™ç‚¹ä¸Šçš„è¡Œä¸ºï¼Œäº†è§£å…¶ä¸ªäººæµè§ˆæ–¹å¼çš„å¤§è‡´æ¨¡å¼</li></ul></li><li>å¹¿å‘Šå…¬å¸ä»ç«™ç‚¹è·å¾—ä¿¡æ¯</li></ul></li></ul><h5 id="4-1-5-Webç¼“å­˜ï¼ˆä»£ç†æœåŠ¡å™¨ï¼‰"><a href="#4-1-5-Webç¼“å­˜ï¼ˆä»£ç†æœåŠ¡å™¨ï¼‰" class="headerlink" title="4.1.5 Webç¼“å­˜ï¼ˆä»£ç†æœåŠ¡å™¨ï¼‰"></a>4.1.5 Webç¼“å­˜ï¼ˆä»£ç†æœåŠ¡å™¨ï¼‰</h5><p>Webç¼“å­˜å™¨ä¹Ÿè¢«ç§°ä¸ºä»£ç†æœåŠ¡å™¨ï¼Œå®ƒä»£è¡¨åˆå§‹webæœåŠ¡å™¨æ¥æ»¡è¶³HTTPè¯·æ±‚ã€‚å®ƒå…·æœ‰è‡ªå·±çš„å­˜å‚¨ç©ºé—´ï¼Œå¹¶åœ¨å­˜å‚¨ç©ºé—´é‡Œä¿æŒæœ‰æœ€è¿‘è¯·æ±‚è¿‡çš„å¯¹è±¡çš„å‰¯æœ¬ï¼›å¯ä»¥é€šè¿‡é…ç½®æµè§ˆå™¨ï¼Œå°†æ‰€æœ‰æŒ‡å‘åˆå§‹æœåŠ¡å™¨çš„è¯·æ±‚é¦–å…ˆæŒ‡å‘ä»£ç†æœåŠ¡å™¨ã€‚</p><p>å½“ä»£ç†æœåŠ¡å™¨æ”¶åˆ°ä¸€ä¸ªHTTPè¯·æ±‚åï¼Œå®ƒå°†æ£€æŸ¥æœ¬åœ°æ˜¯å¦ç¼“å­˜è¿‡è¯¥å¯¹è±¡ï¼Œå¦‚æœç¼“å­˜è¿‡è¯¥å¯¹è±¡ï¼Œå°†æ£€æŸ¥æ˜¯å¦è¿‡æœŸï¼Œå¦‚æœæ²¡æœ‰è¿‡æœŸï¼Œåˆ™ç›´æ¥å°†è¯¥å¯¹è±¡è¿”å›ç»™æµè§ˆå™¨ï¼›å¦‚æœæœ¬åœ°ä¸å­˜åœ¨æˆ–è€…å­˜åœ¨å·²è¿‡æœŸï¼Œåˆ™ä»£ç†æœåŠ¡å™¨å°†æ ¹æ®è¯·æ±‚æŠ¥æ–‡é‡Œçš„Hosté¦–éƒ¨è¡Œä»¥åŠè¯·æ±‚è¡Œé‡Œçš„URLå­—æ®µå‘åˆå§‹æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œç„¶åå°†å“åº”å¯¹è±¡è¿”å›ç»™æµè§ˆå™¨å¹¶ç¼“å­˜åœ¨æœ¬åœ°ã€‚</p><ul><li>ç›®æ ‡ï¼šä¸è®¿é—®åŸå§‹æœåŠ¡å™¨ï¼Œå°±æ»¡è¶³å®¢æˆ·çš„è¯·æ±‚</li></ul><p><img src="/2021/04/10/jsjwl02/image-20210411163153908.png" alt="ä»£ç†æœåŠ¡å™¨ç¤ºæ„å›¾"></p><ul><li><p>Webç¼“å­˜æ—¢æ˜¯å®¢æˆ·ç«¯åˆæ˜¯æœåŠ¡å™¨</p></li><li><p>é€šå¸¸ç¼“å­˜æ˜¯ç”±ISPå®‰è£…ï¼ˆå¤§å­¦ã€å…¬å¸ã€å±…æ°‘åŒºISPï¼‰</p></li><li><p>Webç¼“å­˜ä¼˜ç‚¹ï¼š</p><ul><li>é™ä½å®¢æˆ·ç«¯çš„è¯·æ±‚å“åº”æ—¶é—´</li><li>å¯ä»¥å¤§å¤§å‡å°‘ä¸€ä¸ªæœºæ„å†…éƒ¨ç½‘ç»œä¸Internetæ¥å…¥é“¾è·¯ä¸Šçš„æµé‡ï¼Œå‡å°‘åŸå§‹æœåŠ¡å™¨è´Ÿæ‹…</li><li>äº’è”ç½‘å¤§é‡ä½¿ç”¨äº†ç¼“å­˜ï¼Œå¯ä»¥ä½¿è¾ƒå¼±çš„ICPä¹Ÿèƒ½å¤Ÿæœ‰æ•ˆæä¾›å†…å®¹</li></ul></li><li><p>ç¼“å­˜ç¤ºä¾‹ï¼š</p></li></ul><p><img src="/2021/04/10/jsjwl02/image-20210411163746751.png" alt="æ­£å¸¸æƒ…å†µ"></p><blockquote><p>æ¥å…¥é“¾è·¯æµé‡å¼ºåº¦æ¥è¿‘äº1ï¼Œæ‰€ä»¥æ’é˜Ÿå»¶è¿Ÿï¼ˆd<sub>queue</sub> = (I/(1-I))*(L/R)ï¼‰å°†ä¼šå¾ˆå¤§ï¼Œç”¨æˆ·è®¿é—®çš„æ—¶é—´å› æ­¤è€Œå¾ˆå¤§ã€‚</p></blockquote><p><img src="/2021/04/10/jsjwl02/image-20210411163945732.png" alt="æ›´å¿«çš„æ¥å…¥é“¾è·¯"></p><p><img src="/2021/04/10/jsjwl02/image-20210411163959897.png" alt="å®‰è£…æœ¬åœ°ç¼“å­˜1"></p><p><img src="/2021/04/10/jsjwl02/image-20210411164018449.png" alt="å®‰è£…æœ¬åœ°ç¼“å­˜2"></p><h5 id="4-1-6-æ¡ä»¶GETæ–¹æ³•"><a href="#4-1-6-æ¡ä»¶GETæ–¹æ³•" class="headerlink" title="4.1.6 æ¡ä»¶GETæ–¹æ³•"></a>4.1.6 æ¡ä»¶GETæ–¹æ³•</h5><p>é«˜é€Ÿç¼“å­˜å™¨çš„ä½¿ç”¨ï¼Œå¸¦æ¥å¾ˆå¤šå¥½å¤„ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ä»£ç†æœåŠ¡å™¨å¯¹ç¼“å­˜å¯¹è±¡çš„ç®¡ç†ï¼šå¦‚ä½•ç¡®ä¿æ‰€è¯·æ±‚çš„å¯¹è±¡æ˜¯æœ€æ–°çš„ï¼Ÿ</p><p>å…¶å®HTTPæä¾›äº†ä¸€ç§æœºåˆ¶ï¼Œå…è®¸ç¼“å­˜å™¨è¯å®å…¶ä½¿ç”¨çš„å¯¹è±¡æ˜¯æœ€æ–°çš„ï¼Œè¿™ç§æœºåˆ¶å°±æ˜¯æ¡ä»¶GETæ–¹æ³•ã€‚</p><p>ä½¿ç”¨æ¡ä»¶GETæ–¹æ³•åªéœ€åœ¨ä½¿ç”¨GETæ–¹æ³•çš„æ—¶å€™ï¼Œå¢åŠ ä¸€ä¸ªIf-Modified-Sinceé¦–éƒ¨è¡Œï¼Œå…¶å¯¹åº”çš„å†…å®¹æ˜¯ä¸€ä¸ªæ—¶é—´ï¼Œå¦‚æœæ‰€è¯·æ±‚çš„èµ„æºåœ¨æŒ‡å®šæ—¥æœŸå(ä¸Last-Modifiedæ¯”è¾ƒ)è¢«ä¿®æ”¹äº†ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°†è¿”å›æ–°çš„å¯¹è±¡ï¼Œå¦åˆ™æœåŠ¡å™¨å°†è¿”å›ä¸€ä¸ªåŒ…å«ç©ºå®ä½“ä¸»ä½“çš„æŠ¥æ–‡ã€‚è¿™æ ·ä»£ç†æœåŠ¡å™¨å°±å¯ä»¥ç¡®è®¤ç¼“å­˜æ˜¯å¦è¿‡æœŸäº†ã€‚</p><ul><li>ç›®æ ‡ï¼šå³æ—¶æ›´æ–°ç¼“å­˜ä¸­çš„å¯¹è±¡æ‹·è´ã€‚<ul><li>å¦‚æœç¼“å­˜æ‹·è´éœ€è¦æ›´æ–°ï¼Œè¿”å› HTTP/1.0  200  OKï¼Œå®ä½“ä¸»ä½“ä¸­åŒ…å«å¯¹è±¡</li><li>å¦‚æœç¼“å­˜æ‹·è´ä¸éœ€è¦æ›´æ–°ï¼Œåˆ™è¿”å›HTTP/1.0  304  Not Modifiedï¼Œä¸”å®ä½“ä¸»ä½“ä¸­ä¸åŒ…å«å¯¹è±¡</li></ul></li></ul><p><img src="/2021/04/10/jsjwl02/image-20210411165916546.png" alt="æ¡ä»¶Getæ–¹æ³•"></p><h4 id="4-2-FTPï¼šæ–‡ä»¶ä¼ è¾“åè®®"><a href="#4-2-FTPï¼šæ–‡ä»¶ä¼ è¾“åè®®" class="headerlink" title="4.2 FTPï¼šæ–‡ä»¶ä¼ è¾“åè®®"></a>4.2 FTPï¼šæ–‡ä»¶ä¼ è¾“åè®®</h4><p><img src="/2021/04/10/jsjwl02/image-20210411194534840.png" alt="FTP"></p><ul><li>FTPåº”ç”¨åŒ…æ‹¬FTPç”¨æˆ·æ¥å£ã€FTPå®¢æˆ·ç«¯ã€æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿã€ç•Œé¢ç­‰ã€‚è€ŒFTPæœåŠ¡å™¨æœ‰æœåŠ¡å™¨çš„æ–‡ä»¶ç³»ç»Ÿï¼Œå®ˆå€™åœ¨21å·ç«¯å£ï¼Œç­‰å¾…è¿æ¥ã€‚</li><li>FTPåè®®ä¸­ï¼Œç”¨æˆ·é€šè¿‡FTPå®¢æˆ·ç«¯å¯ä»¥å‘è¿œç¨‹ä¸»æœºä¸Šä¼ è¾“æ–‡ä»¶æˆ–ä»è¿œç¨‹ä¸»æœºæ¥å—æ–‡ä»¶</li><li>å®¢æˆ·/æœåŠ¡å™¨æ¨¡å¼<ul><li>å®¢æˆ·ç«¯ï¼šå‘èµ·ä¼ è¾“çš„ä¸€æ–¹</li><li>æœåŠ¡å™¨ï¼šè¿œç¨‹ä¸»æœº</li></ul></li><li>FTPï¼šRFC 959</li><li>FTPå®¢æˆ·ç«¯ä¸FTPæœåŠ¡å™¨é€šè¿‡ç«¯å£21è”ç³»ï¼Œå¹¶ä½¿ç”¨TCPä¸ºä¼ è¾“åè®®<ul><li>å®¢æˆ·ç«¯é€šè¿‡æ§åˆ¶è¿æ¥è·å¾—èº«ä»½ç¡®è®¤</li><li>å®¢æˆ·ç«¯é€šè¿‡æ§åˆ¶è¿æ¥å‘é€å‘½ä»¤æµè§ˆè¿œç¨‹ç›®å½•</li></ul></li><li>ä½†æ˜¯ï¼Œå½“æœåŠ¡å™¨æ”¶åˆ°ä¸€ä¸ªæ–‡ä»¶ä¼ è¾“å‘½ä»¤æ—¶ï¼ŒæœåŠ¡å™¨æ‰“å¼€ç¬¬äºŒä¸ªTCPæ•°æ®è¿æ¥ï¼ˆæœåŠ¡å™¨20å·ç«¯å£åˆ°å®¢æˆ·ç«¯çš„æ•°æ®è¿æ¥ï¼‰æ¥ä¼ è¾“æ–‡ä»¶ã€‚</li></ul><p><img src="/2021/04/10/jsjwl02/image-20210411202825985.png" alt="FTPç«¯å£è¿æ¥"></p><ul><li><p>æ§åˆ¶è¿æ¥ï¼šå¸¦å¤–ï¼ˆout of bandï¼‰ä¼ é€</p></li><li><p>FTPå¸¦å†…æ˜¯ä¼ è¾“æ•°æ®çš„ï¼ˆ20å·ç«¯å£ï¼‰ï¼Œå¸¦å¤–æ˜¯ä¼ é€æ§åˆ¶ä¿¡å·ï¼ˆ21å·ç«¯å£ï¼‰</p></li><li><p>FTPæ˜¯æœ‰çŠ¶æ€çš„åè®®</p><ul><li>FTPæœåŠ¡å™¨ç»´æŠ¤ç”¨æˆ·çš„çŠ¶æ€ä¿¡æ¯ï¼šå½“å‰è·¯å¾„ã€ç”¨æˆ·è´¦æˆ·ä¸æ§åˆ¶è¿æ¥å¯¹åº”</li></ul></li><li><p>FTPå‘½ä»¤ã€å“åº”éƒ½æ˜¯ASCIIæ–‡æœ¬å½¢å¼</p><ul><li>FTPå‘½ä»¤ï¼šåœ¨æ§åˆ¶è¿æ¥ä¸Šä»¥ASCIIæ–‡æœ¬æ–¹å¼ä¼ é€</li></ul><blockquote><p>USER username</p><p>PASS password </p><p>LISTï¼šè¯·æœåŠ¡å™¨è¿”å›è¿œç¨‹ä¸»æœºå½“å‰ç›®å½•çš„æ–‡ä»¶åˆ—è¡¨ </p><p>RETR filenameï¼šä»è¿œç¨‹ä¸»æœºçš„å½“å‰ç›®å½•æ£€ç´¢æ–‡ä»¶ (gets) </p><p>STOR filenameï¼šå‘è¿œç¨‹ä¸»æœºçš„å½“å‰ç›®å½•å­˜æ”¾æ–‡ä»¶(puts)</p></blockquote><blockquote><p>æ³¨ï¼š</p><p>ä¸Šè½½ï¼šå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘æ•°æ®</p><p>ä¸‹è½½ï¼šæœåŠ¡å™¨å‘å®¢æˆ·ç«¯å‘æ•°æ®</p></blockquote><ul><li>è¿”å›ç ï¼š</li></ul><blockquote><p>çŠ¶æ€ç å’ŒçŠ¶æ€ä¿¡æ¯ï¼ˆåŒHTTPï¼‰</p><p>331 Username OK,  password required </p><p>125 data connection  already open;  transfer starting </p><p>425 Canâ€™t open data  connection </p><p>452 Error writing  file</p></blockquote></li></ul><h4 id="4-3-EMail"><a href="#4-3-EMail" class="headerlink" title="4.3 EMail"></a>4.3 EMail</h4><ul><li><p>emailçš„3ä¸ªä¸»è¦ç»„æˆéƒ¨åˆ†ï¼š</p><ul><li><p>ç”¨æˆ·ä»£ç†</p><ul><li>åˆåâ€œé‚®ä»¶é˜…è¯»å™¨â€</li><li>æ’°å†™ã€ç¼–è¾‘å’Œé˜…è¯»é‚®ä»¶ï¼Œå¦‚Outlookã€Foxmailç­‰</li><li>è¾“å‡ºå’Œè¾“å…¥é‚®ä»¶ä¿å­˜åœ¨æœåŠ¡å™¨ä¸Š</li></ul></li><li><p>é‚®ä»¶æœåŠ¡å™¨</p><ul><li>é‚®ä»¶æœåŠ¡å™¨ä¸­è¾“å‡ºæŠ¥æ–‡é˜Ÿåˆ—ä¿å­˜å¹¶ä¾æ­¤å‘é€å¾…å‘é€é‚®ä»¶æŠ¥æ–‡</li><li>é‚®ç®±ä¸­ç®¡ç†å’Œç»´æŠ¤å‘é€ç»™ç”¨æˆ·çš„é‚®ä»¶</li><li>é‚®ä»¶æœåŠ¡å™¨ä¹‹é—´çš„SMTPåè®®ï¼šå‘é€EmailæŠ¥æ–‡<ul><li>å®¢æˆ·ç«¯ï¼šå‘é€æ–¹é‚®ä»¶æœåŠ¡å™¨</li><li>æœåŠ¡å™¨ï¼šæ¥å—æ–¹é‚®ä»¶æœåŠ¡å™¨</li></ul></li></ul><blockquote><p>ä¸€å°é‚®ä»¶å‘é€è¿‡ç¨‹ï¼š<br>ç”¨æˆ·é€šè¿‡ç”¨æˆ·ä»£ç†æ’°å†™é‚®ä»¶ï¼Œç„¶åé€šè¿‡ç”¨æˆ·ä»£ç†ç»SMTPåè®®å‘é€é‚®ä»¶åˆ°é‚®ä»¶æœåŠ¡å™¨ä¸­çš„è¾“å‡ºé‚®ä»¶é˜Ÿåˆ—ä¸­ã€‚è¯¥æœåŠ¡å™¨ä½œä¸ºå‘é€æ–¹é‚®ä»¶æœåŠ¡å™¨ï¼Œé€šè¿‡SMTPåè®®æ‰¾åˆ°å¹¶å°†é‚®ä»¶æ¥æ”¶æ–¹é‚®ä»¶æœåŠ¡å™¨ã€‚æ¥å—æ–¹æœåŠ¡å™¨å°†æ¥å—åˆ°çš„é‚®ä»¶æ”¾åˆ°æœåŠ¡å™¨ä¸­ç›¸åº”ç”¨æˆ·é‚®ç®±ä¸­ï¼Œç›®æ ‡ç”¨æˆ·å†ç»ç”¨æˆ·ä»£ç†é€šè¿‡æ‹‰å–é‚®ä»¶çš„åè®®ï¼ˆPOP3ç­‰ï¼‰æ‹‰å–é‚®ç®±ä¸­è‡ªå·±æ”¶åˆ°çš„é‚®ä»¶ã€‚</p></blockquote><blockquote><p>ç”¨æˆ·ä»£ç†å‘æœåŠ¡å™¨å‘é‚®ä»¶ï¼Œç”¨æˆ·æ˜¯clientï¼Œé‚®ä»¶æœåŠ¡å™¨æ˜¯severã€‚</p><p>å‘é€æ–¹é‚®ä»¶æœåŠ¡å™¨å‘æ¥æ”¶æ–¹é‚®ä»¶æœåŠ¡å™¨å‘é‚®ä»¶ï¼Œå‘é€æ–¹é‚®ä»¶æœåŠ¡å™¨æ˜¯clientï¼Œæ¥æ”¶æ–¹é‚®ä»¶æœåŠ¡å™¨æ˜¯severã€‚</p></blockquote><blockquote><p>å‘é€æ–¹çš„é‚®ä»¶æœåŠ¡å™¨å¿…é¡»èƒ½å¤„ç†æ¥æ”¶æ–¹æœåŠ¡å™¨çš„æ•…éšœï¼Œå¦‚æœå‘é€æ–¹çš„æœåŠ¡å™¨ä¸èƒ½å°†é‚®ä»¶äº¤ä»˜ç»™æ¥æ”¶æ–¹çš„æœåŠ¡å™¨ï¼Œå‘é€æ–¹å°†åœ¨ä¸€ä¸ªæŠ¥æ–‡é˜Ÿåˆ—ä¸­ä¿æŒè¯¥é‚®ä»¶å¹¶ä¹‹åå†å°è¯•å‘é€æŠ¥æ–‡ï¼Œå¦‚æœä¸€ç›´å¤±è´¥ï¼ŒæœåŠ¡å™¨å°±ä¼šåˆ é™¤è¯¥é‚®ä»¶ï¼Œå¹¶ä»¥é‚®ä»¶æ–¹å¼é€šçŸ¥å‘é€ç”¨æˆ·ã€‚</p></blockquote></li><li><p>ç®€å•é‚®ä»¶ä¼ è¾“åè®®ï¼šSMTP</p><ul><li><p>SMTPä½¿ç”¨TCPåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ä¼ é€æŠ¥æ–‡ï¼Œç«¯å£å·ä¸º25</p></li><li><p>SMTPä¸ºç›´æ¥ä¼ è¾“ï¼šä»å‘é€æ–¹æœåŠ¡å™¨åˆ°æ¥æ”¶æ–¹æœåŠ¡å™¨ï¼Œé‚®ä»¶å¹¶ä¸åœ¨ä¸­é—´çš„æŸä¸ªæœåŠ¡å™¨åœç•™</p></li><li><p>ä¼ è¾“çš„3ä¸ªé˜¶æ®µï¼š</p><ul><li>æ¡æ‰‹</li><li>æŒç»­ä¼ è¾“æŠ¥æ–‡</li><li>å…³é—­</li></ul><blockquote><p>SMTPæ˜¯æŒç»­è¿æ¥ï¼šå¦‚æœå‘é€é‚®ä»¶æœåŠ¡å™¨æœ‰å¤šä¸ªé‚®ä»¶ï¼Œå®ƒå¯ä»¥é€šè¿‡åŒä¸€TCPè¿æ¥è¿ç»­å‘é€è¿™äº›é‚®ä»¶ã€‚</p></blockquote><blockquote><p>æ‰€ä»¥é‚®ä»¶æœ‰æ—¶æ˜¯å…ˆå­˜å‚¨åœ¨å‘é€é˜Ÿåˆ—çš„ï¼Œç­‰åˆ°å¤šä¸ªé‚®ä»¶ä¸€èµ·ä¼ é€’ï¼Œä»¥æ­¤æ¥å‡å°‘æœåŠ¡å™¨è€—èƒ½ç­‰ã€‚</p></blockquote></li><li><p>å‘½ä»¤/å“åº”äº¤äº’</p></li><li><p>å‘½ä»¤ï¼šASCIIæ–‡æœ¬</p></li></ul></li><li><p>å“åº”ï¼šASCII   çŠ¶æ€ç å’ŒçŠ¶æ€ä¿¡æ¯</p></li><li><p>SMTPè¦æ±‚æŠ¥æ–‡ï¼ˆé¦–éƒ¨å’Œä¸»ä½“ï¼‰å¿…é¡»ä¸º7ä½ASCIIç </p><blockquote><p>å‘½ä»¤ã€å“åº”å’Œé‚®ä»¶æœ¬èº«çš„å†…å®¹çš„ç»„æˆå­—ç¬¦å¿…é¡»æ˜¯åœ¨7ä½ASCIIç å­—ç¬¦é›†æè¿°çš„èŒƒå›´ä¹‹å†…çš„ã€‚è¶…è¿‡7ä½ASCIIç å­—ç¬¦é›†è¡¨ç¤ºçš„èŒƒå›´çš„æ•°æ®ä¸èƒ½é€šè¿‡SMTPä¼ è¾“ã€‚</p></blockquote></li></ul><blockquote><p>è¿™å°†é™åˆ¶SMTPçš„æ•°æ®ä¼ è¾“ï¼Œå³åœ¨SMTPä¼ è¾“é‚®ä»¶ä¹‹å‰ï¼Œéœ€è¦å°†äºŒè¿›åˆ¶å¤šåª’ä½“æ•°æ®ç¼–ç ä¸ºASCIIç ï¼Œå¹¶ä¸”åœ¨ä½¿ç”¨SMTPä¼ è¾“åè¦æ±‚å°†ç›¸åº”ASCIIç é‚®ä»¶è§£ç è¿˜åŸæˆå¤šåª’ä½“æ•°æ®ã€‚HTTPä¼ è¾“ä¸éœ€è¦å°†å¤šåª’ä½“æ•°æ®ç¼–ç æˆASCIIç ã€‚</p></blockquote><ul><li>SMTPæœåŠ¡å™¨ä½¿ç”¨CRLF.CRLFå†³å®šæŠ¥æ–‡çš„å°¾éƒ¨<img src="/2021/04/10/jsjwl02/image-20210411205241273.png" alt="EMailåŸç†"></li><li>SMTPä¸HTTPæ¯”è¾ƒï¼š<ul><li>HTTPï¼šæ‹‰ï¼ˆpullï¼‰ SMTPï¼šæ¨ï¼ˆpushï¼‰</li><li>ä¸¤è€…éƒ½æ˜¯ASCIIå½¢å¼çš„å‘½ä»¤ã€å“åº”äº¤äº’ã€çŠ¶æ€ç </li></ul><blockquote><p>ä½†æ˜¯ä¼ è¾“çš„å†…å®¹ï¼ŒHTTPå¯ä»¥ä¸ä¸€å®šæ˜¯ç”¨ASCIIç ï¼Œè€ŒSMTPåªèƒ½ç”¨ASCIIç å­—ç¬¦ã€‚</p></blockquote><ul><li>HTTPï¼šæ¯ä¸ªå¯¹è±¡å°è£…åœ¨å„è‡ªçš„å“åº”æŠ¥æ–‡ä¸­ï¼Œä¸€ä¸ªå“åº”æŠ¥æ–‡åªèƒ½æœ‰ä¸€ä¸ªå¯¹è±¡</li><li>SMTPï¼šå¤šä¸ªå¯¹è±¡åŒ…å«åœ¨ä¸€ä¸ªæŠ¥æ–‡ä¸­</li></ul><blockquote><p>è§£é‡Šï¼š</p><p>ä¾‹å¦‚ä¸€ä¸ªwebé¡µé¢å¯¹è±¡ï¼Œå…¶ä¸­æœ‰å¤šä¸ªå¯¹è±¡ï¼ˆå›¾ç‰‡ç­‰ï¼‰çš„å¼•ç”¨ï¼ŒHTTPçš„ä¸€ä¸ªå“åº”æŠ¥æ–‡ä¸­åªæœ‰è¿™ä¸€ä¸ªwebé¡µé¢å¯¹è±¡çš„æ•°æ®ï¼Œå…¶ä»–å¯¹è±¡éœ€è¦é€šè¿‡å¼•ç”¨å†å»ç»è¿‡å„è‡ªçš„å“åº”æŠ¥æ–‡ä¼ é€’è¿‡æ¥ã€‚</p><p>è€Œå¦‚æœæ˜¯ä¸€ä¸ªé‚®ä»¶ï¼Œå…¶ä¸­æœ‰å›¾ç‰‡ã€éŸ³é¢‘ç­‰å¤šä¸ªå¯¹è±¡ï¼ŒSMTPå°†ä¼šå°†è¿™ä¸ªé‚®ä»¶çš„æ‰€æœ‰å†…å®¹åŒ…å«åˆ°åŒä¸€ä¸ªæŠ¥æ–‡ä¸­ï¼Œä¸€æ¬¡ä¼ é€’è¿‡æ¥ã€‚</p></blockquote><ul><li><p>SMTPï¼šäº¤æ¢EmailæŠ¥æ–‡çš„åè®®     </p></li><li><p>RFC 822ï¼šé‚®ä»¶å†…å®¹æ–‡æœ¬æŠ¥æ–‡çš„æ ‡å‡†ï¼š</p><ul><li><p>é¦–éƒ¨è¡Œï¼šåŒ…å«</p><ul><li>To:           å‘é€ç»™è°<ul><li>From:      æ¥è‡ªè°</li></ul></li><li>Subject:   ä¸»é¢˜</li><li>è¿˜æœ‰ cc  ï¼ˆæŠ„é€ï¼‰ç­‰</li></ul></li><li><p>ä¸»ä½“</p><ul><li>æŠ¥æ–‡ï¼Œåªèƒ½æ˜¯ASCIIç å­—ç¬¦<blockquote><p>è¿™ä¸ªæ˜¯é‚®ä»¶æŠ¥æ–‡å†…å®¹çš„æ ¼å¼ï¼Œä¸SMTPå‘½ä»¤æ ¼å¼ä¸åŒ</p></blockquote></li></ul></li></ul></li><li><p>å¤šåª’ä½“æ‹“å±•çš„æŠ¥æ–‡æ ¼å¼</p><ul><li><p>MIMEï¼šå¤šåª’ä½“é‚®ä»¶æ‰©å±•ï¼ˆmultimedia mail extensionï¼‰   RFC  2045ï¼Œ2056</p><blockquote><p>ç”¨æ¥æ‹“å±•SMTPä¼ è¾“å†…å®¹ï¼Œä½¿å¾—SMTPèƒ½å¤Ÿä¼ è¾“ASCIIç å­—ç¬¦ä¹‹å¤–çš„å­—ç¬¦ã€‚</p></blockquote><ul><li>åœ¨æŠ¥æ–‡é¦–éƒ¨ç”¨é¢å¤–çš„è¡Œå£°æ˜MIMEå†…å®¹ç±»å‹</li></ul><p><img src="/2021/04/10/jsjwl02/image-20210412145320300.png" alt="MIME"></p><blockquote><p>å°†ä¸åœ¨ASCIIç å€¼çš„å†…å®¹ç”¨è§„å®šçš„æ ¼å¼ï¼ˆå¦‚base64ï¼‰ç¼–ç ä¸ºè¾ƒé•¿çš„7ä½ASCIIç å€¼ï¼Œç„¶åé€šè¿‡SMTPä¼ é€ã€‚æ¥å—ç«¯å—åˆ°è¯¥æ•°æ®åå†ç»è¿‡è§£ç ï¼Œè·å¾—åŸæ¥çš„æ•°æ®ï¼Œä»¥æ­¤å®ç°æ‹“å±•ASCIIç ä¼ è¾“å†…å®¹ã€‚</p></blockquote></li></ul></li></ul></li></ul></li><li><p>EMailåè®®</p><p><img src="/2021/04/10/jsjwl02/image-20210412145541524.png" alt="Emailåè®®"></p><ul><li><p>å‘é€çš„åè®®ï¼šç®€å•é‚®ä»¶ä¼ è¾“åè®®ï¼šSMTP</p><blockquote><p>ç”¨æˆ·ä»£ç†åˆ°å‘é€æ–¹é‚®ä»¶æœåŠ¡å™¨</p><p>å‘é€æ–¹é‚®ä»¶æœåŠ¡å™¨ä¼ é€åˆ°æ¥å—æ–¹çš„é‚®ä»¶æœåŠ¡å™¨</p></blockquote></li><li><p>æ‹‰å–çš„åè®®ï¼šPOP3ï¼ŒIMAPï¼ŒHTTP   </p><blockquote><p>ç”¨äºé‚®ä»¶è®¿é—®</p></blockquote></li></ul></li><li><p>é‚®ä»¶è®¿é—®åè®®</p><ul><li>é‚®ä»¶è®¿é—®åè®®ï¼šä»æœåŠ¡å™¨è®¿é—®é‚®ä»¶<ul><li>POPï¼šé‚®å±€è®¿é—®åè®®ï¼ˆPost Office Protocolï¼‰[RFC 1939]<ul><li>ç”¨æˆ·èº«ä»½ç¡®è®¤ (ä»£ç†&lt;â€“&gt;æœåŠ¡å™¨) å¹¶ä¸‹è½½</li></ul><blockquote><p>POP3æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„åè®®ï¼Œå› ä¸ºç®€å•ï¼Œæ‰€ä»¥åŠŸèƒ½æœ‰é™ï¼›POP3ä½¿ç”¨ç«¯å£110æ¥å»ºç«‹TCPè¿æ¥ï¼ˆSMTPä½¿ç”¨ç«¯å£25ï¼‰ï¼›POP3æŒ‰ç…§ä¸‰ä¸ªé˜¶æ®µè¿›è¡Œå·¥ä½œï¼šç‰¹è®¸ã€äº‹åŠ¡å¤„ç†å’Œæ›´æ–°ï¼›åœ¨ç‰¹è®¸é˜¶æ®µï¼Œç”¨æˆ·ä»£ç†å‘é€å¯†ç å’Œç”¨æˆ·åï¼Œè¿›è¡Œèº«ä»½é‰´åˆ«ï¼›ç¬¬äºŒé˜¶æ®µï¼Œç”¨æˆ·ä»£ç†å–å›æŠ¥æ–‡ï¼ŒåŒæ—¶è¿˜å¯ä»¥åšåˆ é™¤ã€å–æ¶ˆåˆ é™¤ç­‰æ ‡è®°æˆ–è€…ç»Ÿè®¡é‚®ä»¶ä¿¡æ¯ï¼›ç¬¬ä¸‰ä¸ªé˜¶æ®µæ˜¯åœ¨ç”¨æˆ·é€€å‡ºåï¼ŒPOP3ç»“æŸä¼šè¯ï¼Œåˆ é™¤è¢«æ ‡è®°çš„é‚®ä»¶ã€‚</p></blockquote></li><li>IMAPï¼šInterneté‚®ä»¶è®¿é—®åè®®ï¼ˆInternet Mail Access  Protocolï¼‰[RFC 1730] <ul><li><p>ä¸POP3ç±»ä¼¼ä½œç”¨ï¼Œä½†æ˜¯å¤šäº†æ›´å¤šç‰¹æ€§ (æ›´å¤æ‚) </p><blockquote><p>POP3åè®®æ— æ³•ä¸ºç”¨æˆ·æä¾›é‚®ä»¶åˆ†ç±»ç®¡ç†çš„åŠŸèƒ½ï¼Œè™½ç„¶ç”¨æˆ·å¯ä»¥é€šè¿‡å°†é‚®ä»¶ä¸‹è½½åˆ°æœ¬åœ°ï¼Œç„¶åç”±ç”¨æˆ·ä»£ç†ç¨‹åºåšåˆ†ç±»ç®¡ç†ï¼Œä½†æ˜¯å¤„ç†çš„ç»“æœæ˜¯æ— æ³•åŒæ­¥åˆ°å…¶ä»–æŸ¥çœ‹è®¾å¤‡ä¸Šçš„ã€‚ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼ŒIMAPè¯ç”Ÿäº†ã€‚IMAPæ˜¯ä¸€ä¸ªé‚®ä»¶è®¿é—®åè®®ï¼Œæ¯”POP3è¦å¤æ‚çš„å¤šã€‚</p><p>ï¼ˆè¿œç¨‹ï¼‰IMAPå°†æ¯ä¸€ä»½é‚®ä»¶å’Œä¸€ä¸ªä¸€ä¸ªæ–‡ä»¶å¤¹è”ç³»èµ·æ¥ï¼Œå½“æŠ¥æ–‡ç¬¬ä¸€æ¬¡åˆ°è¾¾æœåŠ¡å™¨æ—¶ï¼Œå®ƒä¸æ”¶ä»¶äººçš„INBOXç›¸å…³è”ã€‚æ”¶ä»¶äººå¯ä»¥å°†é‚®ä»¶ç§»åˆ°æ–°åˆ›å»ºçš„æ–‡ä»¶å¤¹ï¼Œé˜…è¯»é‚®ä»¶ï¼Œåˆ é™¤é‚®ä»¶ç­‰ã€‚IMAPå…è®¸ç”¨æˆ·åœ¨ä¸åŒæ–‡ä»¶å¤¹é‡Œç§»åŠ¨é‚®ä»¶å¹¶ä¸”æŸ¥è¯¢é‚®ä»¶ã€‚</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒIMAPæœåŠ¡å™¨ç»´æŠ¤äº†IMAPä¼šè¯çš„ç”¨æˆ·çŠ¶æ€ä¿¡æ¯ï¼ˆç›®å½•åã€æŠ¥æ–‡IDä¸ç›®å½•åä¹‹é—´æ˜ å°„ç­‰çŠ¶æ€ä¿¡æ¯ï¼‰ï¼Œä½†æ˜¯POP3å¹¶ä¸åœ¨ä¼šè¯æ—¶ç»´æŠ¤çŠ¶æ€ä¿¡æ¯ã€‚</p><p>IMAPåè®®è¿˜å…è®¸ç”¨æˆ·ä»£ç†è·å–æŠ¥æ–‡ç»„ä»¶è€Œä¸æ˜¯æŠ¥æ–‡æ•´ä½“ã€‚</p></blockquote></li><li><p>åœ¨æœåŠ¡å™¨ä¸Šå¤„ç†å­˜å‚¨çš„æŠ¥æ–‡</p></li></ul></li><li>HTTPï¼šHotmail , Yahoo! Mailç­‰ <ul><li>æ–¹ä¾¿</li></ul><blockquote><p>è¿™ç§æ–¹å¼ä¸»è¦æ˜¯æŒ‡ï¼Œç”¨æˆ·ä½¿ç”¨HTTPåè®®å’Œé‚®ä»¶æœåŠ¡å™¨é€šä¿¡ã€‚ç”¨æˆ·ä»£ç†å°±æ˜¯æ™®é€šçš„æµè§ˆå™¨ï¼Œä½†æ˜¯ï¼Œé‚®ä»¶æœåŠ¡å™¨ä¹‹é—´è¿˜æ˜¯ä½¿ç”¨SMTPåè®®çš„</p></blockquote></li></ul></li><li>POP3åè®®<ul><li><p>ç”¨æˆ·ç¡®è®¤é˜¶æ®µ </p><ul><li>å®¢æˆ·ç«¯å¯å‘å‡ºå‘½ä»¤ï¼š <ul><li>user: ç”³æ˜ç”¨æˆ·å</li><li>pass: å£ä»¤ </li></ul></li><li>æœåŠ¡å™¨å“åº” <ul><li>+OK</li><li>-ERR </li></ul></li></ul></li><li><p>äº‹ç‰©å¤„ç†é˜¶æ®µ, </p><ul><li>å®¢æˆ·ç«¯å¯ä»¥å‘é€ä»¥ä¸‹å‘½ä»¤ï¼š <ul><li><p>list: æŠ¥æ–‡å·åˆ—è¡¨ </p></li><li><p>retr: æ ¹æ®æŠ¥æ–‡å·æ£€ç´¢æŠ¥æ–‡ </p></li><li><p>dele: åˆ é™¤ </p><blockquote><p>ä¸€ä¸ªéœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒPOP3ç”¨æˆ·ä»£ç†å¯ä»¥ä½¿ç”¨ä¸¤ç§äº‹åŠ¡å¤„ç†æ¨¡å¼ï¼šä¸€ç§æ˜¯ä¸‹è½½å¹¶åˆ é™¤ï¼Œå¦ä¸€ç§æ˜¯ä¸‹è½½ä¿ç•™ï¼›POP3ä»£ç†å‘å‡ºçš„å‘½ä»¤å’Œå…¶å·¥ä½œæ¨¡å¼ç›¸å…³ï¼›ä¸‹è½½å¹¶åˆ é™¤çš„æ–¹æ³•å­˜åœ¨çš„é—®é¢˜æ˜¯ï¼Œå¦‚æœç”¨æˆ·åœ¨ä¸€å°è®¾å¤‡ä¸ŠæŸ¥çœ‹äº†é‚®ä»¶ï¼ˆä¸‹è½½äº†é‚®ä»¶ï¼‰åï¼Œé‚®ä»¶å°†è¢«åˆ é™¤ï¼Œé‚£ä¹ˆåœ¨å…¶ä»–è®¾å¤‡ä¸Šå°†æ— æ³•æŸ¥çœ‹é‚®ä»¶ï¼›è¿™ç»™ç”¨æˆ·å¸¦æ¥ä¸€å®šçš„ä¸ä¾¿ã€‚ä½¿ç”¨ä¸‹è½½ä¿å­˜æ–¹å¼ï¼Œåˆ™ç”¨æˆ·ä¸‹è½½é‚®ä»¶åï¼Œé‚®ä»¶è¿˜åœ¨æœåŠ¡å™¨ä¸Šã€‚</p></blockquote></li><li><p>quit</p></li></ul></li></ul></li><li><p>POP3åœ¨ä¼šè¯ä¸­æ˜¯æ— çŠ¶æ€çš„</p><blockquote><p>POP3åªæ˜¯ç»´æŠ¤ç”¨æˆ·è°ç™»å½•äº†ï¼Œéœ€è¦è·å–å“ªäº›é‚®ä»¶ï¼Œè€Œä¸ä¼šç»´æŠ¤ç”¨æˆ·å¯¹é‚®ä»¶ç›®å½•ç­‰æ“ä½œçš„çŠ¶æ€ã€‚</p></blockquote><blockquote><p>åœ¨ç”¨æˆ·ä»£ç†ä¸é‚®ç®±æœåŠ¡å™¨ä¹‹é—´çš„POP3ä¼šè¯æœŸé—´ï¼Œè¯¥POP3æœåŠ¡å™¨ä¿ç•™äº†ä¸€äº›çŠ¶æ€ä¿¡æ¯ï¼Œç‰¹åˆ«æ˜¯æ ‡è®°äº†å“ªäº›ç”¨æˆ·æŠ¥æ–‡è¢«æ ‡è®°ä¸ºåˆ é™¤äº†ã€‚ä½†æ˜¯POP3æœåŠ¡å™¨å¹¶ä¸åœ¨POP3ä¼šè¯è¿‡ç¨‹ä¸­å»æºå¸¦å’Œå®ç°çŠ¶æ€ä¿¡æ¯ï¼Œå¤§å¤§ç®€åŒ–äº†POP3çš„æœåŠ¡ã€‚</p></blockquote></li></ul></li></ul></li></ul><h4 id="4-4-DNSï¼ˆDomain-Name-Systemï¼‰"><a href="#4-4-DNSï¼ˆDomain-Name-Systemï¼‰" class="headerlink" title="4.4 DNSï¼ˆDomain Name Systemï¼‰"></a>4.4 DNSï¼ˆDomain Name Systemï¼‰</h4><ul><li><p>æä¾›ç»™åº”ç”¨ä½¿ç”¨çš„åº”ç”¨</p></li><li><p>DNSçš„å¿…è¦æ€§ </p><ul><li><p>IPåœ°å€æ ‡è¯†æŸä¸€æ—¶åˆ»ç½‘ç»œä¸­å”¯ä¸€çš„ä¸»æœºã€è·¯ç”±å™¨ï¼Œä½†IPåœ°å€ä¸å¥½è®°å¿†ï¼Œä¸ä¾¿äººç±»ä½¿ç”¨(æ²¡æœ‰æ„ä¹‰)ï¼Œäººç±»ä¸€èˆ¬å€¾å‘äºä½¿ç”¨ä¸€äº›æœ‰æ„ä¹‰çš„å­—ç¬¦ä¸²æ¥æ ‡è¯† Internetä¸Šçš„è®¾å¤‡ã€‚ </p><blockquote><p>ä¾‹å¦‚ï¼š<a href="mailto:&#113;&#122;&#x68;&#x65;&#110;&#x67;&#64;&#x75;&#x73;&#116;&#99;&#x2e;&#101;&#100;&#117;&#46;&#x63;&#110;">&#113;&#122;&#x68;&#x65;&#110;&#x67;&#64;&#x75;&#x73;&#116;&#99;&#x2e;&#101;&#100;&#117;&#46;&#x63;&#110;</a> æ‰€åœ¨çš„é‚®ä»¶æœåŠ¡å™¨<br> <a href="http://www.ustc.edu.cn/">www.ustc.edu.cn</a> æ‰€åœ¨çš„webæœåŠ¡å™¨ </p></blockquote></li><li><p>å­˜åœ¨ç€â€œå­—ç¬¦ä¸²â€â€”IPåœ°å€çš„è½¬æ¢çš„å¿…è¦æ€§</p></li><li><p>DNSæä¾›çš„ä¸»è¦æœåŠ¡ï¼šäººç±»ç”¨æˆ·æä¾›è¦è®¿é—®æœºå™¨çš„â€œå­—ç¬¦ä¸²â€åç§°ï¼Œç„¶åç”±DNSè´Ÿè´£è½¬æ¢æˆä¸ºäºŒè¿›åˆ¶çš„ç½‘ç»œåœ°å€</p></li></ul><blockquote><p>DNSé€šå¸¸è¢«å…¶ä»–åº”ç”¨å±‚åè®®ä½¿ç”¨ï¼Œæ¯”å¦‚ï¼šHTTPã€SMTPå’ŒFTPç­‰ã€‚è¿™äº›åè®®åœ¨æ­£å¼å·¥ä½œä»¥å‰ï¼Œé¦–å…ˆåˆ©ç”¨DNSæä¾›çš„æœåŠ¡ï¼Œå°†ä¸»æœºåè½¬æ¢ä¸ºIPåœ°å€ï¼Œå¯ä»¥å‘ç°çš„æ˜¯ï¼ŒDNSä¸ºç”¨æˆ·å¸¦æ¥æ–¹ä¾¿çš„åŒæ—¶ï¼Œä¹Ÿä¸ºç½‘ç»œåº”ç”¨å¸¦æ¥é¢å¤–çš„æ—¶å»¶â€”â€”æŸ¥è¯¢DNSæœåŠ¡å™¨çš„æ—¶å»¶ã€‚</p></blockquote></li><li><p>DNSç³»ç»Ÿéœ€è¦è§£å†³çš„é—®é¢˜ </p><ul><li><p>é—®é¢˜1ï¼šå¦‚ä½•å‘½åè®¾å¤‡ï¼Ÿ</p><ul><li>ç”¨æœ‰æ„ä¹‰çš„å­—ç¬¦ä¸²ï¼šå¥½è®°ï¼Œä¾¿äºäººç±»ä½¿ç”¨</li><li>è§£å†³ä¸€ä¸ªå¹³é¢å‘½åçš„é‡åé—®é¢˜ï¼šé‡‡ç”¨å±‚æ¬¡åŒ–å‘½åæ–¹å¼</li></ul><blockquote><p>ä¸€ä¸ªå¹³é¢è¿›è¡Œå‘½åä¼šå‡ºç°é—®é¢˜ï¼šè®¾å¤‡è¶Šæ¥è¶Šå¤šï¼Œä¸é‡å¤çš„å‘½åè¶Šæ¥è¶Šéš¾å®ç°</p></blockquote></li><li><p>é—®é¢˜2ï¼šå¦‚ä½•å®Œæˆåå­—åˆ°IPåœ°å€çš„è½¬æ¢ï¼Ÿ </p><ul><li>ä¸€å°è®¾å¤‡é›†ä¸­è§£å†³åŸŸååˆ°IPåœ°å€è½¬æ¢å®é™…ä¸Šéš¾ä»¥å®ç°ï¼Œå› ä¸ºæœåŠ¡å™¨è´Ÿè½½æœ‰é™ï¼Œæ˜“å‡ºç°é”™è¯¯ã€‚æ‰€ä»¥é‡‡ç”¨åˆ†å¸ƒå¼çš„æ•°æ®åº“ç»´æŠ¤å’Œå“åº”åå­—æŸ¥è¯¢ã€‚</li></ul></li><li><p>é—®é¢˜3ï¼šå¦‚ä½•ç»´æŠ¤ï¼šå¢åŠ æˆ–è€…åˆ é™¤ä¸€ä¸ªåŸŸï¼Œéœ€è¦åœ¨åŸŸåç³»ç»Ÿä¸­åšå“ªäº›å·¥ä½œï¼Ÿ</p></li></ul></li><li><p>DNS çš„å†å²</p></li></ul><p><img src="/2021/04/10/jsjwl02/image-20210413165837322.png" alt="ARP ANET"></p><ul><li><p>DNSçš„ä¸»è¦æ€è·¯</p><ul><li><p>åˆ†å±‚çš„ã€åŸºäºåŸŸçš„å‘½åæœºåˆ¶</p></li><li><p>è‹¥å¹²åˆ†å±‚çš„DNSæœåŠ¡å™¨ç»„æˆçš„åˆ†å¸ƒå¼æ•°æ®åº“å®Œæˆåå­—åˆ°IPåœ°å€çš„è½¬æ¢</p></li><li><p>è¿è¡Œåœ¨UDPä¹‹ä¸Šç«¯å£å·ä¸º53çš„åº”ç”¨æœåŠ¡</p><blockquote><p>é‡‡ç”¨UDPåŸå› ï¼šDNSåªæ˜¯éœ€è¦é€šè¿‡åŸŸåæŸ¥è¯¢ç›¸åº”çš„IPåœ°å€ï¼Œé‡‡ç”¨TCPéœ€è¦è€—è´¹å¾ˆé•¿æ—¶é—´è¿›è¡Œå»ºç«‹è”ç³»ã€‚</p></blockquote></li><li><p>DNSå±äºInternetçš„æ ¸å¿ƒåŠŸèƒ½ï¼Œä½†ä»¥ç«¯ç³»ç»Ÿçš„åº”ç”¨å±‚åè®®å®ç°çš„</p><ul><li>Internetåœ¨ç½‘ç»œè¾¹ç¼˜å¤„ç†äº’è”ç½‘çš„å¤æ‚åŠŸèƒ½</li></ul></li></ul></li><li><p>DNSä¸»è¦ç›®çš„ï¼š</p><ul><li><p>å®ç°ä¸»æœºåŸŸå-IPåœ°å€çš„è½¬æ¢(name/IP translate) </p></li><li><p>å…¶å®ƒç›®çš„ </p><ul><li>ä¸»æœºåˆ«ååˆ°è§„èŒƒåå­—çš„è½¬æ¢ï¼šHost aliasing </li></ul><blockquote><p>åº”ç”¨æœåŠ¡ï¼ˆä¾‹å¦‚æŸä¸€åŸŸå<a href="http://www.xxx.comï¼‰å¾€å¾€æ˜¯å¤§é‡çš„æœåŠ¡å™¨è¿›è¡Œæä¾›ç»´æŠ¤ï¼Œå¯¹äºæ¯ä¸€å°æœåŠ¡å™¨éƒ½æœ‰ä¸€ä¸ªè§„èŒƒçš„ä¸»æœºåæ¥æ ‡è¯†ï¼Œä¾‹å¦‚ï¼šæŸä¸€åœ°ç‚¹çš„æŸä¸€æœºæˆ¿çš„æŸä¸€æœºæŸœçš„æŸä¸€åˆ€ç‰‡æœåŠ¡å™¨+è¯¥åŸŸåï¼Œä¸ºäº†ä¾¿äºä½¿ç”¨ï¼Œè¿™å¤§é‡çš„æœåŠ¡å™¨éƒ½è¢«ç§°ä¸ºwww.xxx.comï¼Œè¿™ä¸ªå°±æ˜¯ä¸»æœºåˆ«åã€‚">www.xxx.comï¼‰å¾€å¾€æ˜¯å¤§é‡çš„æœåŠ¡å™¨è¿›è¡Œæä¾›ç»´æŠ¤ï¼Œå¯¹äºæ¯ä¸€å°æœåŠ¡å™¨éƒ½æœ‰ä¸€ä¸ªè§„èŒƒçš„ä¸»æœºåæ¥æ ‡è¯†ï¼Œä¾‹å¦‚ï¼šæŸä¸€åœ°ç‚¹çš„æŸä¸€æœºæˆ¿çš„æŸä¸€æœºæŸœçš„æŸä¸€åˆ€ç‰‡æœåŠ¡å™¨+è¯¥åŸŸåï¼Œä¸ºäº†ä¾¿äºä½¿ç”¨ï¼Œè¿™å¤§é‡çš„æœåŠ¡å™¨éƒ½è¢«ç§°ä¸ºwww.xxx.comï¼Œè¿™ä¸ªå°±æ˜¯ä¸»æœºåˆ«åã€‚</a></p><p>è§„èŒƒä¸»æœºåä¸ºäº†ä¾¿äºç®¡ç†ï¼Œè€Œä¸»æœºåˆ«åæ˜¯ä¸ºäº†ä¾¿äºè®¿é—®ã€‚</p></blockquote><blockquote><p>æ‰€ä»¥DNSå¾€å¾€æ˜¯å®ç°ï¼šä¸»æœºåˆ«åè½¬æ¢ä¸ºè§„èŒƒä¸»æœºåå†åˆ°IPåœ°å€çš„è½¬æ¢</p></blockquote><ul><li>é‚®ä»¶æœåŠ¡å™¨åˆ«ååˆ°é‚®ä»¶æœåŠ¡å™¨çš„æ­£è§„åå­—çš„è½¬æ¢ï¼šMail server  aliasing </li></ul><blockquote><p>DNSåŒæ ·ä¹Ÿæä¾›é‚®ä»¶æœåŠ¡å™¨ä¸»æœºåå’Œåˆ«åçš„è½¬æ¢æœåŠ¡ï¼Œå®é™…ä¸Šï¼Œå…¬å¸çš„é‚®ä»¶æœåŠ¡å™¨å’ŒWebæœåŠ¡å™¨ï¼ˆå¦‚<a href="http://www.xxx.com)å¯ä»¥ä½¿ç”¨ç›¸åŒçš„ä¸»æœºåˆ«å,å°±å¯ä»¥ä½¿ç”¨è¯¥å…¬å¸åŸŸåæ¥ä½œä¸ºé‚®ä»¶æœåŠ¡å™¨åœ°å€(www.xxx.com);mxè®°å½•å…è®¸ä¸€ä¸ªå…¬å¸çš„é‚®ä»¶æœåŠ¡å™¨å’ŒwebæœåŠ¡å™¨ä½¿ç”¨ç›¸åŒçš„ä¸»æœºå./">www.xxx.comï¼‰å¯ä»¥ä½¿ç”¨ç›¸åŒçš„ä¸»æœºåˆ«åï¼Œå°±å¯ä»¥ä½¿ç”¨è¯¥å…¬å¸åŸŸåæ¥ä½œä¸ºé‚®ä»¶æœåŠ¡å™¨åœ°å€ï¼ˆwww.xxx.comï¼‰ï¼›MXè®°å½•å…è®¸ä¸€ä¸ªå…¬å¸çš„é‚®ä»¶æœåŠ¡å™¨å’ŒWebæœåŠ¡å™¨ä½¿ç”¨ç›¸åŒçš„ä¸»æœºåã€‚</a></p></blockquote><ul><li>è´Ÿè½½å‡è¡¡ï¼šLoad Distributio</li></ul><blockquote><p>åº”ç”¨æœåŠ¡ï¼ˆä¾‹å¦‚æŸä¸€åŸŸå<a href="http://www.xxx.com)å¾€å¾€æ˜¯å¤§é‡çš„æœåŠ¡å™¨è¿›è¡Œæä¾›ç»´æŠ¤,è¿™äº›æœåŠ¡å™¨éƒ½ä½¿ç”¨åŒä¸€ä¸ªä¸»æœºåˆ«å(www.xxx.com),ç„¶åè¯¥åŸŸåæ”¶åˆ°è¯·æ±‚ä»¥å,dnså°†ä¼šæŒ‰ç…§ä¸€å®šåŸåˆ™å’Œä¾æ®å°†ä»»åŠ¡åˆ†é…ç»™è¿™äº›æœåŠ¡å™¨ä¸­çš„ä¸€å°æœåŠ¡å™¨æ¥æä¾›æœåŠ¡,ä»è€Œè¾¾åˆ°è´Ÿè½½å‡è¡¡./">www.xxx.comï¼‰å¾€å¾€æ˜¯å¤§é‡çš„æœåŠ¡å™¨è¿›è¡Œæä¾›ç»´æŠ¤ï¼Œè¿™äº›æœåŠ¡å™¨éƒ½ä½¿ç”¨åŒä¸€ä¸ªä¸»æœºåˆ«åï¼ˆwww.xxx.comï¼‰ï¼Œç„¶åè¯¥åŸŸåæ”¶åˆ°è¯·æ±‚ä»¥åï¼ŒDNSå°†ä¼šæŒ‰ç…§ä¸€å®šåŸåˆ™å’Œä¾æ®å°†ä»»åŠ¡åˆ†é…ç»™è¿™äº›æœåŠ¡å™¨ä¸­çš„ä¸€å°æœåŠ¡å™¨æ¥æä¾›æœåŠ¡ï¼Œä»è€Œè¾¾åˆ°è´Ÿè½½å‡è¡¡ã€‚</a></p></blockquote></li></ul></li><li><p>é—®é¢˜1ï¼šDNSåå­—ç©ºé—´</p><ul><li><p>DNSåŸŸåç»“æ„</p><ul><li><p>ä¸€ä¸ªå±‚é¢å‘½åè®¾å¤‡ä¼šæœ‰å¾ˆå¤šé‡å</p></li><li><p>NDSé‡‡ç”¨å±‚æ¬¡æ ‘çŠ¶ç»“æ„çš„å‘½åæ–¹æ³•å®ç°DNSåŸŸåå‘½å</p></li><li><p>Internet æ ¹è¢«åˆ’ä¸ºå‡ ç™¾ä¸ªé¡¶çº§åŸŸ(top lever domains) </p><ul><li><p>é€šç”¨çš„(generic)</p><p> .com; .edu ; .gov ; .int ; .mil ; .net ; .org .firm ; .hsop ; .web ; .arts ; .rec ; </p></li><li><p>å›½å®¶çš„(countries) </p></li></ul><p>.cn ; .us ; .nl ; .jp </p></li><li><p>æ¯ä¸ª(å­)åŸŸä¸‹é¢å¯åˆ’åˆ†ä¸ºè‹¥å¹²å­åŸŸ(subdomains) </p></li><li><p>æ ‘å¶æ˜¯ä¸»æœº</p></li><li><p>æ ¹åå­—æœåŠ¡å™¨æœ‰13ä¸ª</p></li></ul><blockquote><p>å¦‚æœåªæœ‰ä¸€ä¸ªï¼Œå¯èƒ½å‡ºç°ä¸€ä¸ªå®•æœºï¼Œæ•´ä¸ªDNSä¸èƒ½ä½¿ç”¨</p></blockquote><p><img src="/2021/04/10/jsjwl02/image-20210413183435963.png" alt="DNSæ ¹åå­—æœåŠ¡å™¨"></p><ul><li>DNSåŸŸåç»“æ„</li></ul><p><img src="/2021/04/10/jsjwl02/image-20210413183541230.png" alt="DNSåå­—ç©ºé—´"></p><ul><li><p>åŸŸå(Domain Name)</p><ul><li><p>ä»æœ¬åŸŸå¾€ä¸Šï¼Œç›´åˆ°æ ‘æ ¹</p></li><li><p>ä¸­é—´ä½¿ç”¨â€œ.â€é—´éš”ä¸åŒçš„çº§åˆ«</p><blockquote><p>ä¾‹å¦‚: ustc.edu.cn   auto.ustc.edu.cn        <a href="http://www.auto.ustc.edu.cn/">www.auto.ustc.edu.cn</a></p></blockquote></li><li><p>åŸŸçš„åŸŸå:å¯ä»¥ç”¨äºè¡¨ç¤ºä¸€ä¸ªåŸŸ  </p><blockquote><p>ä»æ ‘æå¾€ä¸Šæ‰¾</p></blockquote></li><li><p>ä¸»æœºçš„åŸŸå:ä¸€ä¸ªåŸŸä¸Šçš„ä¸€ä¸ªä¸»æœº</p><blockquote><p>ä»æ ‘å¶å¾€ä¸Šæ‰¾</p></blockquote></li></ul></li><li><p>åŸŸåçš„ç®¡ç†</p><ul><li>ä¸€ä¸ªåŸŸç®¡ç†å…¶ä¸‹çš„å­åŸŸ<ul><li>.jpè¢«åˆ’åˆ†ä¸ºac.jp    co.jp</li><li>.cnè¢«åˆ’åˆ†ä¸ºedu.cn   com.cn</li></ul></li><li>åˆ›å»ºä¸€ä¸ªæ–°çš„åŸŸï¼Œå¿…é¡»å¾å¾—å®ƒæ‰€å±åŸŸçš„åŒæ„</li></ul></li><li><p>åŸŸä¸ç‰©ç†ç½‘ç»œæ— å…³</p><ul><li>åŸŸéµä»ç»„ç»‡ç•Œé™ï¼Œè€Œä¸æ˜¯ç‰©ç†ç½‘ç»œ<ul><li>ä¸€ä¸ªåŸŸçš„ä¸»æœºå¯ä»¥ä¸åœ¨ä¸€ä¸ªç½‘ç»œ</li><li>ä¸€ä¸ªç½‘ç»œçš„ä¸»æœºä¸ä¸€å®šåœ¨ä¸€ä¸ªåŸŸ</li></ul></li><li>åŸŸçš„åˆ’åˆ†æ˜¯é€»è¾‘çš„ï¼Œè€Œä¸æ˜¯ç‰©ç†çš„</li></ul></li></ul></li></ul></li><li><p>é—®é¢˜2ï¼šå¦‚ä½•è§£æåŸŸåä¸ºIPåœ°å€é—®é¢˜-åå­—æœåŠ¡å™¨(Name Server)</p><ul><li><p>åªé‡‡ç”¨ä¸€ä¸ªæœåŠ¡å™¨ä½œä¸ºåå­—æœåŠ¡å™¨çš„é—®é¢˜</p><ul><li>å¯é æ€§é—®é¢˜ï¼šå•ç‚¹æ•…éšœ</li><li>æ‰©å±•æ€§é—®é¢˜ï¼šé€šä¿¡å®¹é‡</li><li>ç»´æŠ¤é—®é¢˜ï¼šè¿œè·ç¦»çš„é›†ä¸­å¼æ•°æ®åº“ </li></ul></li><li><p>æ‰€ä»¥é‡‡ç”¨åˆ†å¸ƒå¼æœåŠ¡å™¨æ¥è§£å†³åŸŸåè§£æä¸ºIPåœ°å€çš„é—®é¢˜ï¼Œå¤§è‡´æ¥è¯´ï¼Œå­˜åœ¨ä¸‰ç§DNSæœåŠ¡å™¨ï¼šæ ¹DNSæœåŠ¡å™¨ã€é¡¶çº§åŸŸDNSæœåŠ¡å™¨å’Œæƒå¨DNSæœåŠ¡å™¨</p></li><li><p>é¡¶çº§åŸŸ(TLD)æœåŠ¡å™¨ï¼š</p><ul><li>è´Ÿè´£é¡¶çº§åŸŸåï¼ˆå¦‚com, org, net,  eduå’Œgovï¼‰å’Œå›½å®¶çº§çš„é¡¶çº§åŸŸåï¼ˆå¦‚cn, uk, fr, ca,  jp ï¼‰<ul><li>Network solutions å…¬å¸ç»´æŠ¤com TLDæœåŠ¡å™¨ </li><li>Educauseå…¬å¸ç»´æŠ¤edu TLDæœåŠ¡å™¨</li></ul></li></ul></li><li><p>å°†åå­—ç©ºé—´åˆ’åˆ†ä¸ºè‹¥å¹²äº’ä¸ç›¸äº¤çš„åŒºåŸŸ(zone) </p><ul><li>åŒºåŸŸçš„åˆ’åˆ†æœ‰åŒºåŸŸç®¡ç†è€…è‡ªå·±å†³å®š</li><li>å°†DNSåå­—ç©ºé—´åˆ’åˆ†ä¸ºäº’ä¸ç›¸äº¤çš„åŒºåŸŸï¼Œæ¯ä¸ªåŒºåŸŸéƒ½æ˜¯æ ‘çš„ä¸€éƒ¨åˆ†</li><li>åå­—æœåŠ¡å™¨ï¼š<ul><li>æ¯ä¸ªåŒºåŸŸéƒ½æœ‰ä¸€ä¸ªåå­—æœåŠ¡å™¨ï¼šç»´æŠ¤ç€å®ƒæ‰€ç®¡è¾–åŒºåŸŸçš„æƒå¨ä¿¡æ¯ (authoritative record) ï¼Œç»„ç»‡æœºæ„çš„DNSæœåŠ¡å™¨ï¼Œæä¾›ç»„ç»‡æœºæ„æœåŠ¡å™¨å¯ä»¥è®¿é—®çš„ä¸»æœºå’ŒIPä¹‹é—´çš„æ˜ å°„</li><li>åå­—æœåŠ¡å™¨å…è®¸è¢«æ”¾ç½®åœ¨åŒºåŸŸä¹‹å¤–ï¼Œä»¥ä¿éšœå¯é æ€§</li></ul></li></ul><p><img src="/2021/04/10/jsjwl02/image-20210413185005911.png" alt="Zone"></p><ul><li><p>åŒºåŸŸåå­—æœåŠ¡å™¨é€šè¿‡ç»´æŠ¤èµ„æºè®°å½•æ¥ç»´æŠ¤åŒºåŸŸå†…å„åŸŸåå’Œä¸»æœºä¹‹é—´çš„ä¿¡æ¯æ•°æ®</p><ul><li><p>èµ„æºè®°å½•(resource records) </p><ul><li><p>ä½œç”¨ï¼šç»´æŠ¤ åŸŸå-IPåœ°å€(å…¶å®ƒ)çš„æ˜ å°„å…³ç³»</p></li><li><p>ä½ç½®ï¼šName Serverçš„åˆ†å¸ƒå¼æ•°æ®åº“ä¸­ </p></li><li><p>RRæ ¼å¼: (domain_name, ttl, type,class,Value) </p><ul><li><p>Domain_name: åŸŸå </p></li><li><p>Ttl: time to live : ç”Ÿå­˜æ—¶é—´</p><blockquote><p>æŸä¸€åŸŸåçš„RRåœ¨å®ƒçš„æƒå¨æœåŠ¡å™¨ä¸­æ˜¯æ— é™å¤§çš„ï¼Œè€Œåœ¨å…¶ä»–æœåŠ¡å™¨ä¸­ç¼“å†²è®°å½•æ˜¯æœ‰é™çš„ï¼Œä¸€æ®µæ—¶é—´åä¼šå°†è¯¥åŸŸåRRåˆ é™¤ã€‚</p><p>ç¼“å†²ç›®çš„æ˜¯ä¸ºäº†æé«˜æ•ˆç‡<br>åˆ é™¤ç¼“å­˜ç›®çš„æ˜¯ä¸ºäº†ç»´æŠ¤ä¸€è‡´æ€§</p></blockquote></li><li><p>Class ç±»åˆ« ï¼šå¯¹äºInternetï¼Œå€¼ä¸ºIN </p></li><li><p>Value å€¼ï¼šå¯ä»¥æ˜¯æ•°å­—ï¼ŒåŸŸåæˆ–ASCIIä¸²ç­‰ï¼Œå­˜çš„æ˜¯åŸŸåå¯¹åº”çš„IPåœ°å€</p></li><li><p>Type ç±»åˆ«ï¼šèµ„æºè®°å½•çš„ç±»å‹</p></li></ul><p><img src="/2021/04/10/jsjwl02/image-20210413195554207.png" alt="Typeç±»å‹ä¸¾ä¾‹"></p></li></ul></li></ul></li></ul></li><li><p>DNSå¤§è‡´å·¥ä½œè¿‡ç¨‹</p><ul><li>åº”ç”¨è°ƒç”¨è§£æå™¨ï¼ˆresolverï¼‰</li><li>è§£æå™¨ä½œä¸ºå®¢æˆ·å‘Local Name Serverå‘å‡ºæŸ¥è¯¢æŠ¥æ–‡ï¼ˆå°è£…åœ¨UDPæ®µä¸­ï¼‰</li><li>Name Serverè¿”å›å“åº”æŠ¥æ–‡ï¼ˆname/ipï¼‰</li></ul><p><img src="/2021/04/10/jsjwl02/image-20210413211302361.png" alt="DNSå¤§è‡´å·¥ä½œè¿‡ç¨‹"></p></li><li><p>æœ¬åœ°åå­—æœåŠ¡å™¨ï¼ˆLocal Name Serverï¼‰</p><ul><li>å¹¶ä¸ä¸¥æ ¼å±äºDNSæœåŠ¡å™¨çš„å±‚æ¬¡ç»“æ„<ul><li>ä¸€èˆ¬æ˜¯è·ç¦»ä¸»æœºæœ€è¿‘çš„åå­—æœåŠ¡å™¨</li></ul></li><li>æ¯ä¸ªISP (å±…æ°‘åŒºçš„ISPã€å…¬å¸ã€å¤§å­¦ï¼‰éƒ½æœ‰ä¸€ä¸ªæœ¬åœ°DNSæœåŠ¡å™¨<ul><li>ä¹Ÿç§°ä¸ºâ€œé»˜è®¤åå­—æœåŠ¡å™¨â€</li></ul></li><li>å½“ä¸€ä¸ªä¸»æœºå‘èµ·ä¸€ä¸ªDNSæŸ¥è¯¢æ—¶ï¼ŒæŸ¥è¯¢è¢«é€åˆ°å…¶æœ¬åœ°DNSæœåŠ¡å™¨ <ul><li>èµ·ç€ä»£ç†çš„ä½œç”¨ï¼Œå°†æŸ¥è¯¢è½¬å‘åˆ°å±‚æ¬¡ç»“æ„ä¸­å»è§£æä¸»æœºå</li><li>åå­—è§£æè¿‡ç¨‹ï¼š<ul><li>ç›®æ ‡åå­—åœ¨Local Name Serverä¸­<ul><li><p>æƒ…å†µ1ï¼šæŸ¥è¯¢çš„åå­—åœ¨Local Name ServeråŒºåŸŸå†…éƒ¨</p></li><li><p>æƒ…å†µ2ï¼šLocal Name Serverä¸­æœ‰å¯¹åº”ä¸»æœºçš„ç¼“å­˜(cashing)</p><blockquote><p>ç¼“å†²æ˜¯ä¸ºäº†æ•ˆç‡ï¼Œä¸€æ®µæ—¶é—´åä¼šåˆ é™¤ç¼“å†²ï¼Œæ˜¯ä¸ºäº†ä¿æŒä¸€è‡´æ€§</p></blockquote></li></ul></li><li>å½“ä¸æœ¬åœ°åå­—æœåŠ¡å™¨ä¸èƒ½è§£æåå­—æ—¶ï¼Œè”ç³»æ ¹åå­—æœåŠ¡å™¨é¡ºç€æ ¹-TLD ä¸€ç›´æ‰¾åˆ°æƒå¨åå­—æœåŠ¡å™¨<ul><li><p>é€’å½’æŸ¥è¯¢</p><ul><li>åå­—è§£æè´Ÿæ‹…éƒ½æ”¾åœ¨å½“å‰è”ç»œçš„åå­—æœåŠ¡å™¨ä¸Š</li><li>é—®é¢˜ï¼šæ ¹æœåŠ¡å™¨çš„è´Ÿæ‹…å¤ªé‡</li><li>è§£å†³ï¼š è¿­ä»£æŸ¥è¯¢ ï¼ˆiterated  queriesï¼‰</li></ul><p><img src="/2021/04/10/jsjwl02/image-20210413234354328.png" alt="é€’å½’æŸ¥è¯¢"></p></li><li><p>è¿­ä»£æŸ¥è¯¢</p><p>ä¸»æœºcis.poly.edu æƒ³çŸ¥é“ä¸»æœº gaia.cs.umass.edu çš„IPåœ°å€</p><ul><li>æ ¹ï¼ˆåŠå„çº§åŸŸåï¼‰æœåŠ¡å™¨è¿”å›çš„ä¸æ˜¯æŸ¥è¯¢ç»“æœï¼Œè€Œæ˜¯ä¸‹ä¸€ä¸ªNSçš„åœ°å€</li><li>æœ€åç”±æƒå¨åå­—æœåŠ¡å™¨ç»™å‡ºè§£æç»“æœ</li><li>å½“å‰è”ç»œçš„æœåŠ¡å™¨ç»™å‡ºå¯ä»¥è”ç³»çš„æœåŠ¡å™¨çš„åå­—â€œæˆ‘ä¸çŸ¥é“è¿™ä¸ªåå­—ï¼Œä½† å¯ä»¥å‘è¿™ä¸ªæœåŠ¡å™¨è¯·æ±‚â€</li></ul><p><img src="/2021/04/10/jsjwl02/image-20210413234546250.png" alt="è¿­ä»£æŸ¥è¯¢"></p></li></ul></li></ul></li></ul></li></ul></li><li><p>DNSåè®®æŠ¥æ–‡</p><ul><li><p>DNSåè®®çš„æŸ¥è¯¢å’Œå“åº”æŠ¥æ–‡çš„æŠ¥æ–‡æ ¼å¼ç›¸åŒï¼Œé æ ‡è¯†ä½flagsæ¥åˆ¤æ–­æŸ¥è¯¢/åº”ç­”</p><ul><li><p>æŠ¥æ–‡é¦–éƒ¨ï¼š</p><p><img src="/2021/04/10/jsjwl02/image-20210413235044154.png" alt="DNSæŠ¥æ–‡"></p><blockquote><p>IDæ˜¯ä¸ºäº†å®ç°æµæ°´çº¿å¹¶è¡ŒæŸ¥è¯¢DNS</p></blockquote><p><img src="/2021/04/10/jsjwl02/image-20210413235107155.png" alt="DNSæŠ¥æ–‡å†…å®¹"></p></li></ul></li></ul></li><li><p>æé«˜æ€§èƒ½ï¼šç¼“å­˜ </p><ul><li>ä¸€æ—¦åå­—æœåŠ¡å™¨å­¦åˆ°äº†ä¸€ä¸ªæ˜ å°„ï¼Œå°±å°†è¯¥æ˜ å°„ç¼“å­˜èµ·æ¥ </li><li>æ ¹æœåŠ¡å™¨é€šå¸¸éƒ½åœ¨æœ¬åœ°æœåŠ¡å™¨ä¸­ç¼“å­˜ç€ <ul><li>ä½¿å¾—æ ¹æœåŠ¡å™¨ä¸ç”¨ç»å¸¸è¢«è®¿é—® </li></ul></li><li>ç›®çš„ï¼šæé«˜æ•ˆç‡ </li><li>å¯èƒ½å­˜åœ¨çš„é—®é¢˜ï¼šå¦‚æœæƒ…å†µå˜åŒ–ï¼Œç¼“å­˜ç»“æœå’Œæƒå¨èµ„æºè®°å½•ä¸ä¸€è‡´</li><li>è§£å†³æ–¹æ¡ˆï¼šTTLï¼ˆé»˜è®¤2å¤©ï¼‰</li></ul><blockquote><p>TTLç»“æŸåï¼Œåˆ é™¤ç¼“å­˜çš„å†…å®¹</p></blockquote></li></ul></li><li><p>é—®é¢˜3ï¼šç»´æŠ¤é—®é¢˜ï¼šæ–°å¢ä¸€ä¸ªåŸŸæ€ä¹ˆç»´æŠ¤ï¼Ÿ</p><ul><li><p>åœ¨ä¸Šçº§åŸŸçš„åå­—æœåŠ¡å™¨ä¸­å¢åŠ ä¸¤æ¡è®°å½•ï¼ŒæŒ‡å‘è¿™ä¸ªæ–°å¢çš„å­åŸŸçš„åŸŸå å’Œ åŸŸåæœåŠ¡å™¨çš„åœ°å€</p></li><li><p>åœ¨æ–°å¢å­åŸŸ çš„åå­—æœåŠ¡å™¨ä¸Šè¿è¡Œåå­—æœåŠ¡å™¨ï¼Œè´Ÿè´£æœ¬åŸŸ çš„åå­—è§£æï¼š åå­—-&gt;IPåœ°å€ </p><blockquote><p>ä¾‹å­ï¼šåœ¨comåŸŸä¸­å»ºç«‹ä¸€ä¸ªâ€œNetwork Utopiaâ€ </p><ul><li>åˆ°æ³¨å†Œç™»è®°æœºæ„æ³¨å†ŒåŸŸånetworkutopia.com <ul><li>éœ€è¦å‘è¯¥æœºæ„æä¾›æƒå¨DNSæœåŠ¡å™¨ï¼ˆåŸºæœ¬çš„ã€å’Œè¾…åŠ©çš„ï¼‰çš„åå­— å’ŒIPåœ°å€</li><li>ç™»è®°æœºæ„åœ¨com TLDæœåŠ¡å™¨ä¸­æ’å…¥ä¸¤æ¡RRè®°å½•: (networkutopia.com, dns1.networkutopia.com, NS) (dns1.networkutopia.com, 212.212.212.1, A) </li></ul></li><li>åœ¨networkutopia.comçš„æƒå¨æœåŠ¡å™¨ä¸­ç¡®ä¿æœ‰<ul><li>ç”¨äºWebæœåŠ¡å™¨çš„<a href="http://www.networkuptopia.comçš„ç±»å‹ä¸ºaçš„è®°å½•/">www.networkuptopia.comçš„ç±»å‹ä¸ºAçš„è®°å½•</a></li><li>ç”¨äºé‚®ä»¶æœåŠ¡å™¨mail.networkutopia.comçš„ç±»å‹ä¸ºMXçš„è®°å½•</li></ul></li></ul></blockquote></li></ul></li><li><p>æ”»å‡»DNSï¼ŒDNSæ€»çš„æ¥è¯´æ¯”è¾ƒå¥å£®</p><ul><li><p>DDoS æ”»å‡»</p><ul><li><p>å¯¹æ ¹æœåŠ¡å™¨è¿›è¡Œæµé‡è½°ç‚¸æ”»å‡»ï¼šå‘é€å¤§é‡ping </p><ul><li>æ²¡æœ‰æˆåŠŸ </li><li>åŸå› ï¼‘ï¼šæ ¹ç›®å½•æœåŠ¡å™¨é…ç½®äº†æµé‡è¿‡æ»¤å™¨ï¼Œé˜²ç«å¢™ </li><li>åŸå› ï¼’ï¼šLocal DNS æœåŠ¡å™¨ç¼“å­˜äº†TLDæœåŠ¡å™¨çš„IPåœ°å€,  å› æ­¤æ— éœ€æŸ¥è¯¢æ ¹æœåŠ¡å™¨</li></ul></li><li><p>å‘TLDæœåŠ¡å™¨æµé‡è½°ç‚¸æ”»å‡» ï¼šå‘é€å¤§é‡æŸ¥è¯¢ </p><ul><li>å¯èƒ½æ›´å±é™© </li><li>æ•ˆæœä¸€èˆ¬ï¼Œå¤§éƒ¨åˆ†DNSç¼“å­˜äº†TLD</li></ul><blockquote><p><font color="red">è¿™é‡Œä¸æ˜¯å¾ˆæ˜ç™½ï¼Œä¸ºä»€ä¹ˆç¼“å­˜äº†é¡¶çº§åŸŸåå°±ä¸ä¼šè®¿é—®æ ¹åŸŸåäº†ï¼Ÿè¿­ä»£ã€é€’å½’ä¸éƒ½æ˜¯å…ˆè®¿é—®æ ¹åŸŸåæœåŠ¡å™¨å—ï¼Ÿç„¶åæ‰çŸ¥é“è®¿é—®å“ªä¸ªé¡¶çº§åŸŸåå—ï¼Ÿæœ¬åœ°åŸŸåæœåŠ¡å™¨å¯ä»¥çŸ¥é“åº”è¯¥è®¿é—®å“ªä¸ªé¡¶çº§åŸŸåæœåŠ¡å™¨å—ï¼Ÿ</font></p><p>å…ˆè®¿é—®æ ¹åŸŸåæœåŠ¡å™¨æ˜¯ä¸ºäº†è·å¾—é¡¶çº§åŸŸåæœåŠ¡å™¨çš„IPåœ°å€ï¼Œæœ¬åœ°åŸŸåæœåŠ¡å™¨ä¸­æœ‰ç›¸åº”çš„ç¼“å­˜å³å¯¹åº”IPåœ°å€ï¼Œå°±å¯ä»¥ç›´æ¥å»è®¿é—®é¡¶çº§åŸŸåï¼Œè€Œä¸ç”¨å†å»è®¿é—®æ ¹åŸŸåæœåŠ¡å™¨ã€‚</p></blockquote></li></ul></li><li><p>é‡å®šå‘æ”»å‡»</p><ul><li>ä¸­é—´äººæ”»å‡» <ul><li>æˆªè·æŸ¥è¯¢ï¼Œä¼ªé€ å›ç­”ï¼Œä»è€Œæ”»å‡»æŸä¸ªï¼ˆDNSå›ç­”æŒ‡å®šçš„IPï¼‰ç«™ç‚¹</li></ul></li><li>DNSä¸­æ¯’<ul><li>å‘é€ä¼ªé€ çš„åº”ç­”ç»™DNSæœåŠ¡å™¨ï¼Œå¸Œæœ›å®ƒèƒ½å¤Ÿç¼“å­˜è¿™ä¸ªè™šå‡çš„ç»“æœ</li></ul></li><li>æŠ€æœ¯ä¸Šè¾ƒå›°éš¾ï¼šåˆ†å¸ƒå¼æˆªè·å’Œä¼ªé€ </li></ul></li><li><p>åˆ©ç”¨DNSåŸºç¡€è®¾æ–½è¿›è¡ŒDDoS</p><ul><li>ä¼ªé€ æŸä¸ªIPè¿›è¡ŒæŸ¥è¯¢ï¼Œ æ”»å‡»è¿™ä¸ªç›®æ ‡IP</li><li>æŸ¥è¯¢æ”¾å¤§ï¼Œå“åº”æŠ¥æ–‡æ¯”æŸ¥è¯¢æŠ¥æ–‡å¤§ </li><li>æ•ˆæœæœ‰é™</li></ul></li></ul></li></ul><h4 id="4-5-P2Påº”ç”¨"><a href="#4-5-P2Påº”ç”¨" class="headerlink" title="4.5 P2Påº”ç”¨"></a>4.5 P2Påº”ç”¨</h4><ul><li><p>çº¯P2Pæ¶æ„</p><ul><li>æ²¡æœ‰ï¼ˆæˆ–æå°‘ï¼‰ä¸€ç›´è¿è¡Œçš„æœåŠ¡å™¨</li><li>ä»»æ„ç«¯ç³»ç»Ÿéƒ½å¯ä»¥ç›´æ¥é€šä¿¡</li><li>åˆ©ç”¨peerçš„æœåŠ¡èƒ½åŠ›</li><li>PeerèŠ‚ç‚¹é—´æ­‡ä¸Šç½‘ï¼Œæ¯æ¬¡IPåœ°å€éƒ½æœ‰å¯èƒ½å˜åŒ–</li><li>ä¾‹å­ï¼š<ul><li>æ–‡ä»¶åˆ†å‘ï¼ˆBitTorrentï¼‰</li><li>æµåª’ä½“ï¼ˆKanKanï¼‰</li><li>VoIPï¼ˆSkypeï¼‰</li></ul></li></ul></li><li><p>æ–‡ä»¶åˆ†å‘ï¼šC/S vs P2P</p><p>é—®é¢˜ï¼šä»ä¸€å°æœåŠ¡å™¨åˆ†å‘æ–‡ä»¶ï¼ˆå¤§å°Fï¼‰åˆ°Nä¸ªpeeréœ€è¦å¤šå°‘æ—¶é—´ï¼Ÿ</p><blockquote><p>PeerèŠ‚ç‚¹ä¸Šä¸‹è½½èƒ½åŠ›æ˜¯æœ‰é™çš„èµ„æº</p></blockquote><p><img src="/2021/04/10/jsjwl02/image-20210414082756872.png" alt="æ–‡ä»¶åˆ†å‘"></p><ul><li><p>C/Sæ¨¡å¼çš„æ–‡ä»¶åˆ†å‘æ—¶é—´</p><ul><li><p>æœåŠ¡å™¨ä¼ è¾“ï¼š éƒ½æ˜¯ç”±æœåŠ¡å™¨å‘é€ç»™peerï¼ŒæœåŠ¡å™¨å¿…é¡»é¡ºåº ä¼ è¾“ï¼ˆä¸Šè½½ï¼‰Nä¸ªæ–‡ä»¶æ‹·è´: </p><ul><li>å‘é€ä¸€ä¸ªcopy: F/u<sub>s</sub></li><li>å‘é€Nä¸ªcopyï¼š NF/u<sub>s</sub> </li></ul></li><li><p>å®¢æˆ·ç«¯: æ¯ä¸ªå®¢æˆ·ç«¯å¿…é¡»ä¸‹è½½ä¸€ä¸ªæ–‡ä»¶æ‹·è´ </p><ul><li><p>d<sub>min</sub> = å®¢æˆ·ç«¯æœ€å°çš„ä¸‹è½½é€Ÿç‡ </p></li><li><p>ä¸‹è½½å¸¦å®½æœ€å°çš„å®¢æˆ·ç«¯ä¸‹è½½çš„æ—¶é—´ï¼šF/d<sub>min</sub></p><blockquote><p>ä¸‹è½½å¸¦å®½æœ€å°çš„å®¢æˆ·ç«¯æ˜¯æ‰€æœ‰å®¢æˆ·ç«¯ä¸­ä¸‹è½½æ‰€è€—è´¹æ—¶é—´æœ€é•¿çš„</p></blockquote></li></ul><p><img src="/2021/04/10/jsjwl02/image-20210414083126229.png" alt="C/Sæ¨¡å‹æ–‡ä»¶åˆ†å‘æ—¶é—´"></p><blockquote><p>å®¢æˆ·ç«¯è¾ƒå°‘çš„æ—¶å€™ï¼Œä¸‹è½½å¸¦å®½æœ€å°çš„å®¢æˆ·ç«¯ä¸‹è½½æ—¶é—´æ˜¯ç“¶é¢ˆï¼›å®¢æˆ·ç«¯è¾ƒå¤§æ—¶ï¼ŒæœåŠ¡å™¨ä¸Šè½½èƒ½åŠ›æ˜¯ç“¶é¢ˆã€‚</p></blockquote></li></ul></li><li><p>P2Pæ¨¡å¼æ–‡ä»¶åˆ†å‘æ—¶é—´</p><ul><li><p>æœåŠ¡å™¨ä¼ è¾“ï¼šæœ€å°‘éœ€è¦ä¸Šè½½ä¸€ä»½æ‹·è´</p><ul><li>å‘é€ä¸€ä¸ªæ‹·è´çš„æ—¶é—´ï¼šF/u<sub>s</sub> </li></ul></li><li><p>å®¢æˆ·ç«¯: æ‰€æœ‰å®¢æˆ·ç«¯æœ€ç»ˆéƒ½éœ€è¦ä¸‹è½½ä¸€ä¸ªæ‹·è´ </p><ul><li>æœ€å°ä¸‹è½½å¸¦å®½å®¢æˆ·å•è€—æ—¶ï¼šF/d<sub>min</sub></li></ul></li><li><p>NFæ–‡ä»¶ä¸Šè½½æ—¶é—´ï¼šæ‰€æœ‰å®¢æˆ·ç«¯æ€»ä½“ä¸‹è½½é‡ä¸ºNFï¼Œè€ŒæœåŠ¡å™¨å’Œå…¶ä»–æ‰€æœ‰PeerèŠ‚ç‚¹çš„æ€»çš„æœ€å¤§ä¸Šè½½å¸¦å®½æ˜¯ï¼š<br>$$<br>u_s + \Sigma u_i<br>$$</p><blockquote><p>é™¤äº†æœåŠ¡å™¨å¯ä»¥ä¸Šè½½ï¼Œå…¶ä»–æ‰€æœ‰çš„peerèŠ‚ç‚¹éƒ½å¯ä»¥ä¸Šè½½</p></blockquote><p>æ‰€ä»¥NFæ–‡ä»¶ä¸Šè½½æ—¶é—´ï¼š<br>$$<br>\frac {NF}{u_s+\Sigma u_i}<br>$$</p></li></ul><p><img src="/2021/04/10/jsjwl02/image-20210414085223889.png" alt="P2Pæ–‡ä»¶åˆ†å‘"></p><blockquote><p>æ¯ä¸ªPeerèŠ‚ç‚¹çš„åŠ å…¥ï¼Œè¯·æ±‚èµ„æºçš„èŠ‚ç‚¹åœ¨å¢åŠ ï¼ŒåŒæ—¶æœåŠ¡èƒ½åŠ›ä¹Ÿåœ¨å¢åŠ </p></blockquote><p><img src="/2021/04/10/jsjwl02/image-20210414085509474.png" alt="C/S  vs  P2P"></p></li></ul></li><li><p>P2Pæ–‡ä»¶å…±äº«ä¸¤å¤§é—®é¢˜ï¼š</p><ul><li><p>å¦‚ä½•å®šä½æ‰€éœ€èµ„æº</p></li><li><p>å¦‚ä½•å¤„ç†å¯¹ç­‰æ–¹çš„åŠ å…¥ä¸ç¦»å¼€</p></li><li><p>å¯èƒ½çš„æ–¹æ¡ˆï¼šP2Pç³»ç»Ÿçš„ç®¡ç†æ¨¡å¼</p><ul><li><p>éç»“æ„åŒ–P2P</p><ul><li>PeerèŠ‚ç‚¹é‚»å±…ä¹‹é—´æœ‰åä½œå…³ç³»åˆ™æœ‰è¾¹ï¼Œç„¶åå„ä¸ªPeerå’Œä»–ä»¬çš„åä½œå…³ç³»æ„æˆäº†åº”ç”¨å±‚é€»è¾‘ä¸Šçš„ç½‘ç»œOverlayï¼ˆè¦†ç›–ç½‘ï¼‰</li></ul><p><img src="/2021/04/10/jsjwl02/image-20210414091248820.png" alt="éç»“æ„åŒ–è¦†ç›–ç½‘"></p><blockquote><p>PeerèŠ‚ç‚¹ä¹‹é—´æ„æˆçš„åä½œå…³ç³»ï¼ˆå³è¾¹ï¼‰æ˜¯éšæœºçš„</p></blockquote><ul><li><p>éç»“æ„åŒ–çš„P2På¯ä»¥åˆ†ä¸ºï¼š</p><ul><li><p>é›†ä¸­å¼ç›®å½•</p><p>å°†æ¯ä¸ªPeerèŠ‚ç‚¹æœ‰ä»€ä¹ˆèµ„æºå’ŒèŠ‚ç‚¹ä¸Šä¸‹çº¿ç­‰ä¿¡æ¯ä½œä¸ºç›®å½•å­˜å‚¨åœ¨ä¸€ä¸ªæœåŠ¡å™¨ä¸Šï¼Œç”¨æˆ·éœ€è¦ä»€ä¹ˆèµ„æºï¼Œç„¶åå‘æœåŠ¡å™¨è¯·æ±‚ï¼ŒæœåŠ¡å™¨å‘ŠçŸ¥å“ªä¸ªPeeræœ‰è¿™ä¸ªèµ„æºï¼Œç„¶åç”¨æˆ·å†ä¸è¯¥PeerèŠ‚ç‚¹å»ºç«‹è”ç³»ä¸‹è½½æ–‡ä»¶ï¼Œæ­¤æ—¶ç”¨æˆ·æ˜¯å®¢æˆ·ç«¯ï¼Œè€Œæ‹¥æœ‰èµ„æºçš„æœPeerèŠ‚ç‚¹æ˜¯æœåŠ¡å™¨ã€‚ä¸‹è½½å®Œæˆåï¼Œè¯¥ç”¨æˆ·ä¹Ÿæˆä¸ºæ‹¥æœ‰è¯¥èµ„æºçš„æœåŠ¡å™¨ã€‚</p><blockquote><p>ä¾‹ï¼šAliceåœ¨å…¶ç¬”è®°æœ¬ç”µè„‘ä¸Šè¿è¡ŒP2På®¢æˆ·ç«¯ç¨‹åºï¼Œé—´æ­‡æ€§åœ°è¿æ¥åˆ° Internetï¼Œæ¯æ¬¡ä»å…¶ ISPå¾—åˆ°æ–°çš„IPåœ°å€ï¼Œå‡è®¾Aliceè¯·æ±‚â€œåŒæˆªæ£.MP3â€ ï¼Œåº”ç”¨ç¨‹åºæ˜¾ç¤ºå…¶ä»–æœ‰â€œ åŒæˆªæ£.MP3â€ æ‹·è´çš„å¯¹ç­‰æ–¹ã€‚Aliceé€‰æ‹©å…¶ä¸­ä¸€ä¸ªå¯¹ç­‰æ–¹ï¼Œå¦‚Bobã€‚æ–‡ä»¶å°±ä¼šä»Bobâ€™s PCä¼ é€åˆ° Aliceçš„ç¬”è®°æœ¬ä¸Šï¼šHTTP ã€‚å½“Aliceä¸‹è½½åï¼Œå…¶ä»–ç”¨æˆ·ä¹Ÿå¯ä»¥ä»Aliceå¤„ä¸‹è½½â€œ åŒæˆªæ£.MP3â€ã€‚</p><p>æ­¤å¤–ï¼ŒAliceåœ¨ä¸‹è½½Bobçš„å†…å®¹æ—¶ï¼Œä»–ä¹Ÿå¯ä»¥åŒæ—¶ä½œä¸ºå…¶ä»–äººçš„æœåŠ¡å™¨ä¸Šè½½è‡ªå·±æ‹¥æœ‰çš„å…¶ä»–æ–‡ä»¶ã€‚</p></blockquote><p><img src="/2021/04/10/jsjwl02/image-20210414114834512.png" alt="é›†ä¸­å¼ç›®å½•"></p><blockquote><p>æ–‡ä»¶ä¼ è¾“æ˜¯åˆ†æ•£çš„ï¼Œä½†æ˜¯ç›®å½•å®šä½å†…å®¹æ˜¯é«˜åº¦é›†ä¸­åœ¨ç›®å½•æœåŠ¡å™¨çš„</p></blockquote><ul><li>é›†ä¸­å¼ç›®å½•ä¸­å­˜åœ¨çš„é—®é¢˜ï¼š<ul><li>å•ç‚¹æ•…éšœ</li><li>æ€§èƒ½ç“¶é¢ˆ</li><li>ä¾µçŠ¯ç‰ˆæƒ</li></ul></li></ul></li><li><p>å®Œå…¨åˆ†å¸ƒå¼</p><ul><li><p>ç›®å½•æŸ¥è¯¢ã€æ–‡ä»¶ä¼ è¾“éƒ½é‡‡ç”¨P2På½¢å¼</p></li><li><p>ä¾‹å­ï¼šGnutella</p><ul><li><p>å…¨åˆ†å¸ƒå¼ï¼Œæ²¡æœ‰ä¸­å¿ƒæœåŠ¡å™¨</p><p>å¼€æ”¾æ–‡ä»¶å…±äº«åè®®</p><p>è®¸å¤šGnutellaå®¢æˆ·ç«¯å®ç°äº†Gnutellaåè®®</p><p>â€‹    ç±»ä¼¼HTTPæœ‰è®¸å¤šçš„æµè§ˆå™¨</p></li><li><p>è¦†ç›–ç½‘ç»œï¼šå›¾ </p><p>å¦‚æœXå’ŒYä¹‹é—´æœ‰ä¸€ä¸ª TCPè¿æ¥ï¼Œåˆ™äºŒè€…ä¹‹é—´å­˜åœ¨ä¸€æ¡è¾¹</p><p>æ‰€æœ‰æ´»åŠ¨çš„å¯¹ç­‰æ–¹å’Œè¾¹å°±æ˜¯è¦†ç›–ç½‘ç»œ</p><p>è¾¹å¹¶ä¸æ˜¯ç‰©ç†é“¾è·¯ï¼Œè€Œæ˜¯ä¼ è¾“è¿æ¥</p><p>ç»™å®šä¸€ä¸ªå¯¹ç­‰æ–¹ï¼Œé€šå¸¸æ‰€è¿æ¥çš„èŠ‚ç‚¹å°‘äº10ä¸ª</p></li><li><p>åè®®</p></li></ul><p><img src="/2021/04/10/jsjwl02/image-20210414203646040.png" alt="Gnutellaåè®®"></p><blockquote><p>æŸ¥è¯¢æ–‡ä»¶æ–¹å¼ï¼šæ´ªæ³›ï¼ˆfloodingï¼‰ï¼ŒAå‘å®ƒçš„æ‰€æœ‰é‚»å±…Bã€Cã€Dè¿›è¡ŒæŸ¥è¯¢ï¼Œç„¶åBã€Cã€Dåœ¨å‘è‡ªå·±çš„æ‰€æœ‰é‚»å±…è¿›è¡ŒæŸ¥è¯¢ï¼Œä¸€ç›´å‘ä¸‹å»¶ç»­</p></blockquote><ul><li>Gnutellaçš„PeerèŠ‚ç‚¹çš„åŠ å…¥</li></ul><ol><li>æ–°åŠ å…¥çš„å¯¹ç­‰æ–¹Xçš„Gnutellaå®¢æˆ·ç«¯åº”ç”¨å¿…é¡»é¦–å…ˆæºå¸¦æŸäº›å·²ç»åœ¨è¦†ç›–ç½‘ç»œä¸­çš„å…¶ä»–å¯¹ç­‰æ–¹çš„IPåœ°å€ï¼šä½¿ç”¨å¯ç”¨å¯¹ç­‰æ–¹åˆ—è¡¨</li></ol><blockquote><p>è‡ªå·±ç»´æŒä¸€å¼ å¯¹ç­‰æ–¹åˆ—è¡¨ï¼ˆç»å¸¸å¼€æœºçš„å¯¹ç­‰æ–¹çš„IPï¼‰ è”ç³»ç»´æŒåˆ—è¡¨çš„Gnutellaç«™ç‚¹ </p></blockquote><ol start="2"><li><p>Xæ¥ç€è¯•å›¾ä¸è¯¥åˆ—è¡¨ä¸Šçš„å¯¹ç­‰æ–¹å»ºç«‹TCPè¿æ¥ï¼Œç›´åˆ°ä¸æŸä¸ªå¯¹ç­‰æ–¹Yå»ºç«‹è¿æ¥</p></li><li><p>Xå‘Yå‘é€ä¸€ä¸ªPingæŠ¥æ–‡ï¼ŒYå‘è‡ªå·±è¿æ¥çš„èŠ‚ç‚¹è½¬å‘è¯¥PingæŠ¥æ–‡</p></li><li><p>æ‰€æœ‰æ”¶åˆ°PingæŠ¥æ–‡çš„å¯¹ç­‰æ–¹ä»¥PongæŠ¥æ–‡å“åº”Xï¼Œå›å¤è‡ªå·±çš„IPåœ°å€ã€å…±äº«æ–‡ä»¶çš„æ•°é‡åŠæ€»å­—èŠ‚æ•°ç­‰ä¿¡æ¯</p></li><li><p>Xæ”¶åˆ°è®¸å¤šPongæŠ¥æ–‡ï¼Œç„¶åå®ƒèƒ½å»ºç«‹èµ·ä¸å…¶ä»–èŠ‚ç‚¹çš„TCPè¿æ¥</p></li></ol><ul><li>Gnutellaçš„PeerèŠ‚ç‚¹çš„ç¦»å¼€</li></ul><p>è¯¥èŠ‚ç‚¹å‘é‚»å±…å‘é€ç¦»å¼€çš„æŠ¥æ–‡ï¼Œç„¶åå®ƒçš„é‚»å±…ä¼šå°†è¯¥èŠ‚ç‚¹çš„ä¿¡æ¯åˆ é™¤ï¼Œç„¶åé€‰æ‹©ä¸€ä¸ªè¦†ç›–ç½‘ç»œå…¶ä»–çš„èŠ‚ç‚¹è¡¥å……ä¸ºæ–°çš„é‚»å±…ï¼Œä»è€Œç»´æŒè¦†ç›–ç½‘ç»œçš„æœåŠ¡èƒ½åŠ›</p></li></ul></li><li><p>æ··åˆå¼</p><ul><li>ä¾‹å­ï¼šKaZaA</li><li>æ¯ä¸ªå¯¹ç­‰æ–¹è¦ä¹ˆæ˜¯ä¸€ä¸ªç»„é•¿ï¼Œè¦ä¹ˆéš¶å±äºä¸€ä¸ªç»„é•¿ <ul><li>å¯¹ç­‰æ–¹ä¸å…¶ç»„é•¿ä¹‹é—´æœ‰ TCPè¿æ¥ </li><li>ç»„é•¿å¯¹ä¹‹é—´æœ‰TCPè¿æ¥</li></ul></li><li>ç»„é•¿è·Ÿè¸ªå…¶æ‰€æœ‰çš„å­©å­çš„å†…å®¹</li><li>ç»„é•¿ä¸å…¶ä»–ç»„é•¿è”ç³»<ul><li>è½¬å‘æŸ¥è¯¢åˆ°å…¶ä»–ç»„é•¿</li><li>è·å¾—å…¶ä»–ç»„çš„æ•°æ®æ‹·è´</li></ul></li></ul><p><img src="/2021/04/10/jsjwl02/image-20210414205526041.png" alt="æ··åˆå¼"></p><ul><li><p>æŸ¥è¯¢æ–¹å¼</p><ul><li>æ¯ä¸ªæ–‡ä»¶æœ‰ä¸€ä¸ªæ•£åˆ—æ ‡è¯†ç å’Œä¸€ä¸ªæè¿°ç¬¦ </li></ul><blockquote><p><img src="/2021/04/10/jsjwl02/image-20210414210256736.png" alt="ç»„é•¿è®°å½•ç»„å†…ç›®å½•"></p></blockquote><ul><li>å®¢æˆ·ç«¯å‘å…¶ç»„é•¿å‘é€å…³é”®å­—æŸ¥è¯¢</li></ul><blockquote><p>é€šè¿‡å…³é”®å­—ä¸æè¿°åŒ¹é…æŸ¥è¯¢ç›¸åº”æ–‡ä»¶</p></blockquote><ul><li><p>ç»„é•¿ç”¨åŒ¹é…è¿›è¡Œå“åº”ï¼š</p><ul><li>å¯¹æ¯ä¸ªåŒ¹é…ï¼šå…ƒæ•°æ®ã€æ•£åˆ—æ ‡è¯†ç å’ŒIPåœ°å€</li></ul></li><li><p>å¦‚æœç»„é•¿å°†æŸ¥è¯¢è½¬å‘ç»™å…¶ä»–ç»„é•¿ï¼Œå…¶ä»–ç»„é•¿ä¹Ÿä»¥åŒ¹é…è¿›è¡Œå“åº”</p></li><li><p>å®¢æˆ·ç«¯é€‰æ‹©è¦ä¸‹è½½çš„æ–‡ä»¶</p><ul><li>å‘æ‹¥æœ‰æ–‡ä»¶çš„å¯¹ç­‰æ–¹å‘é€ä¸€ä¸ªå¸¦æ•£åˆ—æ ‡è¯†ç çš„HTTPè¯·æ±‚</li></ul><blockquote><p>é€šè¿‡å”¯ä¸€çš„æ•£åˆ—æ ‡è¯†ç è¿›è¡Œç¡®å®šéœ€è¦ä¸‹è½½çš„æ–‡ä»¶</p></blockquote></li></ul></li></ul></li></ul></li></ul></li><li><p>ç»“æ„åŒ–çš„P2Pï¼ˆDHT åŸºäºåˆ†å¸ƒå¼æ•£åˆ—è¡¨çš„ç»“æ„åŒ–ç®¡ç†ï¼‰</p><blockquote><p>Overlayæ˜¯ç»“æ„åŒ–çš„ï¼Œä¾‹å¦‚ç¯ã€æ ‘ç­‰ï¼Œå¯ä»¥è¿›ä¸€æ­¥æ·±å…¥æ‹“å±•ç­‰</p></blockquote><ul><li>ä¾‹å¦‚ï¼šç¯çŠ¶ç»“æ„åŒ–P2P</li></ul><p>æ¯ä¸ªèŠ‚ç‚¹æ˜ å°„æˆå”¯ä¸€çš„16ä½çš„å“ˆå¸Œå€¼ä½œä¸ºæ ‡è¯†ï¼ŒæŒ‰ç…§å“ˆå¸Œå€¼å¤§å°æœ‰åºåœ°é¦–å°¾ç›¸æ¥æ„æˆç¯çŠ¶æœ‰åºæ‹“æ‰‘ã€‚æ–‡ä»¶åŒæ ·æ˜ å°„æˆå”¯ä¸€16ä½çš„å“ˆå¸Œå€¼ï¼Œç„¶åæŒ‰ç…§0-88æ ‡è¯†çš„æ–‡ä»¶ç”±88èŠ‚ç‚¹ç®¡ç†ã€89-100æ–‡ä»¶ç”±100èŠ‚ç‚¹ç®¡ç†ç­‰å½¢å¼æ¥æœ‰åºç®¡ç†æ–‡ä»¶ï¼ŒæŸ¥è¯¢æ—¶åªéœ€æŒ‰ç…§æ–‡ä»¶æ ‡è¯†å³å¯å®ç°å¿«é€ŸæŸ¥è¯¢ã€‚</p><p><img src="/2021/04/10/jsjwl02/image-20210414225432242.png" alt="ç¯çŠ¶ç»“æ„åŒ–P2P"></p></li></ul></li></ul></li><li><p>éç»“æ„åŒ–P2Påº”ç”¨å®ä¾‹ï¼šBitTorrent</p><ul><li>æ–‡ä»¶è¢«åˆ†ä¸ºä¸€ä¸ªä¸ªå—256KBï¼Œç„¶åæ¯ä¸ªå®¢æˆ·ç«¯æœ‰å„è‡ªçš„bitmapï¼Œbitmapç”¨æ¥æ ‡è¯†æ–‡ä»¶çš„æœ‰æ— ï¼ˆæœ‰ä¸ºâ€œ1â€ï¼Œæ— ä¸ºâ€œ0â€ï¼‰</li><li>ç½‘ç»œä¸­è¿™äº›Peerså‘é€æ¥å—æ–‡ä»¶å—ï¼Œç›¸äº’æœåŠ¡</li></ul><p><img src="/2021/04/10/jsjwl02/image-20210414210942114.png" alt="BitTorrent"></p><blockquote><p>trackerè®°å½•äº†æ´ªæµä¸­èŠ‚ç‚¹çš„IPåœ°å€ç­‰ä¿¡æ¯ã€‚æ–°çš„Peerè¿›æ¥ï¼Œéœ€è¦å‘trackerç™»è®°è‡ªå·±ä¿¡æ¯ï¼ŒåŒæ—¶è·å¾—æ´ªæµä¸­å…¶ä»–èŠ‚ç‚¹çš„IPä¿¡æ¯ã€‚</p></blockquote><ul><li><p>æ–°PeeråŠ å…¥torrentï¼š  </p><ul><li><p>æ–°Peerä¸€å¼€å§‹æ²¡æœ‰å—ï¼Œä½†æ˜¯å°†ä¼šé€šè¿‡å‘å…¶ä»–èŠ‚ç‚¹è¯·æ±‚æ¥ç´¯ç§¯æ–‡ä»¶å— </p><blockquote><p>å‰å‡ æ¬¡è¯·æ±‚æ˜¯éšæœºè¯·æ±‚ï¼Œåé¢å‡ æ¬¡ä¼˜å…ˆè¯·æ±‚ç¨€ç¼ºçš„å—ï¼Œä¸ºäº†ä¿è¯ç¨€ç¼ºçš„å—ä¸ä¼šç”±äºå…¶æ‹¥æœ‰è€…çš„ä¸‹çº¿è€Œä¸¢å¤±ï¼ŒåŒæ—¶ï¼Œç¨€ç¼ºçš„å—è¢«å…¶ä»–PeerèŠ‚ç‚¹æ‰€éœ€è¦ï¼Œé€šè¿‡æé«˜ä¸Šè½½é€Ÿç‡æ¥è·å¾—æ›´å¥½çš„ä¸‹è½½é€Ÿç‡ï¼ˆç”±ä¸‹é¢çš„tit-for-tatæœºåˆ¶å†³å®šï¼‰</p></blockquote></li><li><p>å‘è·Ÿè¸ªæœåŠ¡å™¨æ³¨å†Œï¼Œè·å¾—peerèŠ‚ç‚¹åˆ—è¡¨ï¼Œå’Œéƒ¨åˆ†peer èŠ‚ç‚¹æ„æˆé‚»å±…å…³ç³» (â€œè¿æ¥ â€) </p></li></ul></li><li><p>å½“peerä¸‹è½½æ—¶ï¼Œè¯¥peerå¯ä»¥åŒæ—¶å‘å…¶ä»–èŠ‚ç‚¹æä¾›ä¸Šè½½æœåŠ¡</p></li><li><p>æ‰°åŠ¨churn: peerèŠ‚ç‚¹å¯èƒ½ä¼šä¸Šçº¿æˆ–è€…ä¸‹çº¿ï¼Œä½†æ˜¯æ•´ä½“æ¥è¯´ç»´æŒç€æ–‡ä»¶å†…å®¹çš„å……åˆ†æ€§ï¼ŒP2PæœåŠ¡èƒ½åŠ›ç¨³å®š</p></li><li><p>ä¸€æ—¦ä¸€ä¸ªpeeræ‹¥æœ‰æ•´ä¸ªæ–‡ä»¶ï¼Œå®ƒä¼šï¼ˆè‡ªç§çš„ï¼‰ç¦»å¼€æˆ–è€…ä¿ç•™ï¼ˆåˆ©ä»–ä¸»ä¹‰ï¼‰åœ¨torrentä¸­</p></li><li><p>è¯·æ±‚å—ï¼š </p><ul><li>åœ¨ä»»ä½•ç»™å®šæ—¶é—´ï¼Œä¸åŒ peerèŠ‚ç‚¹æ‹¥æœ‰ä¸€ä¸ªæ–‡ä»¶å—çš„å­é›†</li><li>å‘¨æœŸæ€§çš„ï¼Œå„ä¸ªPeerèŠ‚ç‚¹å‘é‚»å±…è¯¢é—®ä»–ä»¬æ‹¥æœ‰å“ªäº›å—çš„ä¿¡æ¯ ï¼Œå³äº¤æ¢bitmapï¼Œç„¶åå„ä¸ªPeerå‘é‚»å±…è¯·æ±‚å®ƒå¸Œæœ›çš„å—ï¼Œç¨€ç¼ºçš„å—</li></ul></li><li><p>å‘é€å—ï¼šä¸€æŠ¥è¿˜ä¸€æŠ¥ tit-for-tat</p><ul><li><p>æ¯ä¸ªèŠ‚ç‚¹åŒæ—¶åªèƒ½å‘4ä¸ªpeerå‘é€å—æä¾›æœåŠ¡ï¼Œæ¥ä¿è¯æä¾›çš„å¸¦å®½è¾ƒå¤§ï¼Œè€Œå…¶ä»–peerå°†è¢«è¯¥èŠ‚ç‚¹é˜»å¡ (å°†ä¸ä¼šä»Aliceå¤„è·å¾—æœåŠ¡)</p><ul><li><p>æ‰€ä»¥èŠ‚ç‚¹ä¼šé€‰æ‹©ç»™è‡ªå·±æä¾›å¸¦å®½è¾ƒå¤§çš„ã€æœåŠ¡è¾ƒå¤šçš„4ä¸ªPeeré‚»å±…ä½œä¸ºè‡ªå·±æœåŠ¡å¯¹è±¡ï¼Œå¹¶ä¸”æ¯10ç§’é‡æ–°è¯„ä¼°ä¸€æ¬¡å‰4ä½æ¥ä¼˜å…ˆæœåŠ¡</p><blockquote><p>è¿™ç§æœºåˆ¶æœ‰åˆ©äºæ¿€åŠ±å…¶ä»–èŠ‚ç‚¹æé«˜è‡ªå·±çš„ä¸Šè½½é€Ÿç‡ï¼Œä»è€Œæé«˜æ•´ä¸ªæ´ªæµçš„æœåŠ¡èƒ½åŠ›</p></blockquote></li><li><p>åŒæ—¶æ¯éš”30ç§’ï¼šå°†éšæœºé€‰æ‹©å…¶ä»–peerèŠ‚ç‚¹ï¼Œå‘è¿™ä¸ªèŠ‚ç‚¹å‘é€å—ï¼Œæ¥ â€œä¼˜åŒ–ç–é€šâ€ è¿™ä¸ªèŠ‚ç‚¹ã€‚</p><blockquote><p>åŸå› æ˜¯æ–°é€‰æ‹©çš„èŠ‚ç‚¹æ‰€åŒ…å«çš„èµ„æºæœ‰å¯èƒ½æ˜¯è‡ªå·±éœ€è¦çš„ï¼Œå°è¯•æé«˜ç»™ä»–çš„æœåŠ¡ï¼Œæœ‰å¯èƒ½æœ‰åˆ©äºä¹‹åè‡ªå·±æ”¶åˆ°å®ƒçš„æœåŠ¡è´¨é‡çš„æé«˜</p></blockquote></li></ul></li></ul></li></ul></li></ul><h4 id="4-6-CDN"><a href="#4-6-CDN" class="headerlink" title="4.6 CDN"></a>4.6 CDN</h4><ul><li><p>è§†é¢‘æµé‡ï¼šå æ®ç€äº’è”ç½‘å¤§éƒ¨åˆ†çš„å¸¦å®½ã€‚</p><p>Netflixï¼ŒYoulube:å æ®37%ï¼Œ16%çš„ISPä¸‹è¡Œæµé‡<br><del>1B YouTubeç”¨æˆ·ï¼Œ</del>75M Netflixç”¨æˆ·</p><p>æŒ‘æˆ˜:è§„æ¨¡æ€§-å¦‚ä½•æœåŠ¡è€…~1B ç”¨æˆ·ï¼Ÿ</p><p>â€‹    å•ä¸ªè¶…çº§æœåŠ¡å™¨æ— æ³•æä¾›æœåŠ¡</p><p>æŒ‘æˆ˜:å¼‚æ„æ€§</p><pre><code>ä¸åŒç”¨æˆ·æ‹¥æœ‰ä¸åŒçš„èƒ½åŠ›ï¼ˆä¾‹å¦‚:æœ‰çº¿æ¥å…¥å’Œç§»åŠ¨ç”¨æˆ·ï¼›å¸¦å®½ä¸°å¯Œå’Œå—é™ç”¨æˆ·)</code></pre><p>è§£å†³æ–¹æ¡ˆ:åˆ†å¸ƒå¼çš„ï¼Œåº”ç”¨å±‚é¢çš„åŸºç¡€è®¾æ–½</p></li><li><p>å¤šåª’ä½“ï¼šè§†é¢‘</p><ul><li><p>è§†é¢‘ï¼šå›ºå®šé€Ÿåº¦æ˜¾ç¤ºçš„å›¾åƒåºåˆ—ï¼Œe.g. 24 images/sec</p></li><li><p>ç½‘ç»œè§†é¢‘ç‰¹ç‚¹ï¼š</p><ul><li>é«˜ç ç‡ï¼š&gt;10xäºéŸ³é¢‘ï¼Œé«˜çš„ç½‘ç»œå¸¦å®½éœ€æ±‚</li><li>å¯ä»¥è¢«å‹ç¼©</li><li>90%ä»¥ä¸Šçš„ç½‘ç»œæµé‡æ˜¯è§†é¢‘ </li></ul></li><li><p>æ•°å­—åŒ–å›¾åƒï¼šåƒç´ çš„é˜µåˆ—</p></li><li><p>æ¯ä¸ªåƒç´ è¢«è‹¥å¹²bitsè¡¨ç¤º</p></li><li><p>ç¼–ç ï¼šä½¿ç”¨å›¾åƒå†…å’Œå›¾åƒé—´çš„å†—ä½™æ¥é™ä½ç¼–ç çš„æ¯”ç‰¹æ•° </p><ul><li>ç©ºé—´å†—ä½™ï¼ˆå›¾åƒå†…ï¼‰ </li><li>æ—¶é—´å†—ä½™ï¼ˆç›¸é‚»çš„å›¾åƒé—´ï¼‰</li></ul><p><img src="/2021/04/10/jsjwl02/image-20210415125750098.png" alt="ç¼–ç æ–¹å¼ç¤ºä¾‹"></p><ul><li><p>ç¼–ç æ ‡å‡†ï¼š</p><p>CBR: (constant bit  rate): ä»¥å›ºå®šé€Ÿç‡ç¼–ç  </p><p>VBR: (variable bit  rate): è§†é¢‘ç¼–ç é€Ÿç‡éšæ—¶é—´çš„å˜åŒ–è€Œå˜åŒ–</p></li></ul></li></ul></li><li><p>å­˜å‚¨è§†é¢‘çš„æµåŒ–æœåŠ¡</p><p>å¯¹äºè§†é¢‘æ–‡ä»¶ï¼Œå¹¶ä¸æ˜¯å°†æ–‡ä»¶å…¨éƒ¨ä¸‹è½½å®Œæˆä»¥åæ‰è¿›è¡Œæ’­æ”¾ï¼Œè€Œæ˜¯è¾¹ä¸‹è½½è¾¹æ’­æ”¾</p></li></ul><p><img src="/2021/04/10/jsjwl02/image-20210415125951929.png" alt="åœºæ™¯ç¤ºä¾‹"></p><ul><li><p>å¤šåª’ä½“æµåŒ–æœåŠ¡ç¤ºä¾‹ï¼šDASH</p><ul><li>DASH: Dynamic, Adaptive Streaming over HTTP</li></ul><blockquote><p>é€šè¿‡HTTPåè®®ä¼ é€æ•°æ®</p></blockquote><ul><li><p>å¯ä»¥è§£å†³ä¸åŒå®¢æˆ·ç«¯ã€ä¸åŒç½‘ç»œæƒ…å†µã€ä¸åŒéœ€æ±‚çš„é—®é¢˜</p></li><li><p>æœåŠ¡å™¨: </p><ul><li>å°†è§†é¢‘æ–‡ä»¶åˆ†å‰²æˆå¤šä¸ªå—</li><li>æ¯ä¸ªå—ç‹¬ç«‹å­˜å‚¨ï¼Œç¼–ç äºä¸åŒç ç‡ï¼ˆ8-10ç§ï¼‰</li></ul><blockquote><p>å¯¹äºæ¯ä¸€ä¸ªå—éƒ½å¯ä»¥æœ‰ä¸åŒç‰ˆæœ¬ï¼Œå¯ä»¥æ˜¯ä¸åŒæ¸…æ™°åº¦çš„ã€ä¸åŒç¼–ç æ–¹å¼çš„ã€ä¸åŒç ç‡çš„</p></blockquote><ul><li>å‘Šç¤ºæ–‡ä»¶ï¼ˆmanifest fileï¼‰: æä¾›ä¸åŒå—çš„URL </li></ul><blockquote><p>å‘Šç¤ºæ–‡ä»¶æä¾›å—çš„æ•°é‡ã€æ ¼å¼ã€ç‰ˆæœ¬ä»¥åŠç›¸åº”çš„URLç­‰ä¿¡æ¯</p></blockquote></li><li><p>å®¢æˆ·ç«¯: </p><ul><li><p>å…ˆè·å–å‘Šç¤ºæ–‡ä»¶</p><blockquote><p>å®¢æˆ·ç«¯ä¼šå‘¨æœŸæ€§åœ°æµ‹é‡æœåŠ¡å™¨åˆ°å®¢æˆ·ç«¯çš„å¸¦å®½</p></blockquote></li><li><p>æŸ¥è¯¢å‘Šç¤ºæ–‡ä»¶ï¼Œåœ¨ä¸€ä¸ªæ—¶åˆ»è¯·æ±‚ä¸€ä¸ªå—ï¼ŒHTTPå¤´éƒ¨æŒ‡å®šå­—èŠ‚èŒƒå›´</p><ul><li>ä¼šæ ¹æ®å¸¦å®½ã€å®¢æˆ·ç«¯éœ€æ±‚ç­‰ä¿¡æ¯é€‰æ‹©ä¸‹è½½å—çš„ä»€ä¹ˆç‰ˆæœ¬ç­‰ï¼Œä½¿å¾—æ’­æ”¾æµç•…è´¨é‡ç›¸å¯¹é«˜</li><li>å¦‚æœå¸¦å®½è¶³å¤Ÿï¼Œé€‰æ‹©æœ€å¤§ç ç‡çš„è§†é¢‘å—</li><li>ä¼šè¯ä¸­çš„ä¸åŒæ—¶åˆ»ï¼Œå¯ä»¥åˆ‡æ¢è¯·æ±‚ä¸åŒçš„ç¼–ç å—ï¼ˆå–å†³äºå½“æ—¶çš„å¯ç”¨å¸¦å®½ç­‰ï¼‰</li></ul></li></ul></li><li><p>â€œæ™ºèƒ½â€å®¢æˆ·ç«¯ï¼šå®¢æˆ·ç«¯è‡ªé€‚åº”å†³å®š</p><ul><li>ä»€ä¹ˆæ—¶å€™å»è¯·æ±‚å— (ä¸è‡³äºç¼“å­˜æŒ¨é¥¿ï¼Œæˆ–è€…æº¢å‡º)</li><li>è¯·æ±‚ä»€ä¹ˆç¼–ç é€Ÿç‡çš„è§†é¢‘å— (å½“å¸¦å®½å¤Ÿç”¨æ—¶ï¼Œè¯·æ±‚é«˜è´¨é‡çš„è§†é¢‘å—) </li><li>å“ªé‡Œå»è¯·æ±‚å— (å¯ä»¥å‘ç¦»è‡ªå·±è¿‘çš„æœåŠ¡å™¨å‘é€URLï¼Œæˆ–è€…å‘é«˜å¯ç”¨å¸¦å®½çš„æœåŠ¡å™¨è¯·æ±‚) </li></ul></li></ul></li><li><p>æŒ‘æˆ˜ï¼šæœåŠ¡å™¨å¦‚ä½•é€šè¿‡ç½‘ç»œå‘ä¸Šç™¾ä¸‡ç”¨æˆ·åŒæ—¶æµåŒ–è§†é¢‘å†…å®¹ (ä¸Šç™¾ä¸‡è§†é¢‘å†…å®¹)ï¼Ÿ</p><ul><li><p>é€‰æ‹©1ï¼šå•ä¸ªçš„ã€å¤§çš„è¶…çº§æœåŠ¡ä¸­å¿ƒâ€œmega-serverâ€ </p><ul><li>æœåŠ¡å™¨åˆ°å®¢æˆ·ç«¯è·¯å¾„ä¸Šè·³æ•°è¾ƒå¤šï¼Œç“¶é¢ˆé“¾è·¯çš„å¸¦å®½å°å¯¼è‡´åœé¡¿ </li><li>â€œäºŒå…«è§„å¾‹â€å†³å®šäº†ç½‘ç»œåŒæ—¶å……æ–¥ç€åŒä¸€ä¸ªè§†é¢‘çš„å¤šä¸ªæ‹·è´ï¼Œæ•ˆç‡ä½ï¼ˆä»˜è´¹é«˜ã€å¸¦å®½æµªè´¹ã€æ•ˆæœå·®ï¼‰ </li><li>å•ç‚¹æ•…éšœç‚¹ï¼Œæ€§èƒ½ç“¶é¢ˆ</li></ul><blockquote><p>ä¸€ä¸ªæœåŠ¡å™¨çš„æœåŠ¡èƒ½åŠ›æœ‰é™</p></blockquote><ul><li>å‘¨è¾¹ç½‘ç»œçš„æ‹¥å¡</li></ul><blockquote><p>å¯¹äºç½‘ç»œæ‹¥å¡é—®é¢˜ï¼ŒæœåŠ¡å™¨éš¾ä»¥è§£å†³</p></blockquote><ul><li>è¯„ä»·ï¼šç›¸å½“ç®€å•ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•ä¸å¯æ‰©å±•</li></ul></li><li><p>é€‰é¡¹2ï¼šé€šè¿‡CDNï¼ˆContent distribution networksï¼‰ï¼Œå…¨ç½‘éƒ¨ç½²ç¼“å­˜èŠ‚ç‚¹ï¼Œå­˜å‚¨æœåŠ¡å†…å®¹ï¼Œå°±è¿‘ä¸ºç”¨æˆ·æä¾›æœåŠ¡ï¼Œæé«˜ç”¨æˆ·ä½“éªŒ</p><ul><li><p>CDNéƒ¨ç½²èŠ‚ç‚¹æ–¹å¼ï¼š</p><ul><li>enter deepï¼šå°†CDNæœåŠ¡å™¨æ·±å…¥åˆ°è®¸å¤šæ¥å…¥ç½‘ï¼Œå°†ç¼“å­˜èŠ‚ç‚¹éƒ¨ç½²åˆ°local ISP<ul><li>æ›´æ¥è¿‘ç”¨æˆ·ï¼ŒæœåŠ¡è´¨é‡é«˜ï¼Œä½†æ˜¯æ•°é‡å¤šï¼Œç¦»ç”¨æˆ·è¿‘æ‰€ä»¥ç®¡ç†å›°éš¾</li><li>ä¾‹å­ï¼šAkamai, 1700ä¸ªä½ç½®</li></ul></li><li>bring homeï¼šéƒ¨ç½²åœ¨å°‘æ•°(10ä¸ªå·¦å³)å…³é”®ä½ç½®ï¼Œå¦‚å°†æœåŠ¡å™¨ç°‡å®‰è£…äºPOPé™„è¿‘ï¼ˆç¦»è‹¥å¹²1<sup>st</sup> ISP POPè¾ƒè¿‘ï¼‰<ul><li>é‡‡ç”¨ç§Ÿç”¨çº¿è·¯å°†æœåŠ¡å™¨ç°‡è¿æ¥èµ·æ¥ï¼Œéƒ¨ç½²èŠ‚ç‚¹å°‘è¿˜ä¿è¯è´¨é‡è¾ƒé«˜ï¼Œä½†æ˜¯è·³æ•°è¾ƒå¤š</li><li>ä¾‹å­ï¼šLimelight</li></ul></li></ul></li><li><p>CDNå®ç°å†…å®¹åŠ é€Ÿç¤ºä¾‹ï¼š</p><ul><li>æä¾›å†…å®¹æœåŠ¡è€…é¦–å…ˆå°†å†…å®¹çš„å¤‡ä»½é€šè¿‡ä¸“ç”¨é“¾è·¯æ‹·è´åˆ°CDNæœåŠ¡å•†éƒ¨ç½²çš„ç¼“å­˜èŠ‚ç‚¹ä¸­ï¼Œç„¶åç”¨æˆ·ç”³è¯·èµ„æºæ—¶ï¼Œå…ˆå‘å†…å®¹æä¾›è€…çš„æºæœåŠ¡å™¨è¯·æ±‚ï¼Œç„¶åæºæœåŠ¡å™¨æä¾›ç»™ä»–ä¸€ä¸ªå‘Šç¤ºæ–‡ä»¶ï¼ˆmanifest fileï¼‰ï¼Œå‘Šç¤ºæ–‡ä»¶ä¸­æœ‰ç”¨æˆ·æ‰€éœ€å†…å®¹åœ¨å„ç¼“å­˜èŠ‚ç‚¹ä¸­çš„ç‰ˆæœ¬ä¿¡æ¯ã€URLå­˜å‚¨ä½ç½®ç­‰ä¿¡æ¯ï¼Œç„¶åç”¨æˆ·å®¢æˆ·ç«¯å¯ä»¥æ ¹æ®ç½‘ç»œæƒ…å†µã€è·ç¦»ã€ç”¨æˆ·éœ€æ±‚ç­‰å°±è¿‘ä»CDNç¼“å­˜ä¸­è·å–æ–‡ä»¶å—ã€‚</li><li>ç”¨æˆ·ä»CDNä¸­è¯·æ±‚å†…å®¹<ul><li>é‡å®šå‘åˆ°æœ€è¿‘çš„æ‹·è´ï¼Œè¯·æ±‚å†…å®¹ </li><li>å¦‚æœç½‘ç»œè·¯å¾„æ‹¥å¡ï¼Œå¯èƒ½é€‰æ‹©ä¸åŒçš„æ‹·è´</li></ul></li></ul></li><li><p>CDNæ˜¯åº”ç”¨å±‚åè®®ï¼Œæ˜¯åœ¨ç½‘ç»œè¾¹ç¼˜æ¥åŠ é€Ÿç½‘ç»œè¿è¥æœåŠ¡ã€æ¥æä¾›æœåŠ¡çš„     over the top</p></li><li><p>OTT ï¼ˆover the topï¼‰é¢ä¸´çš„æŒ‘æˆ˜ï¼šåœ¨æ‹¥å¡çš„äº’è”ç½‘ä¸Šå¤åˆ¶ </p><ul><li>ä»å“ªä¸ªCDNèŠ‚ç‚¹ä¸­è·å–å†…å®¹ï¼Ÿ</li><li>ç”¨æˆ·åœ¨ç½‘ç»œæ‹¥å¡æ—¶çš„è¡Œä¸ºï¼Ÿ</li><li>åœ¨å“ªäº›CDNèŠ‚ç‚¹ä¸­å­˜å‚¨ä»€ä¹ˆå†…å®¹ï¼Ÿ</li></ul></li></ul></li></ul></li></ul><h3 id="5-Socketï¼ˆå¥—æ¥å­—ï¼‰ç¼–ç¨‹"><a href="#5-Socketï¼ˆå¥—æ¥å­—ï¼‰ç¼–ç¨‹" class="headerlink" title="5 Socketï¼ˆå¥—æ¥å­—ï¼‰ç¼–ç¨‹"></a>5 Socketï¼ˆå¥—æ¥å­—ï¼‰ç¼–ç¨‹</h3><p><img src="/2021/04/10/jsjwl02/image-20210329092824673.png" alt="ç½‘ç»œç¨‹åºè®¾è®¡æ¥å£"></p><ul><li><p>ç½‘ç»œåº”ç”¨æ˜¯åœ¨åº”ç”¨å±‚ä¸­è¿è¡Œçš„åº”ç”¨è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ã€‚åº”ç”¨è¿›ç¨‹ä½¿ç”¨<strong>ä¼ è¾“å±‚æä¾›çš„æœåŠ¡</strong>æ‰èƒ½å¤Ÿäº¤æ¢æŠ¥æ–‡ï¼Œå®ç°<strong>åº”ç”¨å±‚åè®®</strong>ï¼Œå®ç°åº”ç”¨</p></li><li><p>åº”ç”¨è¿›ç¨‹ä¸åº•å±‚åè®®ä¹‹é—´çš„æ¡¥æ¢ï¼šåº”ç”¨ç¼–ç¨‹æ¥å£API</p><p>APIå°±æ˜¯åº”ç”¨è¿›ç¨‹çš„æ§åˆ¶æƒå’Œæ“ä½œç³»ç»Ÿçš„æ§åˆ¶æƒè¿›è¡Œè½¬æ¢çš„ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨æ¥å£ã€‚åº”ç”¨è¿›ç¨‹é€šè¿‡APIå°†æ§åˆ¶æƒäº¤ç»™æ“ä½œç³»ç»Ÿï¼Œæ“ä½œç³»ç»Ÿè°ƒç”¨ç›¸åº”è¿‡ç¨‹ï¼Œç„¶åå°†ç»“æœä¼ è¾“å›åº”ç”¨è¿›ç¨‹ã€‚</p><blockquote><p>ä¼ è¾“å±‚ä»¥åŠä»¥ä¸‹çš„å››å±‚å¾€å¾€ç”±æ“ä½œç³»ç»Ÿæ§åˆ¶ã€‚</p></blockquote></li></ul><p><img src="/2021/04/10/jsjwl02/image-20210329094838806.png" alt="äº”å±‚ç»“æ„"></p><ul><li><p>å…¸å‹çš„åº”ç”¨ç¼–ç¨‹æ¥å£ï¼š</p><ul><li>Berkeley UNIXæ“ä½œç³»ç»Ÿ   å¥—æ¥å­—æ¥å£ï¼ˆsocket interfaceï¼‰ï¼Œç®€ç§°å¥—æ¥å­—ï¼ˆsocketï¼‰</li><li>Windows ä¸Š     åŸºäºsocketçš„ç¨ä¸åŒçš„APIï¼š  WINSOCK</li><li>AT&amp;Tä¸ºå…¶UNIXç³»ç»ŸVå®šä¹‰çš„ä¸€ç§APIï¼šTLIï¼ˆTransport Layer Interfaceï¼‰</li></ul></li><li><p>TCP/IP  åº”ç”¨è¿›ç¨‹ä½¿ç”¨Socket APIè®¿é—®ä¼ è¾“æœåŠ¡</p><p>åœ°ç‚¹ï¼šç•Œé¢ä¸Šçš„SAPï¼ˆsocketï¼‰æ–¹å¼ï¼š Socket API  </p><p>socket: åˆ†å¸ƒå¼åº”ç”¨è¿›ç¨‹ä¹‹é—´çš„é—¨ï¼Œä¼ è¾“å±‚åè®®æä¾›çš„ç«¯åˆ°ç«¯ æœåŠ¡æ¥å£</p></li><li><p>ä¼ è¾“å±‚æœåŠ¡çš„åè®®ï¼Œå†³å®šäº†socketä¹Ÿæ˜¯ä¸¤ç§ç±»å‹</p><ul><li>TCPï¼šå¯é çš„ã€å­—èŠ‚æµçš„æœåŠ¡</li></ul><blockquote><p>å­—èŠ‚æµä¸æä¾›æŠ¥æ–‡çš„è¾¹ç•ŒåŒºåˆ†</p></blockquote><ul><li>UDPï¼šä¸å¯é çš„ï¼ˆæ•°æ®UDPæ•°æ®æŠ¥ï¼‰æœåŠ¡</li></ul></li><li><p>å¥—æ¥å­—ï¼šåº”ç”¨è¿›ç¨‹ä¸ç«¯åˆ°ç«¯ä¼ è¾“åè®®ï¼ˆTCPæˆ–UDPï¼‰ä¹‹é—´çš„é—¨æˆ·</p></li></ul><h4 id="5-1-TCP-Socket"><a href="#5-1-TCP-Socket" class="headerlink" title="5.1 TCP Socket"></a>5.1 TCP Socket</h4><ul><li><p>TCPå¥—æ¥å­—ç¼–ç¨‹</p><ul><li><p>æœåŠ¡å™¨é¦–å…ˆè¿è¡Œï¼Œç­‰å¾…è¿æ¥å»ºç«‹ </p></li><li><p>æœåŠ¡å™¨è¿›ç¨‹å¿…é¡»å…ˆå¤„äºè¿è¡ŒçŠ¶æ€ï¼š</p><ul><li>åˆ›å»ºæ¬¢è¿socketå’Œå¯¹åº”çš„ä¸€ä¸ªå¥—æ¥å­—æ•´æ•°</li><li>å’Œæœ¬åœ°ç«¯å£æ†ç»‘</li><li>åœ¨æ¬¢è¿socketä¸Šé˜»å¡å¼ç­‰å¾…æ¥æ”¶ç”¨æˆ·çš„è¿æ¥</li></ul><blockquote><p>é˜»å¡å¼ï¼Œå³æ²¡æœ‰ç”¨æˆ·è¿æ¥ï¼Œåˆ™ç¨‹åºåœæ­¢åœ¨è¯¥å‡½æ•°ï¼Œä¸å‘ä¸‹è¿›è¡Œ</p></blockquote></li><li><p>å®¢æˆ·ç«¯éœ€è¦æ—¶ï¼Œå°†ä¸»åŠ¨å’ŒæœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼š </p><ul><li>åˆ›å»ºå®¢æˆ·ç«¯æœ¬åœ°å¥—æ¥å­—ï¼ˆéšå¼æ†ç»‘åˆ°æœ¬åœ°portï¼‰</li><li>ç„¶åæŒ‡å®šæœåŠ¡å™¨è¿›ç¨‹çš„IPåœ°å€å’Œç«¯å£å·ï¼Œä¸æœåŠ¡å™¨è¿›ç¨‹è¿æ¥</li></ul><blockquote><p>å‘æœåŠ¡å™¨è¯·æ±‚è¿æ¥æ—¶ï¼ŒæœåŠ¡å™¨çš„å“åº”æœªåˆ°è¾¾æ—¶ï¼Œå®¢æˆ·ç«¯çš„socketå‡½æ•°ä¹Ÿæ˜¯é˜»å¡çŠ¶æ€</p></blockquote></li><li><p>å½“å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨æ—¶ï¼š</p><p>æœåŠ¡å™¨æ¥å—æ¥è‡ªç”¨æˆ·ç«¯çš„è¯·æ±‚ ï¼Œè§£é™¤é˜»å¡å¼ç­‰å¾…ï¼Œè¿”å›ä¸€ä¸ª æ–°çš„socketï¼ˆä¸æ¬¢è¿socketä¸ ä¸€æ ·ï¼‰ï¼Œä¸å®¢æˆ·ç«¯é€šä¿¡</p><ul><li>å…è®¸æœåŠ¡å™¨ä¸å¤šä¸ªå®¢æˆ·ç«¯é€šä¿¡</li><li>ä½¿ç”¨æºIPå’Œæºç«¯å£æ¥åŒºåˆ†ä¸åŒçš„å®¢æˆ·ç«¯</li></ul></li><li><p>è¿æ¥APIè°ƒç”¨æœ‰æ•ˆæ—¶ï¼Œå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨å»ºç«‹äº†TCPè¿æ¥</p></li></ul></li><li><p>TCP socketåº”ç”¨ç¤ºä¾‹</p><p>C/Sæ¨¡å¼çš„åº”ç”¨æ ·ä¾‹: </p><ol><li>å®¢æˆ·ç«¯ä»æ ‡å‡†è¾“å…¥è£…ç½®è¯»å–ä¸€è¡Œå­—ç¬¦ï¼Œå‘é€ç»™æœåŠ¡å™¨</li><li>æœåŠ¡å™¨ä»socketè¯»å–å­—ç¬¦</li><li>æœåŠ¡å™¨å°†å­—ç¬¦è½¬æ¢æˆå¤§å†™ ï¼Œç„¶åè¿”å›ç»™å®¢æˆ·ç«¯</li><li>å®¢æˆ·ç«¯ä»socketä¸­è¯»å–ä¸€è¡Œå­—ç¬¦ï¼Œç„¶åæ‰“å°å‡ºæ¥</li></ol><p>å®é™…ä¸Šï¼Œè¿™é‡Œæè¿°äº†C-Sä¹‹é—´äº¤äº’çš„åŠ¨ä½œæ¬¡åº</p><p><img src="/2021/04/10/jsjwl02/image-20210415191855698.png" alt="TCP socket ç¤ºä¾‹"></p><ul><li><p>socketä¸­æ¶‰åŠçš„æ•°æ®ç»“æ„ä»‹ç»</p><ol><li>æ•°æ®ç»“æ„ sockaddr_in</li></ol><p>IPåœ°å€å’Œportæ†ç»‘å…³ç³»çš„æ•°æ®ç»“æ„ï¼ˆæ ‡ç¤ºè¿›ç¨‹çš„ç«¯èŠ‚ç‚¹ï¼‰</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> &#123;</span></span><br><span class="line">  <span class="keyword">short</span> sin_family; <span class="comment">//AF_INET</span></span><br><span class="line">      <span class="comment">/*åœ°å€æ— ç®€å•æ¥è¯´å°±æ˜¯åº•å±‚æ˜¯ä½¿ç”¨çš„å“ªç§é€šä¿¡åè®®æ¥é€’äº¤æ•°æ®çš„ï¼Œå¦‚ AF_INET ç”¨çš„æ˜¯ TCP/IPv4ï¼›AF_INET6ä½¿ç”¨çš„æ˜¯ TCP/IPv6ï¼›è€Œ AF_LOCAL æˆ–è€… AF_UNIX åˆ™æŒ‡çš„æ˜¯æœ¬åœ°é€šä¿¡ï¼ˆå³æœ¬æ¬¡é€šä¿¡æ˜¯åœ¨å½“å‰ä¸»æœºä¸Šçš„è¿›ç¨‹é—´çš„é€šä¿¡ï¼‰ï¼Œä¸€èˆ¬ç”¨ç»å¯¹è·¯å¾„çš„å½¢å¼æ¥æŒ‡æ˜*/</span></span><br><span class="line">  u_short sin_port; <span class="comment">//port  ç«¯å£å·</span></span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">in_addr</span> <span class="title">sin_addr</span> ;</span><span class="comment">/*IP address, unsigned long*/</span></span><br><span class="line">  <span class="keyword">char</span> sin_zero[<span class="number">8</span>];  <span class="comment">//align  </span></span><br><span class="line">      <span class="comment">/*èµ·å¯¹é½ä½œç”¨ï¼Œä¸ºäº†è®©å…¶ä»–æ ¼å¼çš„ä¸åŒé•¿åº¦IPåœ°å€å’ŒTCP/IPæ ¼å¼ä¸­çš„IPåœ°å€å¯¹é½*/</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ol start="2"><li>æ•°æ®ç»“æ„ hostent</li></ol><p>åŸŸåå’ŒIPåœ°å€çš„æ•°æ®ç»“æ„</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">hostent</span>&#123;</span></span><br><span class="line"><span class="keyword">char</span> *h_name;<span class="comment">//ä¸»æœºåŸŸå</span></span><br><span class="line">    <span class="keyword">char</span> **h_aliases;<span class="comment">//ä¸»æœºçš„ä¸€ç³»åˆ—åˆ«å</span></span><br><span class="line">    <span class="keyword">int</span> h_addrtype;</span><br><span class="line"><span class="keyword">int</span> h_length;<span class="comment">/*åœ°å€çš„é•¿åº¦*/</span></span><br><span class="line">    <span class="keyword">char</span> **h_addr_list; <span class="comment">//å­˜å‚¨ä¸€ç³»åˆ—IPåœ°å€</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> h_addr h_addr_list[0];</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä½œä¸ºè°ƒç”¨åŸŸåè§£æå‡½æ•°æ—¶çš„å‚æ•°è¿”å›åï¼Œå°†IPåœ°å€æ‹·è´åˆ° sockaddr_inçš„IPåœ°å€éƒ¨åˆ†</p></li><li><p>C/S socket äº¤äº’ï¼šTCP </p><p><img src="/2021/04/10/jsjwl02/TCPsocket.png" alt="TCPsocketäº¤äº’è¿‡ç¨‹"></p></li></ul><blockquote><p>é»‘è‰²ç®­å¤´æ˜¯TCPçš„å»ºç«‹è¿æ¥è¿‡ç¨‹ï¼Œçº¢è‰²ç®­å¤´æ˜¯TCP Socketä¼ è¾“æ•°æ®</p></blockquote></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* client.c */</span> </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span> <span class="comment">//argv[]</span></span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">sad</span>;</span> <span class="comment">/* structure to hold an IP address of server   æœåŠ¡å™¨çš„ä¿¡æ¯sockaddr_inç»“æ„*/</span> </span><br><span class="line"><span class="keyword">int</span> clientSocket; <span class="comment">/* socket descriptor å®¢æˆ·ç«¯socketæ•´æ•°*/</span> </span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">hostent</span> *<span class="title">ptrh</span>;</span> <span class="comment">/* pointer to a host table entry æŒ‡é’ˆæŒ‡å‘hostentçš„ç»“æ„ä½“*/</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">char</span> Sentence[<span class="number">128</span>];  </span><br><span class="line">    <span class="keyword">char</span> modifiedSentence[<span class="number">128</span>];  </span><br><span class="line">    <span class="comment">//argv[0]å­˜åº”ç”¨ç¨‹åºæœ¬èº«åå­—</span></span><br><span class="line">    host = argv[<span class="number">1</span>]; <span class="comment">//argv[1]å­˜æœåŠ¡å™¨åŸŸå å­—ç¬¦ä¸²</span></span><br><span class="line">    port = atoi(argv[<span class="number">2</span>]); <span class="comment">//argv[2]å­˜æœåŠ¡å™¨ç«¯å£å· å­—ç¬¦ä¸²   //atoi()  å­—ç¬¦ä¸²è½¬ä¸ºæ•´å½¢</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//Create client socket, connect to server</span></span><br><span class="line">    clientSocket = socket(PF_INET, SOCK_STREAM, <span class="number">0</span>);  <span class="comment">//å»ºç«‹TCP socket</span></span><br><span class="line">    <span class="built_in">memset</span>((<span class="keyword">char</span> *)&amp;sad,<span class="number">0</span>,<span class="keyword">sizeof</span>(sad)); <span class="comment">/* clear sockaddr structure æ¸…é›¶sad*/</span>  </span><br><span class="line">    sad.sin_family = AF_INET; <span class="comment">/* set family to Internet åœ°å€æ—*/</span>  </span><br><span class="line">    sad.sin_port = htons((u_short)port); <span class="comment">//(u_short)  portå…ˆè½¬ä¸ºæ— ç¬¦å·çŸ­æ•´å‹   ç„¶åhtonså†å˜æˆç½‘ç»œæ¬¡åºï¼ˆå¤§ç«¯/å°ç«¯ï¼‰</span></span><br><span class="line">    ptrh = gethostbyname(host);  <span class="comment">/* Convert host name to IP address ç”±åŸŸåå¾—åˆ°æœ‰æ•ˆIPåœ°å€*/</span> </span><br><span class="line">    <span class="built_in">memcpy</span>(&amp;sad.sin_addr, ptrh-&gt;h_addr, ptrh-&gt;h_length);  <span class="comment">//å°†IPåœ°å€æ‹·è´åˆ°sad.sin_addr </span></span><br><span class="line">    connect(clientSocket,(struct sockaddr*)&amp;sad,<span class="keyword">sizeof</span>(sad));<span class="comment">//å°†å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥</span></span><br><span class="line">    </span><br><span class="line">    gets(Sentence);<span class="comment">//Get input stream from user æ ‡å‡†inputè·å¾—ç”¨æˆ·è¾“å…¥</span></span><br><span class="line">    n=write(clientSocket, Sentence,<span class="built_in">strlen</span>(Sentence)+<span class="number">1</span>); <span class="comment">//Send line to server</span></span><br><span class="line">n=read(clientSocket, modifiedSentence, <span class="keyword">sizeof</span>(modifiedSentence)); <span class="comment">//Read line from server</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;FROM SERVER: %s\nâ€,modifiedSentence);</span></span><br><span class="line"><span class="string">       </span></span><br><span class="line"><span class="string">close(clientSocket); //Close connection</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* server.c */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">sad</span>;</span> <span class="comment">/* structure to hold an IP address of serveræœåŠ¡å™¨æœ¬åœ°çš„sockaddr_in*/</span> </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">cad</span>;</span> <span class="comment">/*clientçš„sockaddr_in */</span></span><br><span class="line"><span class="keyword">int</span> welcomeSocket, connectionSocket; <span class="comment">/* socket descriptor å¥—æ¥å­—*/</span> </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">hostent</span> *<span class="title">ptrh</span>;</span> <span class="comment">/* pointer to a host table entry */</span> </span><br><span class="line">    </span><br><span class="line"><span class="keyword">char</span> clientSentence[<span class="number">128</span>]; </span><br><span class="line"><span class="keyword">char</span> capitalizedSentence[<span class="number">128</span>]; </span><br><span class="line">    </span><br><span class="line">port = atoi(argv[<span class="number">1</span>]);</span><br><span class="line">    <span class="comment">//Create welcoming socket at port &amp; Bind a local address</span></span><br><span class="line">welcomeSocket = socket(PF_INET, SOCK_STREAM, <span class="number">0</span>); </span><br><span class="line"><span class="built_in">memset</span>((<span class="keyword">char</span> *)&amp;sad,<span class="number">0</span>,<span class="keyword">sizeof</span>(sad)); <span class="comment">/* clear sockaddr structure */</span> </span><br><span class="line">sad.sin_family = AF_INET; <span class="comment">/* set family to Internet */</span> </span><br><span class="line">sad.sin_addr.s_addr = INADDR_ANY; <span class="comment">/* set the local IP address */</span> </span><br><span class="line">sad.sin_port = htons((u_short)port);<span class="comment">/* set the port number */</span> </span><br><span class="line">bind(welcomeSocket, (struct sockaddr *)&amp;sad, <span class="keyword">sizeof</span>(sad));<span class="comment">//å’Œè‡ªå·±çš„IPã€ç«¯å£ç»‘å®š</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">/* Specify the maximum number of clients that can be queued å¯ä»¥å¹¶è¡Œ10ä¸ªè¿›ç¨‹ï¼Œè¶…è¿‡å°†ä¼šæ‹’ç»å…¶ä»–è¿æ¥*/</span></span><br><span class="line">listen(welcomeSocket, <span class="number">10</span>)</span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>) &#123; </span><br><span class="line">connectionSocket=accept(welcomeSocket, (struct sockaddr *)&amp;cad, &amp;alen);<span class="comment">//Wait, on welcoming socket for contact by a client</span></span><br><span class="line">n=read(connectionSocket, clientSentence, <span class="keyword">sizeof</span>(clientSentence));</span><br><span class="line"><span class="comment">/* capitalize Sentence and store the result in capitalizedSentence*/</span> </span><br><span class="line">    n=write(connectionSocket, capitalizedSentence, <span class="built_in">strlen</span>(capitalizedSentence)+<span class="number">1</span>); <span class="comment">//Write out the result to socket</span></span><br><span class="line">close(connectionSocket); <span class="comment">//End of while loop,loop back and wait for another client connection</span></span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-2-UDP-Socket"><a href="#5-2-UDP-Socket" class="headerlink" title="5.2 UDP Socket"></a>5.2 UDP Socket</h4><ul><li>UDPï¼šåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´æ²¡æœ‰è¿æ¥ <ul><li>æ²¡æœ‰æ¡æ‰‹</li><li>å‘é€ç«¯å¿…é¡»åœ¨æ¯ä¸€ä¸ªæŠ¥æ–‡ä¸­æ˜ç¡®åœ°æŒ‡å®šç›®æ ‡çš„IPåœ°å€å’Œç«¯å£å·</li><li>æœåŠ¡å™¨å¿…é¡»ä»æ”¶åˆ°çš„åˆ†ç»„ä¸­æå–å‡ºå‘é€ç«¯çš„IPåœ°å€å’Œç«¯å£å· </li></ul></li><li>UDPï¼šä¼ é€çš„æ•°æ®å¯èƒ½ä¹±åºï¼Œä¹Ÿå¯èƒ½ä¸¢å¤±ã€‚UDPä¸ºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æä¾›ä¸å¯é çš„å­—èŠ‚ç»„çš„ä¼ é€æœåŠ¡ã€‚</li><li>UDPäº¤äº’è¿‡ç¨‹ï¼š</li></ul><p><img src="/2021/04/10/jsjwl02/image-20210415232630215.png" alt="UDP socket äº¤äº’"></p><blockquote><p>UDPçš„socketåŒ…æ‹¬socketå¥—æ¥å­—æ•´æ•°å€¼ã€è‡ªå·±çš„IPã€è‡ªå·±çš„ç«¯å£å·ï¼Œè€Œæ— å¯¹æ–¹çš„IPå’Œç«¯å£å·</p></blockquote><blockquote><p><font color="red">ç–‘é—®ï¼šæ˜¯ä¸æ˜¯UDPä¸èƒ½å¹¶è¡Œï¼Ÿåªæœ‰ä¸€ä¸ªSocket</font></p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* client.c */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">sad</span>;</span> <span class="comment">/* structure to hold an IP address */</span> </span><br><span class="line"><span class="keyword">int</span> clientSocket; <span class="comment">/* socket descriptor */</span> </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">hostent</span> *<span class="title">ptrh</span>;</span> <span class="comment">/* pointer to a host table entry */</span> </span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> Sentence[<span class="number">128</span>]; </span><br><span class="line"><span class="keyword">char</span> modifiedSentence[<span class="number">128</span>]; </span><br><span class="line"></span><br><span class="line">    host = argv[<span class="number">1</span>]; port = atoi(argv[<span class="number">2</span>]);</span><br><span class="line"></span><br><span class="line">    clientSocket = socket(PF_INET, SOCK_DGRAM, <span class="number">0</span>);<span class="comment">//åˆ›å»ºå®¢æˆ·ç«¯ socket</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* determine the server&#x27;s address */</span></span><br><span class="line"><span class="built_in">memset</span>((<span class="keyword">char</span> *)&amp;sad,<span class="number">0</span>,<span class="keyword">sizeof</span>(sad)); <span class="comment">/* clear sockaddr structure */</span> </span><br><span class="line">sad.sin_family = AF_INET; <span class="comment">/* set family to Internet */</span> </span><br><span class="line">sad.sin_port = htons((u_short)port); </span><br><span class="line">ptrh = gethostbyname(host);</span><br><span class="line"><span class="comment">/* Convert host name to IP address */</span></span><br><span class="line"><span class="built_in">memcpy</span>(&amp;sad.sin_addr, ptrh-&gt;h_addr, ptrh-&gt;h_length); </span><br><span class="line">    <span class="comment">//æ— connect  å®¢æˆ·ç«¯socketæ²¡æœ‰è¿æ¥åˆ°æœåŠ¡å™¨</span></span><br><span class="line">    </span><br><span class="line">gets(Sentence);<span class="comment">//Get input stream from user</span></span><br><span class="line">addr_len =<span class="keyword">sizeof</span>(struct sockaddr); </span><br><span class="line">n=sendto(clientSocket, Sentence, <span class="built_in">strlen</span>(Sentence)+<span class="number">1</span>,(struct sockaddr *) &amp;sad, addr_len); <span class="comment">//Send line to server  è¦æŒ‡æ˜æœåŠ¡å™¨IPå’Œç«¯å£å·</span></span><br><span class="line">    </span><br><span class="line">n=recvfrom(clientSocket, modifiedSentence, <span class="keyword">sizeof</span>(modifiedSentence),(struct sockaddr *) &amp;sad, &amp;addr_len);<span class="comment">//Read line from server è¦æŒ‡æ˜æœåŠ¡å™¨IPå’Œç«¯å£å·</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;FROM SERVER: %s\nâ€,modifiedSentence); </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">close(clientSocket); //Close connection</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* server.c */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">sad</span>;</span> <span class="comment">/* structure to hold an IP address */</span> </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">cad</span>;</span></span><br><span class="line"><span class="keyword">int</span> serverSocket; <span class="comment">/* socket descriptor */</span> </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">hostent</span> *<span class="title">ptrh</span>;</span> <span class="comment">/* pointer to a host table entry */</span> </span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> clientSentence[<span class="number">128</span>]; </span><br><span class="line"><span class="keyword">char</span> capitalizedSentence[<span class="number">128</span>]; </span><br><span class="line"></span><br><span class="line">    port = atoi(argv[<span class="number">1</span>]);</span><br><span class="line">    <span class="comment">//Create welcoming socket at port &amp; Bind a local address</span></span><br><span class="line"></span><br><span class="line">    serverSocket = socket(PF_INET, SOCK_DGRAM, <span class="number">0</span>); </span><br><span class="line"><span class="built_in">memset</span>((<span class="keyword">char</span> *)&amp;sad,<span class="number">0</span>,<span class="keyword">sizeof</span>(sad)); <span class="comment">/* clear sockaddr structure */</span> </span><br><span class="line">sad.sin_family = AF_INET; <span class="comment">/* set family to Internet */</span> </span><br><span class="line">sad.sin_addr.s_addr = INADDR_ANY; <span class="comment">/* set the local IP address */</span> </span><br><span class="line">sad.sin_port = htons((u_short)port);<span class="comment">/* set the port number */</span> </span><br><span class="line">bind(serverSocket, (struct sockaddr *)&amp;sad, <span class="keyword">sizeof</span>(sad));<span class="comment">//å’Œè‡ªå·±çš„IPã€ç«¯å£ç»‘å®š</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>) &#123; </span><br><span class="line"></span><br><span class="line">        n=recvfrom(serverSocket, clientSentence, <span class="keyword">sizeof</span>(clientSentence), <span class="number">0</span> (struct sockaddr *) &amp;cad, &amp;addr_len );<span class="comment">//Receive messages from clients</span></span><br><span class="line"><span class="comment">/* capitalize Sentence and store the result in capitalizedSentence*/</span></span><br><span class="line"></span><br><span class="line">        n=sendto(serverSocket , capitalizedSentence, <span class="built_in">strlen</span>(capitalizedSentence)+<span class="number">1</span>,(struct sockaddr *) &amp;cad, &amp;addr_len); <span class="comment">//Write out the result to socket</span></span><br><span class="line">&#125; <span class="comment">//End of while loop,loop back and wait for another client connection</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-å°ç»“"><a href="#6-å°ç»“" class="headerlink" title="6 å°ç»“"></a>6 å°ç»“</h3><h4 id="6-1-ç« èŠ‚æ•´ä½“æ¡†æ¶"><a href="#6-1-ç« èŠ‚æ•´ä½“æ¡†æ¶" class="headerlink" title="6.1 ç« èŠ‚æ•´ä½“æ¡†æ¶"></a>6.1 ç« èŠ‚æ•´ä½“æ¡†æ¶</h4><ul><li>åº”ç”¨ç¨‹åºä½“ç³»ç»“æ„<ul><li>å®¢æˆ·-æœåŠ¡å™¨</li><li>P2P </li><li>æ··åˆ</li></ul></li><li>åº”ç”¨ç¨‹åºéœ€è¦çš„æœåŠ¡å“è´¨æè¿°ï¼š<ul><li>å¯é æ€§ã€å¸¦å®½ã€å»¶æ—¶ã€å®‰å…¨</li></ul></li><li>Internetä¼ è¾“å±‚æœåŠ¡æ¨¡å¼ <ul><li>å¯é çš„ã€é¢å‘è¿æ¥çš„æœåŠ¡ï¼š TCP</li><li>ä¸å¯é çš„æ•°æ®æŠ¥ï¼šUDP</li></ul></li><li>æµè¡Œçš„åº”ç”¨å±‚åè®®ï¼š<ul><li>HTTP</li><li>FTP</li><li>SMTP, POP, IMAP </li><li>DNS </li></ul></li><li>Socketç¼–ç¨‹</li></ul><h4 id="6-2-å¤ä¹ éƒ¨åˆ†åè®®å†…å®¹"><a href="#6-2-å¤ä¹ éƒ¨åˆ†åè®®å†…å®¹" class="headerlink" title="6.2 å¤ä¹ éƒ¨åˆ†åè®®å†…å®¹"></a>6.2 å¤ä¹ éƒ¨åˆ†åè®®å†…å®¹</h4><ul><li>åº”ç”¨å±‚åè®®æŠ¥æ–‡ç±»å‹ï¼šè¯·æ±‚/å“åº”æŠ¥æ–‡ï¼š<ul><li>å®¢æˆ·ç«¯è¯·æ±‚ä¿¡æ¯æˆ–æœåŠ¡</li><li>æœåŠ¡å™¨ä»¥æ•°æ®ã€çŠ¶æ€ç è¿›è¡Œå“åº” </li></ul></li><li>æŠ¥æ–‡æ ¼å¼ï¼š <ul><li>é¦–éƒ¨ï¼šå…³äºæ•°æ®ä¿¡æ¯çš„å­—æ®µ</li><li>æ•°æ®ï¼šè¢«äº¤æ¢çš„ä¿¡æ¯</li></ul></li><li>æ§åˆ¶æŠ¥æ–‡ vs. æ•°æ®æŠ¥æ–‡<ul><li>å¸¦å†…ï¼ˆæ§åˆ¶ä¸æ•°æ®æŠ¥æ–‡ä¸€èµ·ä¼ è¾“ï¼‰ã€å¸¦å¤–ï¼ˆæ§åˆ¶æŠ¥æ–‡ä¸æ•°æ®æŠ¥æ–‡ä¸åœ¨åŒä¸€ç«¯å£ä¼ è¾“ï¼‰</li></ul></li><li>é›†ä¸­å¼ vs. åˆ†æ•£å¼</li><li>æ— çŠ¶æ€ vs. ç»´æŠ¤çŠ¶æ€</li><li>å¯é çš„ vs. ä¸å¯é çš„æŠ¥æ–‡ä¼ è¾“ </li><li>åœ¨ç½‘ç»œè¾¹ç¼˜å¤„ç†å¤æ‚æ€§</li><li>ä¸€ä¸ªåè®®å®šä¹‰äº†åœ¨ä¸¤ä¸ªæˆ–å¤šä¸ªé€šä¿¡å®ä½“ä¹‹é—´äº¤æ¢æŠ¥æ–‡çš„æ ¼å¼å’Œæ¬¡åºã€ä»¥åŠå°±ä¸€æ¡æŠ¥æ–‡ä¼ è¾“å’Œæ¥æ”¶æˆ–å…¶ä»–äº‹ä»¶é‡‡å–çš„åŠ¨ä½œ</li></ul><hr><p>ç»ˆäºè‚å®Œäº†ï¼Œç„¶è€Œæˆ‘ä»¬è€å¸ˆå·²ç»è®²åˆ°äº†é“¾è·¯å±‚ï¼Œæ³ªç›®â€¦  </p><p>ä¹‹åä¼šåŠ å¿«å­¦ä¹ è¿›åº¦ /æ±—  æ±‚æ”¯æŒ</p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¡ç®—æœºç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºç½‘ç»œ-ç»ªè®º</title>
      <link href="2021/04/05/jsjwl01/"/>
      <url>2021/04/05/jsjwl01/</url>
      
        <content type="html"><![CDATA[<h2 id="è®¡ç®—æœºç½‘ç»œ-ç»ªè®º"><a href="#è®¡ç®—æœºç½‘ç»œ-ç»ªè®º" class="headerlink" title="è®¡ç®—æœºç½‘ç»œ-ç»ªè®º"></a>è®¡ç®—æœºç½‘ç»œ-ç»ªè®º</h2><blockquote><ul><li>ä¸»è¦å‚è€ƒä¹¦ç±ï¼š<ul><li>ã€Šè®¡ç®—æœºç½‘ç»œï¼šè‡ªé¡¶å‘ä¸‹æ–¹æ³•ã€‹ï¼ˆJames F.Kuroseã€Keith W.Ross)</li></ul></li><li>ä¸»è¦å‚è€ƒè§†é¢‘ï¼š<ul><li><a href="https://www.bilibili.com/video/BV1JV411t7ow?p=8">ä¸­ç§‘å¤§éƒ‘çƒ‡è€å¸ˆå…¨å¥—ã€Šè®¡ç®—æœºç½‘ç»œã€‹</a></li><li><a href="https://www.bilibili.com/video/BV1Up411Z7hC?p=1&share_medium=android&share_plat=android&share_source=COPY&share_tag=s_i&timestamp=1598544022&unique_k=eeA2CI">å“ˆå°”æ»¨å·¥ä¸šå¤§å­¦ è®¡ç®—æœºç½‘ç»œ</a></li><li><a href="https://www.bilibili.com/video/av64605483/">è®¡ç®—æœºç½‘ç»œå¾®è¯¾å ‚</a></li></ul></li><li>å…¶ä»–å‚è€ƒæ–‡çŒ®ï¼š<ul><li><a href="https://blog.csdn.net/qq_39326472/article/details/88089747?utm_source=app&app_version=4.5.4">è®¡ç®—æœºç½‘ç»œï¼ˆè‡ªé¡¶å‘ä¸‹æ–¹æ³•ï¼‰å­¦ä¹ ç¬”è®°(å¤´ç§ƒçš„å¥³ç¨‹åºå‘˜)</a></li></ul></li></ul></blockquote><span id="more"></span><h3 id="1-è®¡ç®—æœºç½‘ç»œå®šä¹‰"><a href="#1-è®¡ç®—æœºç½‘ç»œå®šä¹‰" class="headerlink" title="1. è®¡ç®—æœºç½‘ç»œå®šä¹‰"></a>1. è®¡ç®—æœºç½‘ç»œå®šä¹‰</h3><p>â€‹    è®¡ç®—æœºç½‘ç»œ=é€šä¿¡æŠ€æœ¯+è®¡ç®—æœºæŠ€æœ¯</p><p>â€‹    è®¡ç®—æœºç½‘ç»œå°±æ˜¯ä¸€ç§é€šä¿¡ç½‘ç»œã€‚</p><ul><li><p>å®šä¹‰ï¼šè®¡ç®—æœºç½‘ç»œå°±æ˜¯äº’è¿çš„ã€è‡ªæ²»çš„è®¡ç®—æœºé›†åˆã€‚</p><p> ï¶è‡ªæ²»-æ— ä¸»ä»å…³ç³» ï¶äº’è¿-äº’è”äº’é€š</p><p>è·ç¦»è¿œã€æ•°é‡å¤§å¦‚ä½•ä¿è¯äº’è¿ï¼Ÿé€šè¿‡äº¤æ¢ç½‘ç»œäº’è¿ä¸»æœº</p></li></ul><h3 id="2-Internet"><a href="#2-Internet" class="headerlink" title="2. Internet"></a>2. Internet</h3><ul><li><p>å…¨çƒæœ€å¤§çš„äº’è”ç½‘ç»œï¼šInternet<br>ISP(Internet Service Provider)ç½‘ç»œäº’è¿çš„â€œç½‘ç»œä¹‹ç½‘ç»œâ€</p></li><li><p>Internetç»„æˆï¼š<br>è®¡ç®—è®¾å¤‡é›†åˆ</p><blockquote><p>Â· ä¸»æœºï¼ˆhostsï¼‰=ç«¯ç³»ç»Ÿï¼ˆend systemsï¼‰<br>Â· è¿è¡Œå„ç§ç½‘ç»œåº”ç”¨</p></blockquote><p>é€šä¿¡é“¾è·¯</p><blockquote><p>å…‰çº¤ï¼Œé“œç¼†ï¼Œæ— çº¿ç”µï¼Œå«æ˜Ÿâ€¦â€¦</p></blockquote><p>åˆ†ç»„äº¤æ¢ï¼šè½¬å‘åˆ†ç»„ï¼ˆæ•°æ®åŒ…ï¼‰</p><blockquote><p>è·¯ç”±å™¨ï¼ˆroutersï¼‰å’Œäº¤æ¢æœºï¼ˆswitchesï¼‰</p></blockquote></li><li><p>Internetæä¾›çš„æœåŠ¡ï¼š</p><ul><li>ä¸ºç½‘ç»œåº”ç”¨æä¾›é€šä¿¡æœåŠ¡çš„é€šä¿¡åŸºç¡€è®¾æ–½</li></ul><blockquote><p>Web, VoIP, email, ç½‘ç»œæ¸¸æˆ, ç”µå­å•†åŠ¡, ç¤¾äº¤ç½‘ç»œ, â€¦</p></blockquote><ul><li>ä¸ºç½‘ç»œåº”ç”¨æä¾›åº”ç”¨ç¼–ç¨‹æ¥å£ï¼ˆAPIï¼‰</li></ul><blockquote><p>Â· æ”¯æŒåº”ç”¨ç¨‹åºâ€œè¿æ¥â€ Internetï¼Œå‘é€/æ¥æ”¶æ•°æ®<br>Â· æä¾›ç±»ä¼¼äºé‚®æ”¿ç³»ç»Ÿçš„æ•°æ®ä¼ è¾“æœåŠ¡</p></blockquote></li></ul><h3 id="3-ç½‘ç»œåè®®"><a href="#3-ç½‘ç»œåè®®" class="headerlink" title="3. ç½‘ç»œåè®®"></a>3. ç½‘ç»œåè®®</h3><ul><li><p>åè®®æ˜¯è®¡ç®—æœºç½‘ç»œæœ‰åºè¿è¡Œçš„é‡è¦ä¿è¯<br>ç¡¬ä»¶ï¼ˆä¸»æœºã€è·¯ç”±å™¨ã€é€šä¿¡é“¾ è·¯ç­‰ï¼‰æ˜¯è®¡ç®—æœºç½‘ç»œçš„åŸºç¡€<br>è®¡ç®—æœºç½‘ç»œä¸­çš„æ•°æ®äº¤æ¢å¿…é¡»éµå®ˆäº‹å…ˆçº¦å®šå¥½çš„è§„åˆ™</p></li><li><p>ç½‘ç»œé€šä¿¡ï¼š<br>é€šä¿¡ä¸»ä½“æ˜¯â€œæœºå™¨â€<br>äº¤æ¢â€œç”µå­åŒ–â€æˆ– â€œæ•°å­—åŒ–â€æ¶ˆæ¯<br>è®¡ç®—æœºç½‘ç»œçš„æ‰€æœ‰é€šä¿¡è¿‡ç¨‹éƒ½å¿…é¡»éµå®ˆæŸç§/äº›è§„åˆ™â€”åè®®</p></li><li><p>ç½‘ç»œåè®®(network protocol)ï¼Œç®€ç§°ä¸ºåè®® ï¼Œæ˜¯ä¸ºè¿›è¡Œç½‘ç»œä¸­çš„æ•°æ®äº¤æ¢è€Œå»ºç«‹çš„è§„ åˆ™ã€æ ‡å‡†æˆ–çº¦å®šã€‚</p><p>åè®®è§„å®šäº†é€šä¿¡å®ä½“ä¹‹é—´æ‰€äº¤æ¢çš„æ¶ˆæ¯çš„ æ ¼å¼ã€æ„ä¹‰ã€é¡ºåºä»¥åŠé’ˆå¯¹æ”¶åˆ°ä¿¡æ¯æˆ–å‘ ç”Ÿçš„äº‹ä»¶æ‰€é‡‡å–çš„â€œåŠ¨ä½œâ€ï¼ˆactionsï¼‰</p></li><li><p>åè®®çš„ä¸‰è¦ç´ ï¼š<br>è¯­æ³•ï¼ˆSyntaxï¼‰ </p></li></ul><blockquote><p>ï‚§ æ•°æ®ä¸æ§åˆ¶ä¿¡æ¯çš„ç»“æ„æˆ–æ ¼å¼ ï‚§ ä¿¡å·ç”µå¹³ </p></blockquote><p>è¯­ä¹‰ï¼ˆSemanticsï¼‰ </p><blockquote><p>ï‚§ éœ€è¦å‘å‡ºä½•ç§æ§åˆ¶ä¿¡æ¯ ï‚§ å®Œæˆä½•ç§åŠ¨ä½œä»¥åŠåšå‡ºä½•ç§å“åº” ï‚§ å·®é”™æ§åˆ¶  </p></blockquote><p>  æ—¶åºï¼ˆTimingï¼‰ </p><blockquote><p>ï‚§ äº‹ä»¶é¡ºåº ï‚§ é€Ÿåº¦åŒ¹é…</p></blockquote><ul><li><p>Internetåè®®æ ‡å‡†</p><p>RFC: Request for Comments </p><p>IETF:äº’è”ç½‘å·¥ç¨‹ä»»åŠ¡ç»„ï¼ˆ Internet Engineering Task  Forceï¼‰</p></li></ul><h3 id="4-è®¡ç®—æœºç½‘ç»œçš„ç»“æ„"><a href="#4-è®¡ç®—æœºç½‘ç»œçš„ç»“æ„" class="headerlink" title="4. è®¡ç®—æœºç½‘ç»œçš„ç»“æ„"></a>4. è®¡ç®—æœºç½‘ç»œçš„ç»“æ„</h3><h4 id="4-1-è®¡ç®—æœºç½‘ç»œçš„ç»“æ„"><a href="#4-1-è®¡ç®—æœºç½‘ç»œçš„ç»“æ„" class="headerlink" title="4.1 è®¡ç®—æœºç½‘ç»œçš„ç»“æ„"></a>4.1 è®¡ç®—æœºç½‘ç»œçš„ç»“æ„</h4><ul><li>ç½‘ç»œè¾¹ç¼˜</li></ul><blockquote><p>ä¸»æœº<br>ç½‘ç»œåº”ç”¨</p></blockquote><ul><li>æ¥å…¥ç½‘ç»œï¼Œç‰©ç†ä»‹è´¨</li></ul><blockquote><p>æœ‰çº¿æˆ–æ— çº¿é€šä¿¡é“¾è·¯</p></blockquote><ul><li>ç½‘ç»œæ ¸å¿ƒï¼ˆæ ¸å¿ƒç½‘ç»œï¼‰</li></ul><blockquote><p>äº’è”çš„è·¯ç”±å™¨ï¼ˆæˆ–åˆ†ç»„è½¬å‘è®¾å¤‡ï¼‰<br>ç½‘ç»œä¹‹ç½‘ç»œ</p></blockquote><h4 id="4-2-ç½‘ç»œè¾¹ç¼˜"><a href="#4-2-ç½‘ç»œè¾¹ç¼˜" class="headerlink" title="4.2 ç½‘ç»œè¾¹ç¼˜"></a>4.2 ç½‘ç»œè¾¹ç¼˜</h4><ul><li>ä¸»æœºï¼ˆç«¯ç³»ç»Ÿï¼‰<ul><li>ä½äºâ€œç½‘ç»œè¾¹ç¼˜â€</li><li>è¿è¡Œç½‘ç»œåº”ç”¨ç¨‹åº</li></ul></li></ul><blockquote><ul><li>å®¢æˆ·/æœåŠ¡å™¨ï¼ˆclient/serverï¼‰åº”ç”¨æ¨¡å‹<ul><li>å®¢æˆ·å‘é€è¯·æ±‚ï¼Œæ¥å—æœåŠ¡å™¨å“åº”</li></ul></li><li>å¯¹ç­‰ï¼ˆpeer-peerï¼ŒP2Pï¼‰åº”ç”¨æ¨¡å‹<ul><li>æ— ï¼ˆæˆ–ä¸ä»…ä¾èµ–ï¼‰ä¸“ç”¨æœåŠ¡å™¨</li><li>é€šä¿¡åœ¨å¯¹ç­‰å®ä½“ä¹‹é—´ç›´æ¥è¿›è¡Œ</li></ul></li></ul></blockquote><ul><li>å¦‚ä½•å°†ç½‘ç»œè¾¹ç¼˜æ¥å…¥æ ¸å¿ƒç½‘ï¼ˆè¾¹ç¼˜è·¯ç”±å™¨ï¼‰ï¼Ÿ   æ¥å…¥ç½‘ç»œ</li></ul><h4 id="4-3-æ¥å…¥ç½‘ç»œ"><a href="#4-3-æ¥å…¥ç½‘ç»œ" class="headerlink" title="4.3 æ¥å…¥ç½‘ç»œ"></a>4.3 æ¥å…¥ç½‘ç»œ</h4><ul><li><p>æ¥å…¥ç½‘ç»œï¼šæ•°å­—ç”¨æˆ·çº¿è·¯ï¼ˆDSLï¼‰</p><ul><li>åˆ©ç”¨å·²æœ‰çš„ç”µè¯çº¿è¿æ¥ä¸­å¿ƒå±€çš„DSLAM</li><li>éå¯¹ç§°çš„ ï¼š<br>ä¸Šè¡Œä¼ è¾“é€Ÿç‡&lt;2.5Mbps     ä¸‹è¡Œä¼ è¾“é€Ÿç‡&lt;24Mbps</li><li>FDM ï¼šé¢‘åˆ†å¤šè·¯å¤ç”¨<br>50 kHz - 1 MHzç”¨äºä¸‹è¡Œ 4 kHz - 50 kHzç”¨äºä¸Šè¡Œ 0 kHz - 4 kHzç”¨äºä¼ ç»Ÿç”µè¯</li></ul></li><li><p>æ¥å…¥ç½‘ç»œï¼šç”µç¼†ç½‘ç»œ</p><ul><li>HFC:æ··åˆå…‰çº¤åŒè½´ç”µç¼†ï¼ˆ hybrid fiber coaxï¼‰<br>éå¯¹ç§°: ä¸‹è¡Œé«˜è¾¾30Mbpsä¼ è¾“é€Ÿç‡ï¼Œä¸Šè¡Œä¸º2 Mbpsä¼  è¾“é€Ÿç‡</li><li>é¢‘åˆ†å¤šè·¯å¤ç”¨</li><li>å„å®¶åº­ï¼ˆè®¾å¤‡ï¼‰é€šè¿‡ç”µç¼†ç½‘ç»œâ†’å…‰çº¤æ¥å…¥ISPè·¯ç”±å™¨<br>å„å®¶åº­å…±äº«å®¶åº­è‡³ç”µç¼†å¤´ç«¯çš„æ¥å…¥ç½‘ç»œ<br>ä¸åŒäºDSLçš„ç‹¬å è‡³ä¸­å¿ƒå±€çš„æ¥å…¥</li></ul></li><li><p>æœºæ„ï¼ˆä¼ä¸šï¼‰æ¥å…¥ç½‘ç»œï¼ˆEthernetï¼‰<br><em>Ethernet</em>ä¸€èˆ¬æŒ‡ä»¥å¤ªç½‘ã€‚ä»¥å¤ªç½‘æ˜¯ä¸€ç§è®¡ç®—æœºå±€åŸŸç½‘æŠ€æœ¯ã€‚</p><p>ä¸»è¦ç”¨äºå…¬å¸ã€é«˜æ ¡ã€ä¼ä¸šç­‰ç»„ç»‡æœºæ„<br>å…¸å‹ä¼ è¾“é€Ÿç‡ï¼š10 Mbps, 100Mbps, 1Gbps, 10Gbps<br>ç›®å‰ï¼Œç«¯ç³»ç»Ÿé€šå¸¸ç›´æ¥è¿æ¥ä»¥å¤ªç½‘äº¤æ¢æœºï¼ˆswitchï¼‰</p></li><li><p>æ— çº¿æ¥å…¥ç½‘ç»œ</p><p>é€šè¿‡å…±äº«çš„æ— çº¿æ¥å…¥ç½‘ç»œè¿æ¥ç«¯ç³»ç»Ÿä¸è·¯ç”±å™¨ ï¼ˆé€šè¿‡åŸºç«™ï¼ˆbase stationï¼‰æˆ–ç§°ä¸ºâ€œæ¥å…¥ç‚¹â€ï¼ˆaccess pointï¼‰ï¼‰</p></li></ul><p>  <img src="/2021/04/05/jsjwl01/image-20210324200838785.png" alt="image-20210324200838785"></p><h4 id="4-4-ç½‘ç»œæ ¸å¿ƒ"><a href="#4-4-ç½‘ç»œæ ¸å¿ƒ" class="headerlink" title="4.4 ç½‘ç»œæ ¸å¿ƒ"></a>4.4 ç½‘ç»œæ ¸å¿ƒ</h4><ul><li><p>ç½‘ç»œæ ¸å¿ƒï¼šäº’è”çš„è·¯ç”±å™¨ç½‘ç»œ</p></li><li><p>ç½‘ç»œæ ¸å¿ƒçš„å…³é”®åŠŸèƒ½ï¼šè·¯ç”±+è½¬å‘</p></li></ul><p><img src="/2021/04/05/jsjwl01/image-20210324201246749.png" alt="image-20210324201246749"></p><ul><li><p>ISPï¼ˆäº’è”ç½‘æœåŠ¡æä¾›å•†ï¼ˆInternet Service Providerï¼‰ï¼‰</p></li><li><p>ç«¯ç³»ç»Ÿé€šè¿‡æ¥å…¥ISPï¼ˆaccess ISPs ï¼‰è¿æ¥åˆ° Internetï¼Œæ¥å…¥ISPå¿…é¡»è¿›ä¸€æ­¥äº’è¿ï¼Œè¿™æ ·ä»»æ„ä¸¤ä¸ªä¸»æœºæ‰å¯ä»¥äº’ç›¸å‘é€åˆ†ç»„ ã€‚è¿™å°±æ„æˆå¤æ‚çš„ç½‘ç»œäº’è¿çš„ç½‘ç»œã€‚ï¼ˆç»æµå’Œå›½å®¶æ”¿ç­–æ˜¯ç½‘ç»œæ¼”è¿›çš„ä¸»è¦é©±åŠ¨åŠ›ï¼‰</p></li><li><p>æ¥å…¥ISPåŒ…æ‹¬ä½å®…ã€å­¦æ ¡ã€å…¬å¸ã€ç§»åŠ¨ç½‘ç»œçš„åŸºç«™ç­‰</p></li><li><p>Internetç»“æ„</p><blockquote><p>access net æ¥å…¥ç½‘ç»œ    ISP äº’è”ç½‘æœåŠ¡æä¾›å•†</p></blockquote></li></ul><p><img src="/2021/04/05/jsjwl01/image-20210324202751918.png" alt="image-20210324202751918"></p><blockquote><p>å¯¹ç­‰é“¾è·¯ã€IXPéƒ½æ˜¯è¿æ¥ISPçš„ç»“æ„ï¼Œå…¶ä¸­IXPå¯ä»¥å®ç°å¤šä¸ªISPçš„è¿æ¥</p></blockquote><p><img src="/2021/04/05/jsjwl01/image-20210324202847419.png" alt="image-20210324202847419"></p><blockquote><p>å±€åŸŸISPè¿›ä¸€æ­¥ç»†åŒ–</p></blockquote><p><img src="/2021/04/05/jsjwl01/image-20210324202906584.png" alt="image-20210324202906584"></p><blockquote><p>ISPæ˜¯æä¾›æ¥å…¥ç½‘ç»œçš„<br>ICPï¼ˆå†…å®¹ä¾›åº”å•†ï¼‰æ˜¯æä¾›ä¸šåŠ¡ã€æœåŠ¡çš„<br>ICPä¹Ÿéœ€è¦ISPæ¥æ¥å…¥ç½‘ç»œï¼Œæˆæœ¬é«˜ï¼Œæä¾›ç½‘è´¨é‡ä¸é«˜ï¼Œæ‰€ä»¥åæ¥å¤§å‹çš„ICPï¼ˆä¾‹å¦‚Googleç­‰ï¼‰åœ¨å…¨çƒéƒ¨ç½²æ•°æ®ä¸­å¿ƒæœºæˆ¿ï¼ˆDCï¼‰åˆ©ç”¨ä¸“ç”¨ç”µç¼†ã€å…‰ç¼†å°†DCè¿æ¥ï¼Œå†æ¥å…¥ISPï¼Œæ¥é™ä½æˆæœ¬ï¼Œæé«˜ç”¨æˆ·ä½“éªŒ</p></blockquote><p><img src="/2021/04/05/jsjwl01/image-20210324202942386.png" alt="image-20210324202942386"></p><ul><li>Internetç»“æ„<ul><li>åˆ’åˆ†æ–¹å¼ä¸€ï¼šäº’è”ç½‘åˆ†ä¸ºç»“ç‚¹å’Œé“¾è·¯ã€‚ä¸»æœºç»“ç‚¹ç§°ä¸ºç½‘ç»œè¾¹ç¼˜ï¼Œç½‘ç»œäº¤æ¢ç»“ç‚¹å’Œäº¤æ¢ç»“ç‚¹ä»¥åŠé“¾è·¯ç§°ä¸ºç½‘ç»œæ ¸å¿ƒï¼Œå°†ç½‘ç»œè¾¹ç¼˜æ¥å…¥ç½‘ç»œæ ¸å¿ƒçš„é“¾è·¯ç§°ä¸ºæ¥å…¥ç½‘ç»œã€‚</li><li>åˆ’åˆ†æ–¹å¼äºŒï¼šæ¥å…¥ISPæ±‡é›†åˆ°åŒºåŸŸISPï¼ŒåŒºåŸŸISPå†æ±‡é›†åˆ°ä¸€çº§ISPã€‚</li></ul></li></ul><h4 id="4-6-æ•°æ®äº¤æ¢"><a href="#4-6-æ•°æ®äº¤æ¢" class="headerlink" title="4.6 æ•°æ®äº¤æ¢"></a>4.6 æ•°æ®äº¤æ¢</h4><ul><li><p>ç½‘ç»œæ ¸å¿ƒæ˜¯ä¸ºäº†è§£å†³å°†æºä¸»æœºå‘é€çš„æ•°æ®é€šè¿‡ç½‘ç»œæ ¸å¿ƒæˆåŠŸåœ°ä¼ é€’ç»™ç›®çš„ä¸»æœº        â€“é€šè¿‡æ•°æ®äº¤æ¢å®ç°ã€‚</p></li><li><p>æ•°æ®äº¤æ¢çš„ç±»å‹ï¼š<br>ç”µè·¯äº¤æ¢      æŠ¥æ–‡äº¤æ¢     åˆ†ç»„äº¤æ¢</p></li></ul><h5 id="4-6-1-ç”µè·¯äº¤æ¢"><a href="#4-6-1-ç”µè·¯äº¤æ¢" class="headerlink" title="4.6.1 ç”µè·¯äº¤æ¢"></a>4.6.1 ç”µè·¯äº¤æ¢</h5><ul><li>æœ€å…¸å‹çš„ç”µè·¯äº¤æ¢ç½‘ç»œï¼šç”µè¯ç½‘ç»œ</li><li>ç”µè·¯äº¤æ¢çš„ä¸‰ä¸ªé˜¶æ®µï¼š<br>å»ºç«‹è¿æ¥ï¼ˆå‘¼å«/ç”µè·¯å»ºç«‹ï¼‰      é€šä¿¡       é‡Šæ”¾è¿æ¥ï¼ˆæ‹†é™¤ç”µè·¯ï¼‰</li><li>ç”µè·¯äº¤æ¢æ˜¯ç‹¬å èµ„æºçš„</li><li>ç”µè·¯äº¤æ¢ç½‘ç»œå¦‚ä½•å…±äº«ä¸­ç»§çº¿ï¼Ÿ    å¤šè·¯å¤ç”¨</li></ul><h5 id="4-6-2-å¤šè·¯å¤ç”¨"><a href="#4-6-2-å¤šè·¯å¤ç”¨" class="headerlink" title="4.6.2 å¤šè·¯å¤ç”¨"></a>4.6.2 å¤šè·¯å¤ç”¨</h5><ul><li><p>å¤šè·¯å¤ç”¨(multiplexing)ï¼Œç®€ç§°å¤ç”¨ï¼Œæ˜¯é€šä¿¡æŠ€æœ¯ ä¸­çš„åŸºæœ¬æ¦‚å¿µã€‚</p></li><li><p>å¤šè·¯å¤ç”¨(Multiplexing): é“¾è·¯/ç½‘ç»œèµ„æºï¼ˆå¦‚å¸¦å®½ï¼‰åˆ’åˆ†ä¸ºâ€œèµ„æºç‰‡â€ ã€‚<br>å°†èµ„æºç‰‡åˆ†é…ç»™å„è·¯â€œå‘¼ å«â€ï¼ˆcallsï¼‰<br>æ¯è·¯å‘¼å«ç‹¬å åˆ†é…åˆ°çš„èµ„æºç‰‡è¿›è¡Œé€šä¿¡<br>èµ„æºç‰‡å¯èƒ½â€œé—²ç½®â€(idle)  (æ— å…±äº«)</p></li><li><p>å…¸å‹å¤šè·¯å¤ç”¨æ–¹æ³•:<br>é¢‘åˆ†å¤šè·¯å¤ç”¨( frequency  division multiplexing-FDM )<br>æ—¶åˆ†å¤šè·¯å¤ç”¨( time division  multiplexing-TDM )<br>æ³¢åˆ†å¤šè·¯å¤ç”¨(Wavelength  division multiplexing-WDM)<br>ç åˆ†å¤šè·¯å¤ç”¨( Code  division multiplexing-CDM )</p></li><li><p>é¢‘åˆ†å¤šè·¯å¤ç”¨FDM<br><img src="/2021/04/05/jsjwl01/image-20210324203913089.png" alt="image-20210324203913089"><br>é¢‘åˆ†å¤šè·¯å¤ç”¨çš„å„ç”¨æˆ·å ç”¨ä¸åŒçš„å¸¦å®½èµ„æºï¼ˆè¯·æ³¨æ„ï¼Œè¿™é‡Œçš„â€œå¸¦å®½ â€æ˜¯é¢‘ç‡å¸¦å®½ï¼ˆå•ä½ï¼šHzï¼‰è€Œä¸æ˜¯æ•°æ®çš„å‘é€é€Ÿç‡ï¼‰ã€‚ç”¨æˆ·åœ¨åˆ†é…åˆ°ä¸€å®šçš„é¢‘å¸¦åï¼Œåœ¨é€šä¿¡è¿‡ç¨‹ä¸­è‡ªå§‹è‡³ç»ˆéƒ½å ç”¨è¿™ä¸ªé¢‘å¸¦ã€‚<br><img src="/2021/04/05/jsjwl01/image-20210324204022544.png" alt="image-20210324204022544"></p></li><li><p>æ—¶åˆ†å¤šè·¯å¤ç”¨TDM<br>æ—¶åˆ†å¤ç”¨åˆ™æ˜¯å°†æ—¶é—´åˆ’åˆ†ä¸ºä¸€æ®µæ®µç­‰é•¿çš„æ—¶åˆ†å¤ç”¨å¸§ï¼ˆTDM å¸§ï¼‰ï¼Œæ¯ä¸ªç”¨æˆ·åœ¨æ¯ä¸ª TDM å¸§ä¸­å ç”¨å›ºå®šåºå·çš„æ—¶éš™ã€‚<br>æ¯ç”¨æˆ·æ‰€å ç”¨çš„æ—¶éš™æ˜¯å‘¨æœŸæ€§å‡ºç°ï¼ˆå…¶å‘¨æœŸå°±æ˜¯ TDM å¸§çš„é•¿åº¦ï¼‰ã€‚</p><p><img src="/2021/04/05/jsjwl01/image-20210324204152398.png" alt="image-20210324204152398"></p><p>æ—¶åˆ†å¤ç”¨çš„æ‰€æœ‰ç”¨æˆ·æ˜¯åœ¨ä¸åŒçš„æ—¶é—´å ç”¨ç›¸åŒçš„é¢‘å¸¦å®½åº¦</p></li></ul><p><img src="/2021/04/05/jsjwl01/image-20210324204209123.png" alt="image-20210324204209123"></p><ul><li>æ³¢åˆ†å¤šè·¯å¤ç”¨WDM<br>æ³¢åˆ†å¤ç”¨å°±æ˜¯å…‰çš„é¢‘åˆ†å¤ç”¨</li><li>ç åˆ†å¤šè·¯å¤ç”¨CDM<img src="/2021/04/05/jsjwl01/image-20210324204526439-1618041462218.png" alt="image-20210324204537250"></li></ul><p><img src="/2021/04/05/jsjwl01/image-20210324204537250-1618041480074.png" alt="image-20210324204537250"></p><p><img src="/2021/04/05/jsjwl01/image-20210324204607434.png" alt="image-20210324204607434"></p><p><img src="/2021/04/05/jsjwl01/image-20210324204619871.png" alt="image-20210324204619871"></p><h5 id="4-6-3-æŠ¥æ–‡äº¤æ¢"><a href="#4-6-3-æŠ¥æ–‡äº¤æ¢" class="headerlink" title="4.6.3 æŠ¥æ–‡äº¤æ¢"></a>4.6.3 æŠ¥æ–‡äº¤æ¢</h5><ul><li><p>æŠ¥æ–‡ï¼šæºï¼ˆåº”ç”¨ï¼‰å‘é€ä¿¡æ¯æ•´ä½“ï¼Œæ¯”å¦‚ï¼šä¸€ä¸ªæ–‡ä»¶ã€‚</p></li><li><p>æŠ¥æ–‡äº¤æ¢ï¼ˆmessage switching)</p></li></ul><h5 id="4-6-4-åˆ†ç»„äº¤æ¢"><a href="#4-6-4-åˆ†ç»„äº¤æ¢" class="headerlink" title="4.6.4 åˆ†ç»„äº¤æ¢"></a>4.6.4 åˆ†ç»„äº¤æ¢</h5><ul><li><p>åˆ†ç»„ï¼šæŠ¥æ–‡æ‹†åˆ†å‡ºæ¥çš„ä¸€ç³»åˆ—ç›¸å¯¹è¾ƒå°çš„æ•°æ®åŒ…ã€‚<br><img src="/2021/04/05/jsjwl01/image-20210324205156713.png" alt="image-20210324205156713"></p></li><li><p>åˆ†ç»„äº¤æ¢éœ€è¦æŠ¥æ–‡çš„æ‹†åˆ†å’Œé‡ç»„ï¼Œä¼šäº§ç”Ÿé¢å¤–çš„å¼€é”€ã€‚</p></li><li><p>åˆ†ç»„äº¤æ¢ä¸­æ˜¯æŒ‰éœ€å…±äº«é“¾è·¯ï¼ˆstatistical multiplexingï¼‰çš„ï¼Œä¸åŒè®¾å¤‡çš„åˆ†ç»„åºåˆ—ä¸ç¡®å®šï¼Œæ‰€ä»¥åˆ†ç»„äº¤æ¢åˆç§°ï¼šç»Ÿè®¡å¤šè·¯å¤ç”¨ã€‚</p></li><li><p>æŠ¥æ–‡äº¤æ¢å’Œåˆ†ç»„äº¤æ¢å‡é‡‡ç”¨å­˜å‚¨-è½¬å‘ï¼ˆstore-and-forwardï¼‰äº¤æ¢æ–¹å¼ã€‚<br>åŒºåˆ«ï¼šæŠ¥æ–‡äº¤æ¢æ˜¯ä»¥å®Œæ•´æŠ¥æ–‡è¿›è¡Œâ€œå­˜å‚¨-è½¬å‘â€ï¼Œè€Œåˆ†ç»„äº¤æ¢æ˜¯ä»¥è¾ƒå°çš„åˆ†ç»„è¿›è¡Œâ€œå­˜å‚¨-è½¬å‘â€ã€‚</p></li><li><p>ä¼ è¾“å»¶è¿Ÿï¼š<br>åˆ†ç»„ä¼ è¾“å»¶è¿Ÿï¼ˆdelayï¼‰=åˆ†ç»„ï¼ˆpacketsï¼‰/é“¾è·¯ä¼ è¾“é€Ÿç‡</p></li><li><p>æŠ¥æ–‡äº¤æ¢ vs åˆ†ç»„äº¤æ¢<br>åˆ†ç»„äº¤æ¢æ€»ä¼ è¾“å»¶è¿Ÿæ›´å°ï¼Œæ‰€éœ€è¦è·¯ç”±å™¨çš„å¸¦å®½æ›´å°ã€‚</p></li></ul><p><img src="/2021/04/05/jsjwl01/image-20210324211945460.png" alt="image-20210324211945460"></p><ul><li><p>ä¾‹ï¼š<br><img src="/2021/04/05/jsjwl01/image-20210324212548450.png" alt="image-20210324212548450"></p><p><img src="/2021/04/05/jsjwl01/image-20210324212606781.png" alt="image-20210324212606781"></p></li><li><p>ç”µè·¯äº¤æ¢ vs åˆ†ç»„äº¤æ¢<br>åˆ†ç»„äº¤æ¢èµ„æºå…±äº«ç‡æ›´é«˜ï¼Œè®©æ›´å¤šç”¨æˆ·å…±äº«ç½‘ç»œèµ„æºã€‚<br>åˆ†ç»„äº¤æ¢é€‚ç”¨äºçªå‘æ•°æ®ä¼ è¾“ç½‘ç»œï¼Œå¯ä»¥èµ„æºå……åˆ†å…±äº«ï¼ŒåŒæ—¶ç®€å•ã€æ— éœ€å‘¼å«å»ºç«‹ã€‚///////////////////////////TCPä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ<br>åˆ†ç»„äº¤æ¢å¯èƒ½äº§ç”Ÿæ‹¥å¡ï¼ˆcongestionï¼‰ï¼šåˆ†ç»„å»¶è¿Ÿå’Œä¸¢å¤±ã€‚ï¼ˆéœ€è¦ç”¨åè®®å¤„ç†å¯é æ•°æ®ä¼ è¾“å’Œæ‹¥å¡æ§åˆ¶ï¼‰</p></li><li><p>é—®é¢˜ï¼šåˆ†ç»„äº¤æ¢å¦‚ä½•æä¾›ç”µè·¯çº§æ€§èƒ½ä¿éšœï¼Ÿ</p></li></ul><ul><li>åˆ†ç»„ä¸¢å¤±</li></ul><h4 id="4-7-è®¡ç®—æœºç½‘ç»œæ€§èƒ½"><a href="#4-7-è®¡ç®—æœºç½‘ç»œæ€§èƒ½" class="headerlink" title="4.7 è®¡ç®—æœºç½‘ç»œæ€§èƒ½"></a>4.7 è®¡ç®—æœºç½‘ç»œæ€§èƒ½</h4><ul><li><p>é€Ÿç‡<br>é€Ÿç‡å³æ•°æ®ç‡ï¼ˆdata rateï¼‰ã€æ•°æ®ä¼ è¾“é€Ÿç‡ã€æ¯”ç‰¹ç‡ï¼ˆbit rateï¼‰</p><ul><li><p>å•ä½æ—¶é—´ï¼ˆç§’ï¼‰ä¼ è¾“ä¿¡æ¯ï¼ˆæ¯”ç‰¹ï¼‰é‡</p></li><li><p>è®¡ç®—æœºç½‘ç»œä¸­æœ€é‡è¦çš„ä¸€ä¸ªæ€§èƒ½æŒ‡æ ‡</p></li><li><p>å•ä½ï¼šb/sï¼ˆæˆ–bpsï¼‰ kb/sã€Mb/sã€Gb/s</p></li><li><p>k=10^3        M=10^6      G=10^9</p></li><li><p>é€Ÿç‡å¾€å¾€æ˜¯æŒ‡é¢å®šé€Ÿç‡æˆ–è€…æ ‡ç§°é€Ÿç‡ï¼Œå®é™…å¾ˆéš¾è¾¾åˆ°ã€‚</p></li></ul></li><li><p>å¸¦å®½</p><ul><li><p>å¸¦å®½ï¼ˆbandwidthï¼‰åŸæœ¬æŒ‡ä¿¡å·å…·æœ‰çš„é¢‘å¸¦å®½åº¦ï¼Œå³æœ€é«˜é¢‘ç‡ä¸æœ€ä½é¢‘ç‡ä¹‹å·®ï¼Œå•ä½æ˜¯èµ«å…¹ï¼ˆHzï¼‰</p></li><li><p>ç½‘ç»œä¸­çš„å¸¦å®½é€šå¸¸æ˜¯æŒ‡æ•°å­—ä¿¡é“æ‰€èƒ½ä¼ é€çš„â€œæœ€é«˜æ•°æ®ç‡â€ï¼Œå•ä½ï¼šb/sï¼ˆbpsï¼‰</p></li><li><p>å¸¸ç”¨å•ä½ï¼škb/sã€Mb/sã€Gb/sã€Tb/s</p></li><li><p>k=10^3        M=10^6      G=10^9    T=10^12</p></li></ul></li><li><p>å»¶è¿Ÿ/æ—¶å»¶ï¼ˆdelayæˆ–latencyï¼‰</p></li></ul><p>åˆ†ç»„äº¤æ¢ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿä¸¢åŒ…ï¼Ÿ</p><p>åˆ†ç»„åœ¨è·¯ç”±å™¨ç¼“å­˜ä¸­æ’é˜Ÿï¼Œåˆ†ç»„åˆ°è¾¾é€Ÿç‡è¶…è¿‡è¾“å‡ºé“¾è·¯å®¹é‡æ—¶/è·¯ç”±å™¨ç¼“å­˜ä¸è¶³ä»¥å­˜å‚¨åˆ†ç»„ï¼Œå°±ä¼šå‘ç”Ÿä¸¢åŒ…ã€‚</p><p>æ—¶å»¶ï¼šåˆ†ç»„æ’é˜Ÿï¼Œç­‰å¾…è¾“å‡ºé“¾è·¯å¯ç”¨</p><p><img src="/2021/04/05/jsjwl01/image-20210331170923229.png" alt="image-20210331170923229"></p><ul><li><p>å››ç§åˆ†ç»„å»¶è¿Ÿ</p><p><img src="/2021/04/05/jsjwl01/image-20210331172225453.png" alt="image-20210331172225453"></p><ul><li><p>d<sub>proc</sub>ï¼šç»“ç‚¹å¤„ç†å»¶è¿Ÿï¼ˆnodal processing delayï¼‰</p><p>å¤„ç†æ—¶å»¶æ˜¯å› ä¸ºèŠ‚ç‚¹éœ€è¦è§£æåˆ†ç»„çš„å¿…è¦ä¿¡æ¯ç„¶åå†³å®šå…¶å‡ºé“¾è·¯ï¼ˆç´¢å¼•è½¬å‘è¡¨ç­‰æ“ä½œï¼‰è€Œäº§ç”Ÿçš„ï¼Œé€šå¸¸åœ¨å¾®ç§’æˆ–è€…æ›´ä½æ•°é‡çº§ï¼›</p></li><li><p>d<sub>queue</sub>ï¼šæ’é˜Ÿå»¶è¿Ÿï¼ˆqueueing delayï¼‰</p><p>æ’é˜Ÿæ—¶å»¶æ˜¯å› ä¸ºåˆ†ç»„æ‰€å¯¹åº”çš„å‡ºé“¾è·¯å‰é¢æœ‰å…¶ä»–åˆ†ç»„æ­£åœ¨ä¼ è¾“ï¼Œæ‰€ä»¥åˆ†ç»„éœ€è¦è¯¥é“¾è·¯çš„ç¼“å†²é˜Ÿåˆ—é‡Œç­‰å¾…å…¶ä»–åˆ†ç»„ä¼ è¾“å®Œæ¯•è€Œäº§ç”Ÿçš„ï¼›ä¸€èˆ¬æ¥è¯´ï¼Œæ’é˜Ÿæ—¶å»¶æ˜¯åˆ°è¾¾è¯¥é˜Ÿåˆ—çš„æµé‡å¼ºåº¦å’Œæ€§è´¨çš„å‡½æ•°ï¼Œé€šå¸¸å¯ä»¥è¾¾åˆ°æ¯«ç§’çº§åˆ°å¾®ç§’çº§ï¼›</p></li><li><p>d<sub>trans</sub>ï¼šä¼ è¾“å»¶è¿Ÿï¼ˆtransmission delayï¼‰</p><p>ä¼ è¾“æ—¶å»¶æ˜¯å°†æ‰€æœ‰åˆ†ç»„çš„æ¯”ç‰¹æ¨å‘é“¾è·¯æ‰€æœ‰éœ€è¦çš„æ—¶é—´ï¼Œå®é™…çš„ä¼ è¾“æ—¶å»¶é€šå¸¸åœ¨æ¯«ç§’åˆ°å¾®ç§’æ•°é‡çº§ã€‚</p><ul><li>Lï¼šåˆ†ç»„é•¿åº¦ï¼ˆbitsï¼‰</li><li>Rï¼šä»è·¯ç”±å™¨Aåˆ°Bçš„é“¾è·¯ä¼ è¾“é€Ÿç‡/é“¾è·¯å¸¦å®½ï¼ˆbpsï¼‰</li><li>d<sub>trans</sub>=L/R</li></ul></li><li><p>d<sub>prop</sub>ï¼šä¼ æ’­å»¶è¿Ÿï¼ˆpropagation delayï¼‰</p><p>ä¼ æ’­æ—¶å»¶æ˜¯æŒ‡æ¯”ç‰¹è¿›å…¥é“¾è·¯åï¼Œä»è¯¥é“¾è·¯çš„èµ·ç‚¹åˆ°ä¸‹ä¸€ä¸ªç»“ç‚¹æ‰€ç”¨çš„æ—¶é—´ï¼›ä¸€æ—¦åˆ†ç»„ä¸­çš„æœ€åä¸€ä¸ªæ¯”ç‰¹åˆ°è¾¾è·¯ç”±å™¨å°±æ„å‘³ç€è¯¥åˆ†ç»„çš„æ‰€æœ‰æ¯”ç‰¹éƒ½å·²åˆ°è¾¾è·¯ç”±å™¨ï¼›å¹¿åŸŸç½‘ä¸­ï¼Œä¼ æ’­æ—¶å»¶ä¸€èˆ¬æ˜¯æ¯«ç§’çº§çš„ã€‚</p><ul><li>dï¼šç‰©ç†é“¾è·¯é•¿åº¦</li></ul></li><li><p>sï¼šä¿¡å·ä¼ æ’­é€Ÿåº¦ï¼ˆé“œç¼†ä¸­ç”µä¿¡å·é€Ÿåº¦0.7å€å…‰é€Ÿ~2Ã—10<sup>8</sup>m/secï¼‰</p><ul><li>d<sub>prop</sub>=d/s</li></ul><blockquote><p><strong>ä¼ è¾“æ—¶å»¶å’Œä¼ æ’­æ—¶å»¶çš„å¯¹æ¯”</strong></p><p>ä¼ è¾“æ—¶å»¶æ˜¯ä¼ è¾“ä¸€ä¸ªåˆ†ç»„çš„æ—¶é—´ï¼Œä¼ æ’­æ—¶å»¶æ˜¯åˆ†ç»„ä»ä¸€ä¸ªç»“ç‚¹åˆ°å¦ä¸€ä¸ªç»“ç‚¹çš„æ—¶é—´ã€‚å¦‚æœæ‰“ä¸ªæ¯”æ–¹çš„è¯ï¼Œä¼ è¾“æ—¶å»¶å°±æ˜¯å¤§å¡è½¦ç»è¿‡æ”¶è´¹ç«™çš„æ—¶é—´è€Œä¼ æ’­æ—¶é—´å°±æ˜¯è½¦åœ¨é«˜é€Ÿå…¬è·¯ä¸Šè¡Œé©¶çš„æ—¶é—´ã€‚</p></blockquote><p>ä¸€è·³çš„æ—¶é—´å»¶è¿Ÿï¼ˆæŸä¸€åˆ†ç»„ä»åˆ°è¾¾ä¸€ä¸ªç»“ç‚¹åˆ°ä¼ æ’­åˆ°ä¸‹ä¸€ä¸ªç»“ç‚¹çš„æ—¶é—´ï¼‰d<sub>nodal</sub>=d<sub>proc</sub>+d<sub>queue</sub>+d<sub>trans</sub>+d<sub>prop</sub></p></li></ul><p><img src="/2021/04/05/jsjwl01/image-20210331172851542.png" alt="image-20210331172851542"></p></li><li><p>æ’é˜Ÿå»¶è¿Ÿå’Œä¸¢åŒ…</p></li></ul><p>ä¸¢åŒ…ï¼šåˆ°è¾¾çš„åˆ†ç»„å‘ç°ä¸€ä¸ªæ»¡çš„é˜Ÿåˆ—ã€‚ç”±äºæ²¡æœ‰åœ°æ–¹å­˜å‚¨è¿™ä¸ªåˆ†ç»„ï¼Œè·¯ç”±å™¨å°†ä¸¢å¼ƒè¯¥åˆ†ç»„ï¼Œè¯¥åˆ†ç»„å°†ä¼šä¸¢å¤±</p><p>æ’é˜Ÿæ—¶å»¶å’Œä¸¢åŒ…ä¸ç½‘ç»œçš„çŠ¶å†µå’Œç»“ç‚¹çš„ç¼“å†²ç©ºé—´å¤§å°ã€å¤„ç†é€Ÿåº¦ç›¸å…³ï¼›å¦‚æœåˆ†ç»„åˆ°è¾¾çš„é€Ÿåº¦é«˜äºç»“ç‚¹çš„å¤„ç†é€Ÿåº¦ï¼Œé‚£ä¹ˆåˆ†ç»„å°±ä¼šåœ¨ç¼“å†²é˜Ÿåˆ—é‡Œæ’é˜Ÿç­‰å¾…ã€‚å½“ç¼“å†²ç©ºé—´ç”¨å®Œåï¼Œå¦‚æœè¿˜æœ‰åˆ°çš„åˆ†ç»„ï¼Œé‚£ä¹ˆè¯¥åˆ†ç»„å°†è¢«è¿«ä¸¢å¼ƒã€‚</p><p>ä¸ºäº†æè¿°ç½‘ç»œçŠ¶ä½“ï¼Œæˆ‘ä»¬å¼•å…¥äº†æµé‡å¼ºåº¦è¿™ä¸€æ¦‚å¿µï¼šæµé‡å¼ºåº¦=åˆ†ç»„åˆ°è¾¾çš„é€Ÿåº¦/ç»“ç‚¹çš„å¤„ç†é€Ÿåº¦ï¼›æµé‡å·¥ç¨‹é‡Œä¸€ä¸ªé‡‘ç§‘ç‰å¾‹å°±æ˜¯ï¼šè®¾è®¡ç³»ç»Ÿæ—¶æµé‡å¼ºåº¦ä¸èƒ½å¤§äº1ï¼›</p><p>å½“æµé‡å¼ºåº¦æŒç»­å¤§äº1æ—¶ï¼Œå°±å°†å‡ºç°ä¸¢åŒ…ç°è±¡ã€‚</p><blockquote><p>Rï¼šé“¾è·¯å¸¦å®½ï¼ˆbpsï¼‰   Lï¼šåˆ†ç»„é•¿åº¦ï¼ˆbitsï¼‰   aï¼šå¹³å‡åˆ†ç»„åˆ°è¾¾é€Ÿç‡</p><p>æµé‡å¼ºåº¦ï¼ˆtraffic intensityï¼‰= La/R</p></blockquote><p><img src="/2021/04/05/jsjwl01/image-20210331173545650.png" alt="image-20210331173545650"></p><p><img src="/2021/04/05/jsjwl01/image-20210331173454963.png" alt="image-20210331173454963"></p><ul><li><p>æ—¶å»¶å¸¦å®½ç§¯/å¸¦å®½æ—¶å»¶ç§¯</p><p>æ—¶å»¶å¸¦å®½ç§¯ = ä¼ æ’­æ—¶å»¶ Ã— å¸¦å®½ = d<sub>prop</sub> Ã— R ï¼ˆbitsï¼‰</p><p><img src="/2021/04/05/jsjwl01/image-20210331173859612.png" alt="image-20210331173859612"></p><blockquote><p>æ—¶å»¶å¸¦å®½ç§¯è¡¨ç¤ºé“¾è·¯èƒ½å¤Ÿå®¹çº³çš„æ¯”ç‰¹ä½</p><p>é“¾è·¯çš„æ—¶å»¶å¸¦å®½ç§¯åˆç§°ä¸ºä»¥æ¯”ç‰¹ä¸ºå•ä½çš„é“¾è·¯é•¿åº¦</p></blockquote></li><li><p>åˆ†ç»„ä¸¢å¤±ï¼ˆä¸¢åŒ…ï¼‰</p><ul><li>é˜Ÿåˆ—ç¼“å­˜æœ‰é™ï¼Œåˆ†ç»„åˆ°è¾¾å·²æ»¡é˜Ÿåˆ—å°†è¢«ä¸¢å¼ƒï¼ˆä¸¢å¤±ï¼‰ï¼Œä¸¢å¼ƒåˆ†ç»„å¯èƒ½ç”±å‰åºç»“ç‚¹æˆ–è€…æºé‡å‘ï¼ˆä¹Ÿå¯èƒ½ä¸é‡å‘ï¼‰</li><li>ä¸¢åŒ…ç‡ = ä¸¢åŒ…æ•° / å·²å‘åˆ†ç»„æ€»æ•°</li></ul></li><li><p>ååé‡/ç‡ï¼ˆTroughputï¼‰</p><ul><li><p>è¡¨ç¤ºåœ¨å‘é€<strong>ç«¯</strong>ä¸æ¥å—<strong>ç«¯</strong>ä¹‹é—´ä¼ é€æ•°æ®é€Ÿç‡ï¼ˆb/sï¼‰</p><ul><li>å³æ—¶ååç‡ï¼šç»™å®šæ—¶åˆ»çš„é€Ÿç‡</li><li>å¹³å‡ååé‡ï¼šä¸€æ®µæ—¶é—´çš„å¹³å‡é€Ÿç‡</li></ul><blockquote><p>ååé‡å¯ä»¥è¿‘ä¼¼ä¸ºæºå’Œç›®çš„åœ°ä¹‹é—´è·¯å¾„çš„æœ€å°ä¼ è¾“é€Ÿç‡ã€‚æœ€å°ä¼ è¾“é€Ÿç‡çš„é“¾è·¯ä¸º<strong>ç“¶é¢ˆé“¾è·¯</strong>ã€‚ååé‡å–å†³äºç“¶é¢ˆé“¾è·¯ï¼ˆbottleneck linkï¼‰ï¼Œç“¶é¢ˆé“¾è·¯ï¼šç«¯åˆ°ç«¯è·¯å¾„ä¸Šï¼Œé™åˆ¶ç«¯åˆ°ç«¯ååé‡çš„é“¾è·¯</p></blockquote></li></ul></li></ul><h3 id="5-è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„æ¦‚è¿°"><a href="#5-è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„æ¦‚è¿°" class="headerlink" title="5. è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„æ¦‚è¿°"></a>5. è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„æ¦‚è¿°</h3><h4 id="5-1-åˆ†å±‚ç»“æ„"><a href="#5-1-åˆ†å±‚ç»“æ„" class="headerlink" title="5.1 åˆ†å±‚ç»“æ„"></a>5.1 åˆ†å±‚ç»“æ„</h4><ul><li><p>é‡‡ç”¨åˆ†å±‚ç»“æ„æ¥ç ”ç©¶è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„ï¼Œæ¯å±‚å®Œæˆä¸€ç±»ç‰¹å®šåŠŸèƒ½/æœåŠ¡ï¼Œæ¯å±‚ä¾èµ–åº•å±‚æä¾›çš„æœåŠ¡ï¼Œé€šè¿‡å±‚å†…åŠ¨ä½œå®Œæˆç›¸åº”åŠŸèƒ½</p></li><li><p>ç½‘ç»œä½“ç³»ç»“æ„æ˜¯ä»åŠŸèƒ½ä¸Šæè¿°è®¡ç®—æœºç½‘ç»œç»“æ„</p></li><li><p>è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„ç®€ç§°ç½‘ç»œä½“ç³»ç»“æ„æ˜¯åˆ†å±‚ç»“æ„ï¼Œæ¯å±‚éµå¾ªæŸä¸ª/äº›ç½‘ç»œåè®®å®Œæˆæœ¬å±‚åŠŸèƒ½ã€‚è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„æ˜¯è®¡ç®—æœºç½‘ç»œçš„å„å±‚ä»¥åŠå…¶åè®®çš„é›†åˆï¼Œæ˜¯è®¡ç®—æœºç½‘ç»œçš„åŠŸèƒ½å±‚æ¬¡ä»¥åŠå…³ç³»çš„å®šä¹‰ï¼Œæ˜¯æŠ½è±¡çš„ã€‚</p></li><li><p>åˆ†å±‚ç»“æ„<br>ä¼˜ç‚¹</p><ul><li>ç»“æ„æ¸…æ™°ï¼Œæœ‰åˆ©äºè¯†åˆ«å¤æ‚ç³»ç»Ÿçš„éƒ¨ä»¶ä»¥åŠå…³ç³»</li><li>æ¨¡å—åŒ–çš„åˆ†å±‚æ˜“äºç³»ç»Ÿæ›´æ–°ã€ç»´æŠ¤</li><li>æœ‰åˆ©äºæ ‡å‡†åŒ–</li></ul><p>ç¼ºç‚¹</p><ul><li>åˆ†å±‚è¿‡å¤šå¯èƒ½å¯¼è‡´æ•ˆç‡è¾ƒä½ï¼Œä¾‹ï¼šæŸå±‚çš„åŠŸèƒ½å¯èƒ½éœ€è¦ä»…åœ¨å…¶å®ƒå±‚æ‰å‡ºç°çš„ä¿¡æ¯</li></ul></li><li><p>åŠŸèƒ½ä¸Šçš„å†—ä½™ï¼Œæ¯”å¦‚è®¸å¤šåè®®æ ˆé’ˆå¯¹é“¾è·¯å’Œç«¯åˆ°ç«¯ä¸¤ç§æƒ…å†µéƒ½æä¾›äº†å·®é”™æ¢å¤åŠŸèƒ½</p></li><li><p><img src="/2021/04/05/jsjwl01/image-20210331182052218.png" alt="image-20210331182052218"></p><ul><li>å®ä½“ï¼ˆentityï¼‰è¡¨ç¤ºä»»ä½•å¯å‘é€æˆ–è€…æ¥å—ä¿¡æ¯çš„ç¡¬ä»¶æˆ–è€…è½¯ä»¶è¿›ç¨‹</li><li>åè®®æ˜¯æ§åˆ¶ä¸¤ä¸ªå¯¹ç­‰å®ä½“è¿›è¡Œé€šä¿¡çš„è§„åˆ™çš„é›†åˆï¼Œåè®®æ˜¯â€œæ°´å¹³çš„â€</li><li>ä»»ä¸€å±‚å®ä½“éœ€è¦ä½¿ç”¨ä¸‹å±‚æœåŠ¡ï¼Œéµå¾ªæœ¬å±‚åè®®ï¼Œå®ç°æœ¬å±‚åŠŸèƒ½ï¼Œå‘ä¸Šå±‚æä¾›æœåŠ¡ï¼ŒæœåŠ¡æ˜¯â€œå‚ç›´çš„â€</li><li>ä¸‹å±‚åè®®çš„å®ç°å¯¹ä¸Šå±‚çš„æœåŠ¡ç”¨æˆ·æ˜¯é€æ˜çš„</li><li>åŒç³»ç»Ÿçš„ç›¸é‚»å±‚å®ä½“é—´é€šè¿‡æ¥å£è¿›è¡Œäº¤äº’ï¼Œé€šè¿‡æœåŠ¡è®¿é—®ç‚¹SAPï¼ˆService Access Pointï¼‰ï¼Œäº¤æ¢åŸè¯­ï¼ŒæŒ‡å®šè¯·æ±‚çš„ç‰¹å®šæœåŠ¡</li></ul></li></ul><h4 id="5-2-OSIå‚è€ƒæ¨¡å‹"><a href="#5-2-OSIå‚è€ƒæ¨¡å‹" class="headerlink" title="5.2 OSIå‚è€ƒæ¨¡å‹"></a>5.2 OSIå‚è€ƒæ¨¡å‹</h4><ul><li><p>OSIå‚è€ƒæ¨¡å‹</p><ul><li><p>å¼€æ”¾ç³»ç»Ÿäº’è”ï¼ˆOSIï¼‰å‚è€ƒæ¨¡å‹æ˜¯ç”±å›½é™…æ ‡å‡†åŒ–ç»„ç»‡(ISO)äº1984å¹´æå‡ºçš„åˆ†å±‚ç½‘ç»œä½“ç³»ç»“æ„æ¨¡å‹<br>ç›®çš„æ˜¯æ”¯æŒå¼‚æ„ç½‘ç»œç³»ç»Ÿçš„äº’è”äº’é€š<br>å¼‚æ„ç½‘ç»œç³»ç»Ÿäº’è¿çš„å›½é™…æ ‡å‡†ç†è§£ç½‘ç»œé€šä¿¡çš„æœ€ä½³å­¦ä¹ å·¥å…·(ç†è®ºæ¨¡å‹)</p><blockquote><p>ç†è®ºæˆåŠŸï¼Œå¸‚åœºå¤±è´¥</p></blockquote><p>7å±‚(åŠŸèƒ½ï¼‰,æ¯å±‚å®Œæˆç‰¹å®šçš„ç½‘ç»œåŠŸèƒ½</p></li></ul></li></ul><p><img src="/2021/04/05/jsjwl01/image-20210331182931687.png" alt="image-20210331182931687"></p><ul><li>OSIé€šä¿¡è¿‡ç¨‹</li></ul><p><img src="/2021/04/05/jsjwl01/image-20210331183505710.png" alt="image-20210331183505710"></p><blockquote><p>å‰å››å±‚ç§°ä¸ºâ€œç«¯åˆ°ç«¯å±‚ï¼ˆend-endï¼‰â€</p></blockquote><ul><li><p>æ•°æ®å°è£…ä¸è§£å°è£…</p><p><img src="/2021/04/05/jsjwl01/image-20210331183955509.png" alt="image-20210331183955509"></p><ul><li>ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®å°è£…ï¼Ÿ<ul><li>å¢åŠ æ§åˆ¶ä¿¡æ¯<ul><li>æ„é€ åè®®æ•°æ®å•å…ƒï¼ˆPDUï¼‰</li></ul></li><li>æ§åˆ¶ä¿¡æ¯ä¸»è¦åŒ…æ‹¬<ul><li>åœ°å€ï¼ˆAddressï¼‰ï¼šæ ‡è¯†å‘é€ç«¯/æ¥å—ç«¯</li><li>å·®é”™æ£€æµ‹ç¼–ç ï¼ˆError-detecting codeï¼‰ï¼šç”¨äºå·®é”™æ£€æµ‹æˆ–è€…çº æ­£ï¼ˆæœ‰çš„åè®®æœ‰ï¼Œæœ‰çš„åè®®æ²¡æœ‰ï¼‰</li><li>åè®®æ§åˆ¶ï¼ˆProtocol controlï¼‰ï¼šå®ç°åè®®åŠŸèƒ½çš„é™„åŠ ä¿¡æ¯ï¼Œå¦‚ï¼šä¼˜å…ˆçº§ï¼ˆpriorityï¼‰ã€æœåŠ¡è´¨é‡ï¼ˆQosï¼‰å’Œå®‰å…¨æ§åˆ¶ç­‰</li></ul></li></ul></li></ul></li><li><p>ç‰©ç†å±‚åŠŸèƒ½</p><p><img src="/2021/04/05/jsjwl01/image-20210331184757076.png" alt="image-20210331184757076"></p><ul><li>æ¥å£ç‰¹æ€§<ul><li>æœºæ¢°ç‰¹æ€§ã€ç”µæ°”ç‰¹æ€§ã€åŠŸèƒ½ç‰¹æ€§ã€è§„ç¨‹ç‰¹æ€§</li></ul></li><li>æ¯”ç‰¹ç¼–ç </li><li>æ•°æ®ç‡</li><li>æ¯”ç‰¹åŒæ­¥<ul><li>æ—¶é’ŸåŒæ­¥</li></ul></li><li>ä¼ è¾“æ¨¡å¼<ul><li>å•å·¥ï¼ˆSimplexï¼‰ï¼šåªèƒ½å•å‘ä¼ è¾“</li><li>åŠåŒå·¥ï¼ˆhalf-duplexï¼‰ï¼šå¯ä»¥åŒå‘è¿›è¡Œï¼Œä½†æ˜¯åŒä¸€æ—¶åˆ»åªèƒ½ä¸€ä¸ªæ–¹å‘è¿›è¡Œ</li><li>å…¨åŒå·¥ï¼ˆfull-duplexï¼‰ï¼šå¯ä»¥åŒæ—¶è¿›è¡ŒåŒå‘ä¼ è¾“</li></ul></li></ul></li><li><p>æ•°æ®é“¾è·¯å±‚åŠŸèƒ½</p><p><img src="/2021/04/05/jsjwl01/image-20210331185211807.png" alt="image-20210331185211807"></p><ul><li>è´Ÿè´£ç»“ç‚¹-ç»“ç‚¹ï¼ˆnode-to-nodeï¼‰æ•°æ®ä¼ è¾“</li><li>ç»„å¸§ï¼ˆFramingï¼‰ï¼ŒåŠ å¤´åŠ å°¾ï¼Œä¸ºäº†æ¥æ”¶ç«¯ç‰©ç†å±‚å¯ä»¥åˆ‡åˆ†æ•°æ®æµæˆå¸§</li><li>ç‰©ç†å¯»å€ï¼ˆPhysical addressingï¼‰<ul><li>åœ¨å¸§å¤´ä¸­å¢åŠ å‘é€ç»“ç‚¹å’Œ/æˆ–æ¥å—ç»“ç‚¹çš„ç‰©ç†åœ°å€æ ‡è¯†æ•°æ®å¸§çš„å‘é€å’Œ/æ¥æ”¶ç«¯</li></ul></li><li>æµé‡æ§åˆ¶ï¼ˆFlow controlï¼‰<ul><li>é¿å…æ·¹æ²¡æ¥å—ç«¯</li></ul></li><li>å·®é”™æ§åˆ¶ï¼ˆError controlï¼‰<ul><li>æ£€æµ‹å¹¶é‡ä¼ æŸåæˆ–ä¸¢å¤±å¸§ï¼Œå¹¶é¿å…é‡å¤å¸§</li></ul></li><li>è®¿é—®ï¼ˆæ¥å…¥ï¼‰æ§åˆ¶ï¼ˆAccess controlï¼‰<ul><li>åœ¨ä»»ä¸€ç»™å®šæ—¶åˆ»å†³å®šå“ªä¸ªè®¾å¤‡æ‹¥æœ‰é“¾è·¯ï¼ˆç‰©ç†ä»‹è´¨ï¼‰æ§åˆ¶ä½¿ç”¨æƒ</li></ul></li></ul></li><li><p>ç½‘ç»œå±‚åŠŸèƒ½</p><p><img src="/2021/04/05/jsjwl01/image-20210331190332672.png" alt="image-20210331190332672"></p><ul><li>è´Ÿè´£æºä¸»æœºåˆ°ç›®çš„ä¸»æœºæ•°æ®åˆ†ç»„ï¼ˆpacketï¼‰äº¤ä»˜<ul><li>å¯èƒ½ç©¿è¶Šå¤šä¸ªç½‘ç»œâ€“é€»è¾‘å¯»å€</li></ul></li><li>é€»è¾‘å¯»å€ï¼ˆLogical addressingï¼‰<ul><li>å…¨å±€å”¯ä¸€é€»è¾‘åœ°å€ï¼Œç¡®ä¿æ•°æ®åˆ†ç»„è¢«é€è¾¾ç›®çš„ä¸»æœºï¼Œå¦‚IPåœ°å€</li></ul></li><li>è·¯ç”±ï¼ˆRoutingï¼‰<ul><li>è·¯ç”±å™¨ï¼ˆæˆ–ç½‘å…³ï¼‰äº’è¿ç½‘ç»œï¼Œå¹¶è·¯ç”±åˆ†ç»„è‡³æœ€ç»ˆç›®çš„ä¸»æœº</li><li>è·¯å¾„é€‰æ‹©</li></ul></li><li>åˆ†ç»„è½¬å‘</li></ul></li></ul><p><img src="/2021/04/05/jsjwl01/image-20210331190643191.png" alt="image-20210331190643191"></p><blockquote><p>çº¢è‰²Sã€Aç­‰è¡¨ç¤ºç½‘ç»œå±‚åœ°å€ï¼ˆé€»è¾‘åœ°å€ï¼‰ä¸å˜ï¼Œç»¿è‰²02ã€27ç­‰è¡¨ç¤ºæ•°æ®é“¾è·¯å±‚åœ°å€ï¼ˆç‰©ç†åœ°å€ï¼‰ä¼šæ”¹å˜</p></blockquote><ul><li><p>ä¼ è¾“å±‚åŠŸèƒ½</p><p>è´Ÿè´£æº-ç›®çš„ï¼ˆç«¯-ç«¯ï¼‰ï¼ˆè¿›ç¨‹é—´ï¼‰å®Œæ•´æŠ¥æ–‡ä¼ è¾“</p><p><img src="/2021/04/05/jsjwl01/image-20210331191041188.png" alt="image-20210331191041188"></p><ul><li><p>åˆ†æ®µä¸é‡ç»„</p></li><li><p>SAPå¯»å€</p><ul><li>ç¡®ä¿å°†å®Œæ•´æŠ¥æ–‡æäº¤ç»™æ­£ç¡®çš„è¿›ç¨‹ï¼Œå¦‚ç«¯å£å·</li></ul><p><img src="/2021/04/05/jsjwl01/image-20210331191406873.png" alt="image-20210331191406873"></p></li><li><p>è¿æ¥æ§åˆ¶  ï¼ˆé€»è¾‘è¿æ¥ï¼Œä¸æ˜¯ç”µè·¯è¿æ¥ï¼‰</p></li><li><p>æµé‡æ§åˆ¶ï¼ˆç«¯åˆ°ç«¯ï¼‰</p></li><li><p>å·®é”™æ§åˆ¶</p></li></ul></li><li><p>ä¼šè¯å±‚åŠŸèƒ½</p><p><img src="/2021/04/05/jsjwl01/image-20210331191850256.png" alt="image-20210331191850256"></p><ul><li>å¯¹è¯æ§åˆ¶ï¼ˆdialog controllingï¼‰<ul><li>å»ºç«‹ã€ç»´æŠ¤</li></ul></li><li>åŒæ­¥ï¼ˆsynchronizationï¼‰<ul><li>åœ¨æ•°æ®æµä¸­æ’å…¥â€œåŒæ­¥ç‚¹â€ï¼ˆsynï¼‰ï¼Œå¯ä»¥åœ¨å¯¹è¯å‡ºç°å·®é”™æ—¶å°±è¿‘æ¢å¤</li></ul></li></ul></li><li><p>è¡¨ç¤ºå±‚åŠŸèƒ½</p><p>å¤„ç†ä¸¤ä¸ªç³»ç»Ÿé—´äº¤æ¢ä¿¡æ¯çš„è¯­æ³•ä¸è¯­ä¹‰ï¼ˆsyntax and semanticsï¼‰é—®é¢˜</p><p><img src="/2021/04/05/jsjwl01/image-20210331191950105.png" alt="image-20210331191950105"></p><ul><li>æ•°æ®è¡¨ç¤ºè½¬æ¢<ul><li>å‘é€ç«¯å°†ä¿¡æ¯è½¬åŒ–ä¸ºä¸€ç§ç‹¬ç«‹çš„ä¸ä¾èµ–äºä¸»æœºçš„ç¼–ç ï¼Œæ¥æ”¶ç«¯æ¥æ”¶åˆ°åå°†è¿™ç§ç¼–ç å†è½¬æ¢ä¸ºè‡ªèº«çš„ç¼–ç ä¿¡æ¯</li></ul></li><li>åŠ å¯†/è§£å¯†</li><li>å‹ç¼©/è§£å‹ç¼©</li></ul></li><li><p>åº”ç”¨å±‚åŠŸèƒ½</p><p><img src="/2021/04/05/jsjwl01/image-20210331192404895.png" alt="image-20210331192404895"></p><ul><li>æ”¯æŒç”¨æˆ·é€šè¿‡ç”¨æˆ·ä»£ç†ï¼ˆå¦‚æµè§ˆå™¨ï¼‰æˆ–ç½‘ç»œæ¥å£ä½¿ç”¨ç½‘ç»œï¼ˆæœåŠ¡ï¼‰</li></ul></li></ul><h4 id="5-3-TCP-IPå‚è€ƒæ¨¡å‹"><a href="#5-3-TCP-IPå‚è€ƒæ¨¡å‹" class="headerlink" title="5.3 TCP/IPå‚è€ƒæ¨¡å‹"></a>5.3 TCP/IPå‚è€ƒæ¨¡å‹</h4><p><img src="/2021/04/05/jsjwl01/image-20210331192847062.png" alt="image-20210331192847062"></p><p><img src="/2021/04/05/jsjwl01/image-20210331192902759.png" alt="image-20210331192902759"></p><blockquote><p>ç½‘ç»œæ¥å£å±‚æ— å…·ä½“åè®®ï¼Œæ˜¯é“¾è·¯å±‚çš„ç®€åŒ–</p></blockquote><h4 id="5-4-äº”å±‚å‚è€ƒæ¨¡å‹"><a href="#5-4-äº”å±‚å‚è€ƒæ¨¡å‹" class="headerlink" title="5.4 äº”å±‚å‚è€ƒæ¨¡å‹"></a>5.4 äº”å±‚å‚è€ƒæ¨¡å‹</h4><blockquote><p>ç»¼åˆOSIï¼ˆç†è®ºæ¸…æ™°ï¼‰å’ŒTCP/IPï¼ˆå®ç”¨ï¼Œå¦‚ä»Šçš„Internetå°±æ˜¯è¿™æ ·çš„ç»“æ„ï¼‰çš„ä¼˜ç‚¹</p></blockquote><p>å„å±‚çš„æ‰€æœ‰åè®®ç»„åˆèµ·æ¥ï¼Œç§°ä¸º<strong>åè®®æ ˆ</strong>ã€‚å› ç‰¹ç½‘çš„åè®®æ ˆæœ‰5ä¸ªå±‚æ¬¡ç»„æˆï¼šç‰©ç†å±‚ã€é“¾è·¯å±‚ã€ç½‘ç»œæˆã€ä¼ è¾“å±‚ã€åº”ç”¨å±‚</p><p><strong>åº”ç”¨å±‚</strong>ï¼šåº”ç”¨å±‚åè®®åˆ†å¸ƒåœ¨å¤šä¸ªç«¯ç³»ç»Ÿï¼Œç«¯ç³»ç»Ÿä¸­çš„åº”ç”¨ç¨‹åºä½¿ç”¨è¯¥åè®®ä¸å¦ä¸€ä¸ªç«¯ç³»ç»Ÿä¸­çš„åº”ç”¨ç¨‹åºé€šä¿¡ã€‚å¤„äºåº”ç”¨å±‚çš„åˆ†ç»„ç§°ä¸ºæŠ¥æ–‡ï¼›<br><strong>ä¼ è¾“å±‚</strong>ï¼šä¼ è¾“å±‚åœ¨åº”ç”¨ç¨‹åºç«¯ç‚¹ä¹‹é—´ä¼ è¾“åº”ç”¨å±‚æŠ¥æ–‡ï¼Œå› ç‰¹ç½‘ä¸­æœ‰ä¸¤ä¸ªä¼ è¾“å±‚åè®®ï¼šTCPå’ŒUDPã€‚å¤„äºä¼ è¾“å±‚çš„åˆ†ç»„ç§°ä¸ºæŠ¥æ–‡æ®µã€‚TCPæä¾›ç¡®ä¿ä¼ é€’ã€æµé‡æ§åˆ¶ã€æ‹¥å¡æ§åˆ¶æœºåˆ¶ã€‚UDPæä¾›æ— è¿æ¥æœåŠ¡ï¼Œå³ä¸æä¾›ä¸å¿…è¦æœåŠ¡çš„æœåŠ¡ã€‚æ²¡æœ‰å¯é æ€§ã€æ²¡æœ‰æµé‡å’Œæ‹¥å¡æ§åˆ¶ã€‚<br><strong>ç½‘ç»œå±‚</strong>ï¼šç½‘ç»œå±‚å°†ç§°ä¸ºæ•°æ®æŠ¥çš„ç½‘ç»œå±‚åˆ†ç»„ä»ä¸€å°ä¸»æœºç§»åŠ¨åˆ°å¦ä¸€å°ä¸»æœºã€‚ç½‘ç»œå±‚åè®®åŒ…å«è‘—åçš„IPåè®®ä»¥åŠå…¶ä»–ä¸€äº›è·¯ç”±é€‰æ‹©åè®®ã€‚æ•°æ®æŠ¥<br><strong>é“¾è·¯å±‚</strong>ï¼šé“¾è·¯å±‚å°†ç§°ä¸ºå¸§çš„é“¾è·¯å±‚åˆ†ç»„ä»ä¸€ä¸ªç»“ç‚¹ç§»åŠ¨åˆ°è·¯å¾„ä¸Šçš„å¦ä¸€ä¸ªç«¯ç‚¹ã€‚ä¸€ä¸ªå¸§å¯èƒ½è¢«æ²¿é€”ä¸åŒé“¾è·¯ä¸Šçš„ä¸åŒé“¾è·¯å±‚åè®®å¤„ç†ã€‚å¸§<br><strong>ç‰©ç†å±‚</strong>ï¼šç‰©ç†å±‚çš„ä»»åŠ¡æ˜¯å°†å¸§ä¸­çš„æ¯”ç‰¹ä»ä¸€ä¸ªç»“ç‚¹ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå®ƒæä¾›äº†ä¼ è¾“ä¿¡æ¯çš„å®é™…ç‰©ç†é€šé“ï¼›<br><img src="/2021/04/05/jsjwl01/image-20210331193222684.png" alt="äº”å±‚å‚è€ƒæ¨¡å‹"></p><ul><li><p>äº”å±‚æ¨¡å‹çš„æ•°æ®å°è£…</p><p>â€‹    <strong>å°è£…</strong>ï¼šä¸€ä¸ªåˆ†ç»„ï¼Œåœ¨ä¸åŒçš„å±‚æ¬¡æœ‰ä¸åŒçš„ç§°è°“ï¼Œæ˜¯å› ä¸ºå®ƒä»¬ç»è¿‡æ¯ä¸€å±‚çš„æ—¶å€™å°±è¢«è¯¥å±‚å°è£…ä¸Šäº†å±äºè¯¥å±‚çš„ç›¸å…³ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯å‰é¢æåˆ°çš„å¿…è¦ä¿¡æ¯ï¼›äºæ˜¯ï¼Œæ¯ä¸€åˆ†å±‚çš„åˆ†ç»„æœ‰ä¸¤ç§ç±»å‹çš„å­—æ®µï¼šé¦–éƒ¨å­—æ®µå’Œæœ‰æ•ˆè´Ÿè½½ï¼›å…¶ä¸­æœ‰æ•ˆè´Ÿè½½å³ä¸ºæ¥è‡ªä¸Šä¸€å±‚çš„åˆ†ç»„æ•°æ®ï¼Œè€Œé¦–éƒ¨å­—æ®µå°±æ˜¯è¯¥å±‚åŠ ä¸Šçš„å¿…è¦ä¿¡æ¯ï¼›åˆ†ç»„ä¸æ–­è¢«å°è£…ä»¥å®ç°å„å±‚åè®®è§„å®šçš„ç›¸å…³åŠŸèƒ½ã€‚</p><p>â€‹    å¯¹ç­‰å±‚åè®®ä¹‹é—´äº¤æ¢çš„ä¿¡æ¯å•å…ƒç»Ÿç§°ä¸ºåè®®æ•°æ®å•å…ƒ(PDU,Protocol Data Unit)</p><p><img src="/2021/04/05/jsjwl01/image-20210331193541952.png" alt="å°è£…/è§£å°è£…"></p></li><li><p>åº”ç”¨å±‚â€”â€” æŠ¥æ–‡       ä¼ è¾“å±‚â€”â€”æŠ¥æ–‡æ®µï¼ˆSegmentï¼‰ ã€€ã€€ç½‘ç»œå±‚â€”â€”åˆ†ç»„ï¼ˆæ•°æ®åŒ…ï¼‰ï¼ˆPacketï¼‰ ã€€ã€€æ•°æ®é“¾è·¯å±‚â€”â€”æ•°æ®å¸§ï¼ˆFrameï¼‰ ã€€ã€€ç‰©ç†å±‚â€”â€”æ¯”ç‰¹ï¼ˆBitï¼‰</p><blockquote><p><font color="red">è¿™å‡ ä¸ªæ•°æ®ä¹‹é—´çš„å…³ç³»ï¼Œæ˜¯è¶Šæ¥è¶Šå°ï¼Œè¿˜æ˜¯è¶Šæ¥è¶Šå¤§ï¼Ÿ</font></p><p>é¦–å…ˆæ•°æ®åœ¨åº”ç”¨å±‚åŠ å¤´å˜æˆæŠ¥æ–‡ï¼›æŠ¥æ–‡åœ¨ä¼ è¾“å±‚å¯èƒ½ä¼šè¢«åˆ†ç»„ï¼Œç„¶ååŠ å¤´å˜æˆæŠ¥æ–‡æ®µï¼›ç½‘ç»œå±‚æ¯ä¸ªæŠ¥æ–‡æ®µä¹Ÿå¯èƒ½è¢«åˆ†æ®µï¼Œç„¶åæ¯æ®µåŠ ä¸ŠåŸæŠ¥æ–‡æ®µçš„å¤´éƒ¨ï¼Œå†åŠ ä¸Šç½‘ç»œå±‚çš„å¤´å˜æˆæ•°æ®æŠ¥ï¼›æ•°æ®é“¾è·¯å±‚æ¯ä¸ªæ•°æ®æŠ¥åŠ å¤´åŠ å°¾å˜æˆæ•°æ®å¸§ï¼›ç‰©ç†å±‚é€šè¿‡æ•°æ®é“¾è·¯å±‚çš„macçŸ¥é“å¾€å“ªé‡Œå‘ï¼Œå°±é€šè¿‡ç‰©ç†é“¾è·¯ä¼ è¾“ã€‚</p><p><strong>æ•°æ®çš„æ•´æ¡å‘é€é“¾æ˜¯ï¼š</strong></p><p>1ã€æŸè¿›ç¨‹(ä¹Ÿå°±æ˜¯åœ¨åº”ç”¨å±‚)å‡†å¤‡å¥½å¾…ä¼ è¾“æ•°æ®ï¼Œè‹¥ç›®çš„åœ°å€æ˜¯åŸŸååˆ™è¦å…ˆé€šè¿‡DNSè§£ææˆIPåœ°å€</p><p>2ã€äº¤ä»˜åˆ°è¿è¾“å±‚(TCP/UDPå±‚)ï¼Œè¿è¾“å±‚å¯¹æ•°æ®è¿›è¡Œé€‚å½“çš„åˆ†ç»„ç­‰æ“ä½œï¼Œåå¯¹æ¯ä¸€ä¸ªåˆ†ç»„æ•°ç»„åŠ ä¸Šé¦–éƒ¨å½¢æˆæŠ¥æ–‡æ®µ(æˆ–ç”¨æˆ·æ•°æ®æŠ¥)é¦–éƒ¨åŒ…æ‹¬æºåœ°å€ã€æºç«¯å£ã€ç›®çš„åœ°å€ã€ç›®çš„ç«¯å£å’Œä¸€äº›å…¶ä»–çš„è¯¸å¦‚æ ¡éªŒå’Œç­‰æ•°æ®</p><p>3ã€äº¤ä»˜åˆ°ç½‘é™…å±‚(IPå±‚)ï¼Œå¯¹åˆ†ç»„æ•°æ®åŠ ä¸Šé¦–éƒ¨å½¢æˆIPæ•°æ®æŠ¥ï¼Œé¦–éƒ¨åŒ…æ‹¬æºåœ°å€ã€ç›®çš„åœ°å€(è·Ÿè¿è¾“å±‚çš„ç›®çš„åœ°å€ä¸åŒï¼Œè¿è¾“å±‚çš„ç›®çš„åœ°å€æ˜¯æ•°æ®è¦ä¼ é€çš„æœ€ç»ˆåœ°å€ï¼Œè€Œè¯¥ç›®çš„åœ°å€æ˜¯é€šè¿‡è·¯ç”±è¡¨ä¿¡æ¯å¾—å‡ºï¼Œæ˜¯è¯¥æ•°æ®ä¸‹ä¸€æ­¥è¯¥è½¬ç§»çš„ç›®çš„è®¡ç®—æœº)å’Œæ ¡éªŒå’Œç­‰æ•°æ®</p><p>4ã€äº¤ä»˜åˆ°æ•°æ®é“¾è·¯å±‚(macå±‚)ï¼Œå…ˆæ˜¯å¯¹æŠŠæ•°æ®å°è£…æˆå¸§(ä¹Ÿå°±æ˜¯æ·»åŠ é¦–éƒ¨[SOH]å’Œå°¾éƒ¨[EOT])ï¼Œç„¶åè¿›è¡Œé€æ˜ä¼ è¾“(ä¹Ÿå°±æ˜¯å°è£…çš„æ•°æ®é‡Œé¢ï¼Œå¦‚æœå‡ºç°é¦–éƒ¨SOHå’Œå°¾éƒ¨EOTè¿™æ ·çš„æ•°æ®ï¼Œå¯¹å…¶è¿›è¡Œè½¬ä¹‰ï¼Œä¹Ÿå°±æ˜¯åŠ ä¸ŠESCè½¬ä¹‰å­—ç¬¦ï¼Œè¿™ç§æ–¹æ³•ç§°ä¸ºå­—èŠ‚/å­—ç¬¦å¡«å……)</p><p>5ã€äº¤ä»˜åˆ°ç‰©ç†å±‚ï¼Œæ ¹æ®æ•°æ®é“¾è·¯å±‚çš„macçŸ¥é“è¦ä¼ è¾“åˆ°ç›®çš„è®¡ç®—æœºï¼Œé€šè¿‡ç‰¹å®šçš„ä¼ è¾“ä»‹è´¨ä¼ é€åˆ°ä¸‹ä¸€ä¸ªåœ°å€</p><p>6ã€è‹¥æºä¸»æœºä¸æœ€ç»ˆç›®çš„ä¸»æœºåœ¨åŒä¸€ä¸ªç½‘æ®µï¼Œåˆ™è¯¥åœ°å€æ˜¯æœ€ç»ˆçš„ç›®çš„ä¸»æœºï¼Œå¼€å§‹æ¥æ”¶æ•°æ®ï¼Œè¿›å…¥ç¬¬7æ­¥éª¤ï¼Œè‹¥æºä¸»æœºå’Œæœ€ç»ˆç›®çš„ä¸»æœºä¸åœ¨åŒä¸€ä¸ªç½‘æ®µï¼Œè¿›å…¥ç¬¬11æ­¥éª¤</p><p>7ã€äº¤ä»˜åˆ°æ•°æ®é“¾è·¯å±‚ï¼Œå¯¹æ•°æ®è¿›è¡Œå¸è£…ï¼Œè¯¥å±‚ä¼šå¯¹æ¥æ”¶çš„æ•°æ®è¿›è¡Œå·®é”™æ£€æµ‹ï¼Œæœ‰å·®é”™çš„æ•°æ®éƒ½ä¼šè¢«ä¸¢å¼ƒ</p><p>8ã€äº¤ä»˜åˆ°IPå±‚ï¼Œè§£å¸§æ ¡éªŒ</p><p>9ã€äº¤ä»˜åˆ°è¿è¾“å±‚ï¼Œåœ¨è¯¥ä¸»æœºä¸Šï¼Œæ ¹æ®ç«¯å£æ‰¾åˆ°å¯¹åº”çš„åº”ç”¨ï¼Œå½“ä½¿ç”¨çš„TCPåè®®æ—¶ï¼Œæä¾›ä¸€ç§é¢å‘è¿æ¥çš„å¯é çš„ä¼ è¾“æœåŠ¡ï¼Œå¯ä»¥è¯´æ˜¯å»ºç«‹äº†ä¸€ä¸ªè™šæ‹Ÿé€šé“ï¼Œæºä¸»æœºçš„æ•°æ®é€šè¿‡è¯¥è™šæ‹Ÿé€šé“è¿›è¡Œä¼ è¾“ï¼›è‹¥æ˜¯ä½¿ç”¨çš„UDPåè®®æ—¶ï¼Œæä¾›ä¸€ç§é¢å‘çš„éè¿æ¥çš„å°½æœ€å¤§åŠªåŠ›çš„ä¸å¯é çš„ä¼ è¾“æœåŠ¡ï¼Œæ•°æ®ä¼ è¾“å¿«ï¼Œä½†æ˜¯æ— æ³•ä¿è¯æ•°æ®100%ä¼ è¾“ã€‚</p><p>10ã€å»ºç«‹äº†ä¼ è¾“è¿æ¥åï¼Œåº”ç”¨å¼€å§‹æ¥æ”¶æ•°æ®ï¼Œå‘é€æ–¹æ•°æ®å’Œæ¥æ”¶æ–¹éƒ½å¿…é¡»æ»¡è¶³ç›¸åŒçš„æ ‡å‡†åº”ç”¨å±‚åè®®ï¼Œå¦‚httpã€ftpã€smtpç­‰ï¼Œé€šè¿‡æ ‡å‡†åè®®åº”ç”¨å³å¯æ­£ç¡®çš„æ¥æ”¶æºä¸»æœºå‘é€è¿‡æ¥çš„æ•°æ®ã€‚</p><p>11ã€è¯¥è®¡ç®—æœºä¸æ˜¯æœ€ç»ˆä¸»æœºï¼Œé‚£è¯¥è®¡ç®—æœºå°±æ˜¯è·¯ç”±å™¨ä¹Ÿå°±æ˜¯ç”¨äºè½¬å‘åˆ†ç»„æ•°æ®çš„ä¸­è½¬ç«™ï¼Œé¦–å…ˆæ¥æ”¶æ•°æ®çš„å¤„ç†åŒæ­¥éª¤7å’Œ8ä¸€æ ·ï¼Œç„¶åæ¥ä¸‹æ¥çš„æµç¨‹åˆæ˜¯å¦‚åŒæ­¥éª¤3è·¯ç”±å™¨é€šè¿‡IPæ‰¾ä¸‹ä¸€ä¸ªä¸»æœº</p><p>12ã€å¦‚æ­¤å¾ªç¯ç›´è‡³æ‰¾åˆ°æœ€ç»ˆä¸»æœºï¼Œå°†æ•°æ®ä¼ é€åˆ°ç›®çš„åº”ç”¨</p><p><img src="/2021/04/05/jsjwl01/20150704155319778" alt="ä¸»æœºä¹‹é—´æ•°æ®ä¼ è¾“è¿‡ç¨‹"></p></blockquote></li></ul><h3 id="6-è®¡ç®—æœºç½‘ç»œä¸Internetå‘å±•å†å²"><a href="#6-è®¡ç®—æœºç½‘ç»œä¸Internetå‘å±•å†å²" class="headerlink" title="6.è®¡ç®—æœºç½‘ç»œä¸Internetå‘å±•å†å²"></a>6.è®¡ç®—æœºç½‘ç»œä¸Internetå‘å±•å†å²</h3><p><img src="/2021/04/05/jsjwl01/image-20210331193804005.png" alt="image-20210331193804005"></p><p><img src="/2021/04/05/jsjwl01/image-20210331194018327.png" alt="image-20210331194018327"></p><p><img src="/2021/04/05/jsjwl01/image-20210331194416382.png" alt="image-20210331194416382"></p><p><img src="/2021/04/05/jsjwl01/image-20210331194554759.png" alt="image-20210331194554759"></p><p><img src="/2021/04/05/jsjwl01/image-20210331194816888.png" alt="image-20210331194816888"></p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¡ç®—æœºç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
